(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function d_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m_={exports:{}},Au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA=Symbol.for("react.transitional.element"),KA=Symbol.for("react.fragment");function g_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:YA,type:e,key:i,ref:t!==void 0?t:null,props:n}}Au.Fragment=KA;Au.jsx=g_;Au.jsxs=g_;m_.exports=Au;var f=m_.exports,p_={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=Symbol.for("react.transitional.element"),QA=Symbol.for("react.portal"),XA=Symbol.for("react.fragment"),$A=Symbol.for("react.strict_mode"),JA=Symbol.for("react.profiler"),ZA=Symbol.for("react.consumer"),WA=Symbol.for("react.context"),t1=Symbol.for("react.forward_ref"),e1=Symbol.for("react.suspense"),n1=Symbol.for("react.memo"),y_=Symbol.for("react.lazy"),i1=Symbol.for("react.activity"),Dg=Symbol.iterator;function a1(e){return e===null||typeof e!="object"?null:(e=Dg&&e[Dg]||e["@@iterator"],typeof e=="function"?e:null)}var __={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,v_={};function Tr(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||__}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T_(){}T_.prototype=Tr.prototype;function $f(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||__}var Jf=$f.prototype=new T_;Jf.constructor=$f;E_(Jf,Tr.prototype);Jf.isPureReactComponent=!0;var Og=Array.isArray;function wh(){}var Ct={H:null,A:null,T:null,S:null},b_=Object.prototype.hasOwnProperty;function Zf(e,t,n){var i=n.ref;return{$$typeof:Xf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function r1(e,t){return Zf(e.type,t,e.props)}function Wf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xf}function s1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mg=/\/+/g;function Ic(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s1(""+e.key):t.toString(36)}function l1(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(wh,wh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Na(e,t,n,i,a){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Xf:case QA:s=!0;break;case y_:return s=e._init,Na(s(e._payload),t,n,i,a)}}if(s)return a=a(e),s=i===""?"."+Ic(e,0):i,Og(a)?(n="",s!=null&&(n=s.replace(Mg,"$&/")+"/"),Na(a,t,n,"",function(h){return h})):a!=null&&(Wf(a)&&(a=r1(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Mg,"$&/")+"/")+s)),t.push(a)),1;s=0;var o=i===""?".":i+":";if(Og(e))for(var u=0;u<e.length;u++)i=e[u],r=o+Ic(i,u),s+=Na(i,t,n,r,a);else if(u=a1(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+Ic(i,u++),s+=Na(i,t,n,r,a);else if(r==="object"){if(typeof e.then=="function")return Na(l1(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ll(e,t,n){if(e==null)return e;var i=[],a=0;return Na(e,i,"","",function(r){return t.call(n,r,a++)}),i}function o1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},u1={map:Ll,forEach:function(e,t,n){Ll(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ll(e,function(){t++}),t},toArray:function(e){return Ll(e,function(t){return t})||[]},only:function(e){if(!Wf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Activity=i1;it.Children=u1;it.Component=Tr;it.Fragment=XA;it.Profiler=JA;it.PureComponent=$f;it.StrictMode=$A;it.Suspense=e1;it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ct;it.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ct.H.useMemoCache(e)}};it.cache=function(e){return function(){return e.apply(null,arguments)}};it.cacheSignal=function(){return null};it.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=E_({},e.props),a=e.key;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)!b_.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var s=Array(r),o=0;o<r;o++)s[o]=arguments[o+2];i.children=s}return Zf(e.type,a,i)};it.createContext=function(e){return e={$$typeof:WA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ZA,_context:e},e};it.createElement=function(e,t,n){var i,a={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)b_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return Zf(e,r,a)};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:t1,render:e}};it.isValidElement=Wf;it.lazy=function(e){return{$$typeof:y_,_payload:{_status:-1,_result:e},_init:o1}};it.memo=function(e,t){return{$$typeof:n1,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=Ct.T,n={};Ct.T=n;try{var i=e(),a=Ct.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(wh,Vg)}catch(r){Vg(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ct.T=t}};it.unstable_useCacheRefresh=function(){return Ct.H.useCacheRefresh()};it.use=function(e){return Ct.H.use(e)};it.useActionState=function(e,t,n){return Ct.H.useActionState(e,t,n)};it.useCallback=function(e,t){return Ct.H.useCallback(e,t)};it.useContext=function(e){return Ct.H.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e,t){return Ct.H.useDeferredValue(e,t)};it.useEffect=function(e,t){return Ct.H.useEffect(e,t)};it.useEffectEvent=function(e){return Ct.H.useEffectEvent(e)};it.useId=function(){return Ct.H.useId()};it.useImperativeHandle=function(e,t,n){return Ct.H.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return Ct.H.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return Ct.H.useLayoutEffect(e,t)};it.useMemo=function(e,t){return Ct.H.useMemo(e,t)};it.useOptimistic=function(e,t){return Ct.H.useOptimistic(e,t)};it.useReducer=function(e,t,n){return Ct.H.useReducer(e,t,n)};it.useRef=function(e){return Ct.H.useRef(e)};it.useState=function(e){return Ct.H.useState(e)};it.useSyncExternalStore=function(e,t,n){return Ct.H.useSyncExternalStore(e,t,n)};it.useTransition=function(){return Ct.H.useTransition()};it.version="19.2.3";p_.exports=it;var K=p_.exports;const c1=d_(K);var A_={exports:{}},Su={},S_={exports:{}},x_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,J){var $=G.length;G.push(J);t:for(;0<$;){var F=$-1>>>1,Y=G[F];if(0<a(Y,J))G[F]=J,G[$]=Y,$=F;else break t}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var J=G[0],$=G.pop();if($!==J){G[0]=$;t:for(var F=0,Y=G.length,At=Y>>>1;F<At;){var W=2*(F+1)-1,U=G[W],ht=W+1,k=G[ht];if(0>a(U,$))ht<Y&&0>a(k,U)?(G[F]=k,G[ht]=$,F=ht):(G[F]=U,G[W]=$,F=W);else if(ht<Y&&0>a(k,$))G[F]=k,G[ht]=$,F=ht;else break t}}return J}function a(G,J){var $=G.sortIndex-J.sortIndex;return $!==0?$:G.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],h=[],m=1,p=null,g=3,y=!1,N=!1,M=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function C(G){for(var J=n(h);J!==null;){if(J.callback===null)i(h);else if(J.startTime<=G)i(h),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(h)}}function P(G){if(M=!1,C(G),!N)if(n(u)!==null)N=!0,H||(H=!0,D());else{var J=n(h);J!==null&&me(P,J.startTime-G)}}var H=!1,v=-1,_=5,b=-1;function S(){return R?!0:!(e.unstable_now()-b<_)}function I(){if(R=!1,H){var G=e.unstable_now();b=G;var J=!0;try{t:{N=!1,M&&(M=!1,A(v),v=-1),y=!0;var $=g;try{e:{for(C(G),p=n(u);p!==null&&!(p.expirationTime>G&&S());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var Y=F(p.expirationTime<=G);if(G=e.unstable_now(),typeof Y=="function"){p.callback=Y,C(G),J=!0;break e}p===n(u)&&i(u),C(G)}else i(u);p=n(u)}if(p!==null)J=!0;else{var At=n(h);At!==null&&me(P,At.startTime-G),J=!1}}break t}finally{p=null,g=$,y=!1}J=void 0}}finally{J?D():H=!1}}}var D;if(typeof x=="function")D=function(){x(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=I,D=function(){ne.postMessage(null)}}else D=function(){T(I,0)};function me(G,J){v=T(function(){G(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var $=g;g=J;try{return G()}finally{g=$}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=g;g=G;try{return J()}finally{g=$}},e.unstable_scheduleCallback=function(G,J,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,G){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,G={id:m++,callback:J,priorityLevel:G,startTime:$,expirationTime:Y,sortIndex:-1},$>F?(G.sortIndex=$,t(h,G),n(u)===null&&G===n(h)&&(M?(A(v),v=-1):M=!0,me(P,$-F))):(G.sortIndex=Y,t(u,G),N||y||(N=!0,H||(H=!0,D()))),G},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(G){var J=g;return function(){var $=g;g=J;try{return G.apply(this,arguments)}finally{g=$}}}})(x_);S_.exports=x_;var h1=S_.exports,w_={exports:{}},Ne={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1=K;function N_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zn(){}var xe={d:{f:Zn,r:function(){throw Error(N_(522))},D:Zn,C:Zn,L:Zn,m:Zn,X:Zn,S:Zn,M:Zn},p:0,findDOMNode:null},d1=Symbol.for("react.portal");function m1(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d1,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ms=f1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;Ne.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(N_(299));return m1(e,t,null,n)};Ne.flushSync=function(e){var t=ms.T,n=xe.p;try{if(ms.T=null,xe.p=2,e)return e()}finally{ms.T=t,xe.p=n,xe.d.f()}};Ne.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,xe.d.C(e,t))};Ne.prefetchDNS=function(e){typeof e=="string"&&xe.d.D(e)};Ne.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=xu(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?xe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:r}):n==="script"&&xe.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ne.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=xu(t.as,t.crossOrigin);xe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&xe.d.M(e)};Ne.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=xu(n,t.crossOrigin);xe.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ne.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=xu(t.as,t.crossOrigin);xe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else xe.d.m(e)};Ne.requestFormReset=function(e){xe.d.r(e)};Ne.unstable_batchedUpdates=function(e,t){return e(t)};Ne.useFormState=function(e,t,n){return ms.H.useFormState(e,t,n)};Ne.useFormStatus=function(){return ms.H.useHostTransitionStatus()};Ne.version="19.2.3";function I_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I_)}catch(e){console.error(e)}}I_(),w_.exports=Ne;var g1=w_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=h1,R_=K,p1=g1;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function D_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kg(e){if(il(e)!==e)throw Error(L(188))}function y1(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return kg(a),e;if(r===i)return kg(a),t;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=a,i=r;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s){for(o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function M_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=M_(e),t!==null)return t;e=e.sibling}return null}var Dt=Object.assign,_1=Symbol.for("react.element"),jl=Symbol.for("react.transitional.element"),as=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),V_=Symbol.for("react.strict_mode"),Nh=Symbol.for("react.profiler"),k_=Symbol.for("react.consumer"),Mn=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),ed=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Ch=Symbol.for("react.activity"),E1=Symbol.for("react.memo_cache_sentinel"),Ug=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=Ug&&e[Ug]||e["@@iterator"],typeof e=="function"?e:null)}var v1=Symbol.for("react.client.reference");function Dh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===v1?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case Nh:return"Profiler";case V_:return"StrictMode";case Ih:return"Suspense";case Rh:return"SuspenseList";case Ch:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case as:return"Portal";case Mn:return e.displayName||"Context";case k_:return(e._context.displayName||"Context")+".Consumer";case td:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ed:return t=e.displayName||null,t!==null?t:Dh(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return Dh(e(t))}catch{}}return null}var rs=Array.isArray,Z=R_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=p1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$i={pending:!1,data:null,method:null,action:null},Oh=[],ka=-1;function bn(e){return{current:e}}function ee(e){0>ka||(e.current=Oh[ka],Oh[ka]=null,ka--)}function wt(e,t){ka++,Oh[ka]=e.current,e.current=t}var pn=bn(null),Ms=bn(null),hi=bn(null),Vo=bn(null);function ko(e,t){switch(wt(hi,t),wt(Ms,e),wt(pn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hp(t),e=eT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(pn),wt(pn,e)}function ir(){ee(pn),ee(Ms),ee(hi)}function Mh(e){e.memoizedState!==null&&wt(Vo,e);var t=pn.current,n=eT(t,e.type);t!==n&&(wt(Ms,e),wt(pn,n))}function Uo(e){Ms.current===e&&(ee(pn),ee(Ms)),Vo.current===e&&(ee(Vo),Fs._currentValue=$i)}var Rc,Lg;function Gi(e){if(Rc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rc=t&&t[1]||"",Lg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rc+e+Lg}var Cc=!1;function Dc(e,t){if(!e||Cc)return"";Cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(y){var g=y}Reflect.construct(e,[],p)}else{try{p.call()}catch(y){g=y}e.call(p.prototype)}}else{try{throw Error()}catch(y){g=y}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],o=r[1];if(s&&o){var u=s.split(`
`),h=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===h.length)for(i=u.length-1,a=h.length-1;1<=i&&0<=a&&u[i]!==h[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==h[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==h[a]){var m=`
`+u[i].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=i&&0<=a);break}}}finally{Cc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Gi(n):""}function T1(e,t){switch(e.tag){case 26:case 27:case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return e.child!==t&&t!==null?Gi("Suspense Fallback"):Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return Dc(e.type,!1);case 11:return Dc(e.type.render,!1);case 1:return Dc(e.type,!0);case 31:return Gi("Activity");default:return""}}function jg(e){try{var t="",n=null;do t+=T1(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Vh=Object.prototype.hasOwnProperty,nd=Jt.unstable_scheduleCallback,Oc=Jt.unstable_cancelCallback,b1=Jt.unstable_shouldYield,A1=Jt.unstable_requestPaint,Ge=Jt.unstable_now,S1=Jt.unstable_getCurrentPriorityLevel,U_=Jt.unstable_ImmediatePriority,L_=Jt.unstable_UserBlockingPriority,Lo=Jt.unstable_NormalPriority,x1=Jt.unstable_LowPriority,j_=Jt.unstable_IdlePriority,w1=Jt.log,N1=Jt.unstable_setDisableYieldValue,al=null,Fe=null;function ri(e){if(typeof w1=="function"&&N1(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(al,e)}catch{}}var qe=Math.clz32?Math.clz32:C1,I1=Math.log,R1=Math.LN2;function C1(e){return e>>>=0,e===0?32:31-(I1(e)/R1|0)|0}var Bl=256,Pl=262144,zl=4194304;function Fi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?a=Fi(i):(s&=o,s!==0?a=Fi(s):n||(n=o&~e,n!==0&&(a=Fi(n))))):(o=i&~r,o!==0?a=Fi(o):s!==0?a=Fi(s):n||(n=i&~e,n!==0&&(a=Fi(n)))),a===0?0:t!==0&&t!==a&&!(t&r)&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function rl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function D1(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B_(){var e=zl;return zl<<=1,!(zl&62914560)&&(zl=4194304),e}function Mc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function O1(e,t,n,i,a,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=s&~n;0<n;){var m=31-qe(n),p=1<<m;o[m]=0,u[m]=-1;var g=h[m];if(g!==null)for(h[m]=null,m=0;m<g.length;m++){var y=g[m];y!==null&&(y.lane&=-536870913)}n&=~p}i!==0&&P_(e,i,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function P_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-qe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function z_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-qe(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function H_(e,t){var n=t&-t;return n=n&42?1:id(n),n&(e.suspendedLanes|t)?0:n}function id(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ad(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function G_(){var e=yt.p;return e!==0?e:(e=window.event,e===void 0?32:fT(e.type))}function Bg(e,t){var n=yt.p;try{return yt.p=e,t()}finally{yt.p=n}}var Di=Math.random().toString(36).slice(2),se="__reactFiber$"+Di,ke="__reactProps$"+Di,br="__reactContainer$"+Di,kh="__reactEvents$"+Di,M1="__reactListeners$"+Di,V1="__reactHandles$"+Di,Pg="__reactResources$"+Di,ll="__reactMarker$"+Di;function rd(e){delete e[se],delete e[ke],delete e[kh],delete e[M1],delete e[V1]}function Ua(e){var t=e[se];if(t)return t;for(var n=e.parentNode;n;){if(t=n[br]||n[se]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kp(e);e!==null;){if(n=e[se])return n;e=Kp(e)}return t}e=n,n=e.parentNode}return null}function Ar(e){if(e=e[se]||e[br]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ss(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Ka(e){var t=e[Pg];return t||(t=e[Pg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function te(e){e[ll]=!0}var F_=new Set,q_={};function da(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(q_[e]=t,e=0;e<t.length;e++)F_.add(t[e])}var k1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zg={},Hg={};function U1(e){return Vh.call(Hg,e)?!0:Vh.call(zg,e)?!1:k1.test(e)?Hg[e]=!0:(zg[e]=!0,!1)}function fo(e,t,n){if(U1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Hl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L1(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uh(e){if(!e._valueTracker){var t=Y_(e)?"checked":"value";e._valueTracker=L1(e,t,""+e[t])}}function K_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Y_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var j1=/[\n"\\]/g;function en(e){return e.replace(j1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Lh(e,t,n,i,a,r,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ze(t)):e.value!==""+Ze(t)&&(e.value=""+Ze(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?jh(e,s,Ze(t)):n!=null?jh(e,s,Ze(n)):i!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ze(o):e.removeAttribute("name")}function Q_(e,t,n,i,a,r,s,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Uh(e);return}n=n!=null?""+Ze(n):"",t=t!=null?""+Ze(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Uh(e)}function jh(e,t,n){t==="number"&&jo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qa(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ze(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function X_(e,t,n){if(t!=null&&(t=""+Ze(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ze(n):""}function $_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(rs(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ze(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Uh(e)}function rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var B1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||B1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function J_(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Gg(e,a,i)}else for(var r in t)t.hasOwnProperty(r)&&Gg(e,r,t[r])}function sd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(e){return z1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vn(){}var Bh=null;function ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,Xa=null;function Fg(e){var t=Ar(e);if(t&&(e=t.stateNode)){var n=e[ke]||null;t:switch(e=t.stateNode,t.type){case"input":if(Lh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+en(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[ke]||null;if(!a)throw Error(L(90));Lh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&K_(i)}break t;case"textarea":X_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Qa(e,!!n.multiple,t,!1)}}}var Vc=!1;function Z_(e,t,n){if(Vc)return e(t,n);Vc=!0;try{var i=e(t);return i}finally{if(Vc=!1,(La!==null||Xa!==null)&&(ju(),La&&(t=La,e=Xa,Xa=La=null,Fg(t),e)))for(t=0;t<e.length;t++)Fg(e[t])}}function Vs(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ke]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ph=!1;if(Bn)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Ph=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Ph=!1}var si=null,od=null,go=null;function W_(){if(go)return go;var e,t=od,n=t.length,i,a="value"in si?si.value:si.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===a[r-i];i++);return go=a.slice(e,1<i?1-i:void 0)}function po(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function qg(){return!1}function Ue(e){function t(n,i,a,r,s){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Gl:qg,this.isPropagationStopped=qg,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Ue(ma),ol=Dt({},ma,{view:0,detail:0}),H1=Ue(ol),kc,Uc,$r,Iu=Dt({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(kc=e.screenX-$r.screenX,Uc=e.screenY-$r.screenY):Uc=kc=0,$r=e),kc)},movementY:function(e){return"movementY"in e?e.movementY:Uc}}),Yg=Ue(Iu),G1=Dt({},Iu,{dataTransfer:0}),F1=Ue(G1),q1=Dt({},ol,{relatedTarget:0}),Lc=Ue(q1),Y1=Dt({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),K1=Ue(Y1),Q1=Dt({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X1=Ue(Q1),$1=Dt({},ma,{data:0}),Kg=Ue($1),J1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W1[e])?!!t[e]:!1}function ud(){return tS}var eS=Dt({},ol,{key:function(e){if(e.key){var t=J1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(e){return e.type==="keypress"?po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nS=Ue(eS),iS=Dt({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Ue(iS),aS=Dt({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),rS=Ue(aS),sS=Dt({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),lS=Ue(sS),oS=Dt({},Iu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uS=Ue(oS),cS=Dt({},ma,{newState:0,oldState:0}),hS=Ue(cS),fS=[9,13,27,32],cd=Bn&&"CompositionEvent"in window,gs=null;Bn&&"documentMode"in document&&(gs=document.documentMode);var dS=Bn&&"TextEvent"in window&&!gs,tE=Bn&&(!cd||gs&&8<gs&&11>=gs),Xg=" ",$g=!1;function eE(e,t){switch(e){case"keyup":return fS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function mS(e,t){switch(e){case"compositionend":return nE(t);case"keypress":return t.which!==32?null:($g=!0,Xg);case"textInput":return e=t.data,e===Xg&&$g?null:e;default:return null}}function gS(e,t){if(ja)return e==="compositionend"||!cd&&eE(e,t)?(e=W_(),go=od=si=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tE&&t.locale!=="ko"?null:t.data;default:return null}}var pS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pS[e.type]:t==="textarea"}function iE(e,t,n,i){La?Xa?Xa.push(i):Xa=[i]:La=i,t=nu(t,"onChange"),0<t.length&&(n=new Nu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ps=null,ks=null;function yS(e){Zv(e,0)}function Ru(e){var t=ss(e);if(K_(t))return e}function Zg(e,t){if(e==="change")return t}var aE=!1;if(Bn){var jc;if(Bn){var Bc="oninput"in document;if(!Bc){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Bc=typeof Wg.oninput=="function"}jc=Bc}else jc=!1;aE=jc&&(!document.documentMode||9<document.documentMode)}function tp(){ps&&(ps.detachEvent("onpropertychange",rE),ks=ps=null)}function rE(e){if(e.propertyName==="value"&&Ru(ks)){var t=[];iE(t,ks,e,ld(e)),Z_(yS,t)}}function _S(e,t,n){e==="focusin"?(tp(),ps=t,ks=n,ps.attachEvent("onpropertychange",rE)):e==="focusout"&&tp()}function ES(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(ks)}function vS(e,t){if(e==="click")return Ru(t)}function TS(e,t){if(e==="input"||e==="change")return Ru(t)}function bS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is=="function"?Object.is:bS;function Us(e,t){if(Qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Vh.call(t,a)||!Qe(e[a],t[a]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function np(e,t){var n=ep(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ep(n)}}function sE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=jo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jo(e.document)}return t}function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var AS=Bn&&"documentMode"in document&&11>=document.documentMode,Ba=null,zh=null,ys=null,Hh=!1;function ip(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||Ba==null||Ba!==jo(i)||(i=Ba,"selectionStart"in i&&hd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ys&&Us(ys,i)||(ys=i,i=nu(zh,"onSelect"),0<i.length&&(t=new Nu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ba)))}function ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},Pc={},oE={};Bn&&(oE=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function ga(e){if(Pc[e])return Pc[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oE)return Pc[e]=t[n];return e}var uE=ga("animationend"),cE=ga("animationiteration"),hE=ga("animationstart"),SS=ga("transitionrun"),xS=ga("transitionstart"),wS=ga("transitioncancel"),fE=ga("transitionend"),dE=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function fn(e,t){dE.set(e,t),da(t,[e])}var Bo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Je=[],za=0,fd=0;function Cu(){for(var e=za,t=fd=za=0;t<e;){var n=Je[t];Je[t++]=null;var i=Je[t];Je[t++]=null;var a=Je[t];Je[t++]=null;var r=Je[t];if(Je[t++]=null,i!==null&&a!==null){var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}r!==0&&mE(n,a,r)}}function Du(e,t,n,i){Je[za++]=e,Je[za++]=t,Je[za++]=n,Je[za++]=i,fd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function dd(e,t,n,i){return Du(e,t,n,i),Po(e)}function pa(e,t){return Du(e,null,null,t),Po(e)}function mE(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-qe(n),e=r.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),r):null}function Po(e){if(50<ws)throw ws=0,hf=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ha={};function NS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(e,t,n,i){return new NS(e,t,n,i)}function md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,t){var n=e.alternate;return n===null?(n=Pe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function gE(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yo(e,t,n,i,a,r){var s=0;if(i=e,typeof e=="function")md(e)&&(s=1);else if(typeof e=="string")s=Ox(e,n,pn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Ch:return e=Pe(31,n,t,a),e.elementType=Ch,e.lanes=r,e;case Va:return Ji(n.children,a,r,t);case V_:s=8,a|=24;break;case Nh:return e=Pe(12,n,t,a|2),e.elementType=Nh,e.lanes=r,e;case Ih:return e=Pe(13,n,t,a),e.elementType=Ih,e.lanes=r,e;case Rh:return e=Pe(19,n,t,a),e.elementType=Rh,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mn:s=10;break t;case k_:s=9;break t;case td:s=11;break t;case ed:s=14;break t;case Wn:s=16,i=null;break t}s=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Pe(s,n,t,a),t.elementType=e,t.type=i,t.lanes=r,t}function Ji(e,t,n,i){return e=Pe(7,e,i,t),e.lanes=n,e}function zc(e,t,n){return e=Pe(6,e,null,t),e.lanes=n,e}function pE(e){var t=Pe(18,null,null,0);return t.stateNode=e,t}function Hc(e,t,n){return t=Pe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ap=new WeakMap;function nn(e,t){if(typeof e=="object"&&e!==null){var n=ap.get(e);return n!==void 0?n:(t={value:e,source:t,stack:jg(t)},ap.set(e,t),t)}return{value:e,source:t,stack:jg(t)}}var Ga=[],Fa=0,zo=null,Ls=0,We=[],tn=0,Ai=null,dn=1,mn="";function Dn(e,t){Ga[Fa++]=Ls,Ga[Fa++]=zo,zo=e,Ls=t}function yE(e,t,n){We[tn++]=dn,We[tn++]=mn,We[tn++]=Ai,Ai=e;var i=dn;e=mn;var a=32-qe(i)-1;i&=~(1<<a),n+=1;var r=32-qe(t)+a;if(30<r){var s=a-a%5;r=(i&(1<<s)-1).toString(32),i>>=s,a-=s,dn=1<<32-qe(t)+a|n<<a|i,mn=r+e}else dn=1<<r|n<<a|i,mn=e}function gd(e){e.return!==null&&(Dn(e,1),yE(e,1,0))}function pd(e){for(;e===zo;)zo=Ga[--Fa],Ga[Fa]=null,Ls=Ga[--Fa],Ga[Fa]=null;for(;e===Ai;)Ai=We[--tn],We[tn]=null,mn=We[--tn],We[tn]=null,dn=We[--tn],We[tn]=null}function _E(e,t){We[tn++]=dn,We[tn++]=mn,We[tn++]=Ai,dn=t.id,mn=t.overflow,Ai=e}var le=null,Rt=null,ct=!1,fi=null,an=!1,Fh=Error(L(519));function Si(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw js(nn(t,e)),Fh}function rp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[se]=e,t[ke]=i,n){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(n=0;n<Hs.length;n++)st(Hs[n],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),Q_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),$_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||tT(t.textContent,n)?(i.popover!=null&&(st("beforetoggle",t),st("toggle",t)),i.onScroll!=null&&st("scroll",t),i.onScrollEnd!=null&&st("scrollend",t),i.onClick!=null&&(t.onclick=Vn),t=!0):t=!1,t||Si(e,!0)}function sp(e){for(le=e.return;le;)switch(le.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:le=le.return}}function xa(e){if(e!==le)return!1;if(!ct)return sp(e),ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||pf(e.type,e.memoizedProps)),n=!n),n&&Rt&&Si(e),sp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Rt=Yp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Rt=Yp(e)}else t===27?(t=Rt,Oi(e.type)?(e=vf,vf=null,Rt=e):Rt=t):Rt=le?sn(e.stateNode.nextSibling):null;return!0}function ia(){Rt=le=null,ct=!1}function Gc(){var e=fi;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),fi=null),e}function js(e){fi===null?fi=[e]:fi.push(e)}var qh=bn(null),ya=null,kn=null;function ei(e,t,n){wt(qh,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=qh.current,ee(qh)}function Yh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Kh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var s=a.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Yh(r.return,n,e),i||(s=null);break t}r=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(L(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),Yh(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Sr(e,t,n,i){e=null;for(var a=t,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(L(387));if(s=s.memoizedProps,s!==null){var o=a.type;Qe(a.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(a===Vo.current){if(s=a.alternate,s===null)throw Error(L(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Fs):e=[Fs])}a=a.return}e!==null&&Kh(t,e,n,i),t.flags|=262144}function Ho(e){for(e=e.firstContext;e!==null;){if(!Qe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){ya=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return EE(ya,e)}function Fl(e,t){return ya===null&&aa(e),EE(e,t)}function EE(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},kn===null){if(e===null)throw Error(L(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return n}var IS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},RS=Jt.unstable_scheduleCallback,CS=Jt.unstable_NormalPriority,Yt={$$typeof:Mn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new IS,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&RS(CS,function(){e.controller.abort()})}var _s=null,Qh=0,sr=0,$a=null;function DS(e,t){if(_s===null){var n=_s=[];Qh=0,sr=Hd(),$a={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Qh++,t.then(lp,lp),t}function lp(){if(--Qh===0&&_s!==null){$a!==null&&($a.status="fulfilled");var e=_s;_s=null,sr=0,$a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function OS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var op=Z.S;Z.S=function(e,t){Mv=Ge(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&DS(e,t),op!==null&&op(e,t)};var Zi=bn(null);function _d(){var e=Zi.current;return e!==null?e:xt.pooledCache}function _o(e,t){t===null?wt(Zi,Zi.current):wt(Zi,t.pool)}function vE(){var e=_d();return e===null?null:{parent:Yt._currentValue,pool:e}}var xr=Error(L(460)),Ed=Error(L(474)),Ou=Error(L(542)),Go={then:function(){}};function up(e){return e=e.status,e==="fulfilled"||e==="rejected"}function TE(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Vn,Vn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hp(e),e;default:if(typeof t.status=="string")t.then(Vn,Vn);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hp(e),e}throw Wi=t,xr}}function qi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Wi=n,xr):n}}var Wi=null;function cp(){if(Wi===null)throw Error(L(459));var e=Wi;return Wi=null,e}function hp(e){if(e===xr||e===Ou)throw Error(L(483))}var Ja=null,Bs=0;function ql(e){var t=Bs;return Bs+=1,Ja===null&&(Ja=[]),TE(Ja,e,t)}function Jr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yl(e,t){throw t.$$typeof===_1?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bE(e){function t(T,A){if(e){var x=T.deletions;x===null?(T.deletions=[A],T.flags|=16):x.push(A)}}function n(T,A){if(!e)return null;for(;A!==null;)t(T,A),A=A.sibling;return null}function i(T){for(var A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function a(T,A){return T=Un(T,A),T.index=0,T.sibling=null,T}function r(T,A,x){return T.index=x,e?(x=T.alternate,x!==null?(x=x.index,x<A?(T.flags|=67108866,A):x):(T.flags|=67108866,A)):(T.flags|=1048576,A)}function s(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function o(T,A,x,C){return A===null||A.tag!==6?(A=zc(x,T.mode,C),A.return=T,A):(A=a(A,x),A.return=T,A)}function u(T,A,x,C){var P=x.type;return P===Va?m(T,A,x.props.children,C,x.key):A!==null&&(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wn&&qi(P)===A.type)?(A=a(A,x.props),Jr(A,x),A.return=T,A):(A=yo(x.type,x.key,x.props,null,T.mode,C),Jr(A,x),A.return=T,A)}function h(T,A,x,C){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=Hc(x,T.mode,C),A.return=T,A):(A=a(A,x.children||[]),A.return=T,A)}function m(T,A,x,C,P){return A===null||A.tag!==7?(A=Ji(x,T.mode,C,P),A.return=T,A):(A=a(A,x),A.return=T,A)}function p(T,A,x){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=zc(""+A,T.mode,x),A.return=T,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jl:return x=yo(A.type,A.key,A.props,null,T.mode,x),Jr(x,A),x.return=T,x;case as:return A=Hc(A,T.mode,x),A.return=T,A;case Wn:return A=qi(A),p(T,A,x)}if(rs(A)||Qr(A))return A=Ji(A,T.mode,x,null),A.return=T,A;if(typeof A.then=="function")return p(T,ql(A),x);if(A.$$typeof===Mn)return p(T,Fl(T,A),x);Yl(T,A)}return null}function g(T,A,x,C){var P=A!==null?A.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return P!==null?null:o(T,A,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jl:return x.key===P?u(T,A,x,C):null;case as:return x.key===P?h(T,A,x,C):null;case Wn:return x=qi(x),g(T,A,x,C)}if(rs(x)||Qr(x))return P!==null?null:m(T,A,x,C,null);if(typeof x.then=="function")return g(T,A,ql(x),C);if(x.$$typeof===Mn)return g(T,A,Fl(T,x),C);Yl(T,x)}return null}function y(T,A,x,C,P){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return T=T.get(x)||null,o(A,T,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case jl:return T=T.get(C.key===null?x:C.key)||null,u(A,T,C,P);case as:return T=T.get(C.key===null?x:C.key)||null,h(A,T,C,P);case Wn:return C=qi(C),y(T,A,x,C,P)}if(rs(C)||Qr(C))return T=T.get(x)||null,m(A,T,C,P,null);if(typeof C.then=="function")return y(T,A,x,ql(C),P);if(C.$$typeof===Mn)return y(T,A,x,Fl(A,C),P);Yl(A,C)}return null}function N(T,A,x,C){for(var P=null,H=null,v=A,_=A=0,b=null;v!==null&&_<x.length;_++){v.index>_?(b=v,v=null):b=v.sibling;var S=g(T,v,x[_],C);if(S===null){v===null&&(v=b);break}e&&v&&S.alternate===null&&t(T,v),A=r(S,A,_),H===null?P=S:H.sibling=S,H=S,v=b}if(_===x.length)return n(T,v),ct&&Dn(T,_),P;if(v===null){for(;_<x.length;_++)v=p(T,x[_],C),v!==null&&(A=r(v,A,_),H===null?P=v:H.sibling=v,H=v);return ct&&Dn(T,_),P}for(v=i(v);_<x.length;_++)b=y(v,T,_,x[_],C),b!==null&&(e&&b.alternate!==null&&v.delete(b.key===null?_:b.key),A=r(b,A,_),H===null?P=b:H.sibling=b,H=b);return e&&v.forEach(function(I){return t(T,I)}),ct&&Dn(T,_),P}function M(T,A,x,C){if(x==null)throw Error(L(151));for(var P=null,H=null,v=A,_=A=0,b=null,S=x.next();v!==null&&!S.done;_++,S=x.next()){v.index>_?(b=v,v=null):b=v.sibling;var I=g(T,v,S.value,C);if(I===null){v===null&&(v=b);break}e&&v&&I.alternate===null&&t(T,v),A=r(I,A,_),H===null?P=I:H.sibling=I,H=I,v=b}if(S.done)return n(T,v),ct&&Dn(T,_),P;if(v===null){for(;!S.done;_++,S=x.next())S=p(T,S.value,C),S!==null&&(A=r(S,A,_),H===null?P=S:H.sibling=S,H=S);return ct&&Dn(T,_),P}for(v=i(v);!S.done;_++,S=x.next())S=y(v,T,_,S.value,C),S!==null&&(e&&S.alternate!==null&&v.delete(S.key===null?_:S.key),A=r(S,A,_),H===null?P=S:H.sibling=S,H=S);return e&&v.forEach(function(D){return t(T,D)}),ct&&Dn(T,_),P}function R(T,A,x,C){if(typeof x=="object"&&x!==null&&x.type===Va&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case jl:t:{for(var P=x.key;A!==null;){if(A.key===P){if(P=x.type,P===Va){if(A.tag===7){n(T,A.sibling),C=a(A,x.props.children),C.return=T,T=C;break t}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wn&&qi(P)===A.type){n(T,A.sibling),C=a(A,x.props),Jr(C,x),C.return=T,T=C;break t}n(T,A);break}else t(T,A);A=A.sibling}x.type===Va?(C=Ji(x.props.children,T.mode,C,x.key),C.return=T,T=C):(C=yo(x.type,x.key,x.props,null,T.mode,C),Jr(C,x),C.return=T,T=C)}return s(T);case as:t:{for(P=x.key;A!==null;){if(A.key===P)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){n(T,A.sibling),C=a(A,x.children||[]),C.return=T,T=C;break t}else{n(T,A);break}else t(T,A);A=A.sibling}C=Hc(x,T.mode,C),C.return=T,T=C}return s(T);case Wn:return x=qi(x),R(T,A,x,C)}if(rs(x))return N(T,A,x,C);if(Qr(x)){if(P=Qr(x),typeof P!="function")throw Error(L(150));return x=P.call(x),M(T,A,x,C)}if(typeof x.then=="function")return R(T,A,ql(x),C);if(x.$$typeof===Mn)return R(T,A,Fl(T,x),C);Yl(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,A!==null&&A.tag===6?(n(T,A.sibling),C=a(A,x),C.return=T,T=C):(n(T,A),C=zc(x,T.mode,C),C.return=T,T=C),s(T)):n(T,A)}return function(T,A,x,C){try{Bs=0;var P=R(T,A,x,C);return Ja=null,P}catch(v){if(v===xr||v===Ou)throw v;var H=Pe(29,v,null,T.mode);return H.lanes=C,H.return=T,H}finally{}}}var ra=bE(!0),AE=bE(!1),ti=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function di(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,pt&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=Po(e),mE(e,null,n),t}return Du(e,i,t,n),Po(e)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,z_(e,n)}}function Fc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var $h=!1;function vs(){if($h){var e=$a;if(e!==null)throw e}}function Ts(e,t,n,i){$h=!1;var a=e.updateQueue;ti=!1;var r=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,s===null?r=h:s.next=h,s=u;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==s&&(o===null?m.firstBaseUpdate=h:o.next=h,m.lastBaseUpdate=u))}if(r!==null){var p=a.baseState;s=0,m=h=u=null,o=r;do{var g=o.lane&-536870913,y=g!==o.lane;if(y?(ut&g)===g:(i&g)===g){g!==0&&g===sr&&($h=!0),m!==null&&(m=m.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var N=e,M=o;g=t;var R=n;switch(M.tag){case 1:if(N=M.payload,typeof N=="function"){p=N.call(R,p,g);break t}p=N;break t;case 3:N.flags=N.flags&-65537|128;case 0:if(N=M.payload,g=typeof N=="function"?N.call(R,p,g):N,g==null)break t;p=Dt({},p,g);break t;case 2:ti=!0}}g=o.callback,g!==null&&(e.flags|=64,y&&(e.flags|=8192),y=a.callbacks,y===null?a.callbacks=[g]:y.push(g))}else y={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(h=m=y,u=p):m=m.next=y,s|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;y=o,o=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);m===null&&(u=p),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=m,r===null&&(a.shared.lanes=0),wi|=s,e.lanes=s,e.memoizedState=p}}function SE(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function xE(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)SE(n[e],t)}var lr=bn(null),Fo=bn(0);function fp(e,t){e=Gn,wt(Fo,e),wt(lr,t),Gn=e|t.baseLanes}function Jh(){wt(Fo,Gn),wt(lr,lr.current)}function Td(){Gn=Fo.current,ee(lr),ee(Fo)}var Xe=bn(null),rn=null;function ni(e){var t=e.alternate;wt(zt,zt.current&1),wt(Xe,e),rn===null&&(t===null||lr.current!==null||t.memoizedState!==null)&&(rn=e)}function Zh(e){wt(zt,zt.current),wt(Xe,e),rn===null&&(rn=e)}function wE(e){e.tag===22?(wt(zt,zt.current),wt(Xe,e),rn===null&&(rn=e)):ii()}function ii(){wt(zt,zt.current),wt(Xe,Xe.current)}function Be(e){ee(Xe),rn===e&&(rn=null),ee(zt)}var zt=bn(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||_f(n)||Ef(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pn=0,at=null,bt=null,Ft=null,Yo=!1,Za=!1,sa=!1,Ko=0,Ps=0,Wa=null,MS=0;function Lt(){throw Error(L(321))}function bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}function Ad(e,t,n,i,a,r){return Pn=r,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?iv:Vd,sa=!1,r=n(i,a),sa=!1,Za&&(r=IE(t,n,i,a)),NE(e),r}function NE(e){Z.H=zs;var t=bt!==null&&bt.next!==null;if(Pn=0,Ft=bt=at=null,Yo=!1,Ps=0,Wa=null,t)throw Error(L(300));e===null||Kt||(e=e.dependencies,e!==null&&Ho(e)&&(Kt=!0))}function IE(e,t,n,i){at=e;var a=0;do{if(Za&&(Wa=null),Ps=0,Za=!1,25<=a)throw Error(L(301));if(a+=1,Ft=bt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Z.H=av,r=t(n,i)}while(Za);return r}function VS(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?cl(t):t,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(at.flags|=1024),t}function Sd(){var e=Ko!==0;return Ko=0,e}function xd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function wd(e){if(Yo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yo=!1}Pn=0,Ft=bt=at=null,Za=!1,Ps=Ko=0,Wa=null}function Ae(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?at.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function Ht(){if(bt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Ft===null?at.memoizedState:Ft.next;if(t!==null)Ft=t,bt=e;else{if(e===null)throw at.alternate===null?Error(L(467)):Error(L(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ft===null?at.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var t=Ps;return Ps+=1,Wa===null&&(Wa=[]),e=TE(Wa,e,t),t=at,(Ft===null?t.memoizedState:Ft.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?iv:Vd),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===Mn)return ue(e)}throw Error(L(438,String(e)))}function Nd(e){var t=null,n=at.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=at.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Mu(),at.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=E1;return t.index++,n}function zn(e,t){return typeof t=="function"?t(e):t}function Eo(e){var t=Ht();return Id(t,bt,e)}function Id(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var a=e.baseQueue,r=i.pending;if(r!==null){if(a!==null){var s=a.next;a.next=r.next,r.next=s}t.baseQueue=a=r,i.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var o=s=null,u=null,h=t,m=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(ut&p)===p:(Pn&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===sr&&(m=!0);else if((Pn&g)===g){h=h.next,g===sr&&(m=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,s=r):u=u.next=p,at.lanes|=g,wi|=g;p=h.action,sa&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else g={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,s=r):u=u.next=g,at.lanes|=p,wi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?s=r:u.next=o,!Qe(r,e.memoizedState)&&(Kt=!0,m&&(n=$a,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=u,i.lastRenderedState=r}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do r=e(r,s.action),s=s.next;while(s!==a);Qe(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function RE(e,t,n){var i=at,a=Ht(),r=ct;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=t();var s=!Qe((bt||a).memoizedState,n);if(s&&(a.memoizedState=n,Kt=!0),a=a.queue,Rd(OE.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||Ft!==null&&Ft.memoizedState.tag&1){if(i.flags|=2048,or(9,{destroy:void 0},DE.bind(null,i,a,n,t),null),xt===null)throw Error(L(349));r||Pn&127||CE(i,t,n)}return n}function CE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=at.updateQueue,t===null?(t=Mu(),at.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DE(e,t,n,i){t.value=n,t.getSnapshot=i,ME(t)&&VE(e)}function OE(e,t,n){return n(function(){ME(t)&&VE(e)})}function ME(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qe(e,n)}catch{return!0}}function VE(e){var t=pa(e,2);t!==null&&Ve(t,e,2)}function Wh(e){var t=Ae();if(typeof e=="function"){var n=e;if(e=n(),sa){ri(!0);try{n()}finally{ri(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},t}function kE(e,t,n,i){return e.baseState=n,Id(e,bt,typeof i=="function"?i:zn)}function kS(e,t,n,i,a){if(Uu(e))throw Error(L(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};Z.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,UE(t,r)):(r.next=n.next,t.pending=n.next=r)}}function UE(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var r=Z.T,s={};Z.T=s;try{var o=n(a,i),u=Z.S;u!==null&&u(s,o),dp(e,t,o)}catch(h){tf(e,t,h)}finally{r!==null&&s.types!==null&&(r.types=s.types),Z.T=r}}else try{r=n(a,i),dp(e,t,r)}catch(h){tf(e,t,h)}}function dp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){mp(e,t,i)},function(i){return tf(e,t,i)}):mp(e,t,n)}function mp(e,t,n){t.status="fulfilled",t.value=n,LE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,UE(e,n)))}function tf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,LE(t),t=t.next;while(t!==i)}e.action=null}function LE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jE(e,t){return t}function gp(e,t){if(ct){var n=xt.formState;if(n!==null){t:{var i=at;if(ct){if(Rt){e:{for(var a=Rt,r=an;a.nodeType!==8;){if(!r){a=null;break e}if(a=sn(a.nextSibling),a===null){a=null;break e}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){Rt=sn(a.nextSibling),i=a.data==="F!";break t}}Si(i)}i=!1}i&&(t=n[0])}}return n=Ae(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jE,lastRenderedState:t},n.queue=i,n=tv.bind(null,at,i),i.dispatch=n,i=Wh(!1),r=Md.bind(null,at,!1,i.queue),i=Ae(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=kS.bind(null,at,a,r,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function pp(e){var t=Ht();return BE(t,bt,e)}function BE(e,t,n){if(t=Id(e,t,jE)[0],e=Eo(zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cl(t)}catch(s){throw s===xr?Ou:s}else i=t;t=Ht();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(at.flags|=2048,or(9,{destroy:void 0},US.bind(null,a,n),null)),[i,r,e]}function US(e,t){e.action=t}function yp(e){var t=Ht(),n=bt;if(n!==null)return BE(t,n,e);Ht(),t=t.memoizedState,n=Ht();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function or(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=at.updateQueue,t===null&&(t=Mu(),at.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function PE(){return Ht().memoizedState}function vo(e,t,n,i){var a=Ae();at.flags|=e,a.memoizedState=or(1|t,{destroy:void 0},n,i===void 0?null:i)}function ku(e,t,n,i){var a=Ht();i=i===void 0?null:i;var r=a.memoizedState.inst;bt!==null&&i!==null&&bd(i,bt.memoizedState.deps)?a.memoizedState=or(t,r,n,i):(at.flags|=e,a.memoizedState=or(1|t,r,n,i))}function _p(e,t){vo(8390656,8,e,t)}function Rd(e,t){ku(2048,8,e,t)}function LS(e){at.flags|=4;var t=at.updateQueue;if(t===null)t=Mu(),at.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function zE(e){var t=Ht().memoizedState;return LS({ref:t,nextImpl:e}),function(){if(pt&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function HE(e,t){return ku(4,2,e,t)}function GE(e,t){return ku(4,4,e,t)}function FE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qE(e,t,n){n=n!=null?n.concat([e]):null,ku(4,4,FE.bind(null,t,e),n)}function Cd(){}function YE(e,t){var n=Ht();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&bd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function KE(e,t){var n=Ht();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&bd(t,i[1]))return i[0];if(i=e(),sa){ri(!0);try{e()}finally{ri(!1)}}return n.memoizedState=[i,t],i}function Dd(e,t,n){return n===void 0||Pn&1073741824&&!(ut&261930)?e.memoizedState=t:(e.memoizedState=n,e=kv(),at.lanes|=e,wi|=e,n)}function QE(e,t,n,i){return Qe(n,t)?n:lr.current!==null?(e=Dd(e,n,i),Qe(e,t)||(Kt=!0),e):!(Pn&42)||Pn&1073741824&&!(ut&261930)?(Kt=!0,e.memoizedState=n):(e=kv(),at.lanes|=e,wi|=e,t)}function XE(e,t,n,i,a){var r=yt.p;yt.p=r!==0&&8>r?r:8;var s=Z.T,o={};Z.T=o,Md(e,!1,t,n);try{var u=a(),h=Z.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=OS(u,i);bs(e,t,m,Ye(e))}else bs(e,t,i,Ye(e))}catch(p){bs(e,t,{then:function(){},status:"rejected",reason:p},Ye())}finally{yt.p=r,s!==null&&o.types!==null&&(s.types=o.types),Z.T=s}}function jS(){}function ef(e,t,n,i){if(e.tag!==5)throw Error(L(476));var a=$E(e).queue;XE(e,a,t,$i,n===null?jS:function(){return JE(e),n(i)})}function $E(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$i,baseState:$i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:$i},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function JE(e){var t=$E(e);t.next===null&&(t=e.alternate.memoizedState),bs(e,t.next.queue,{},Ye())}function Od(){return ue(Fs)}function ZE(){return Ht().memoizedState}function WE(){return Ht().memoizedState}function BS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ye();e=di(n);var i=mi(t,e,n);i!==null&&(Ve(i,t,n),Es(i,t,n)),t={cache:yd()},e.payload=t;return}t=t.return}}function PS(e,t,n){var i=Ye();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Uu(e)?ev(t,n):(n=dd(e,t,n,i),n!==null&&(Ve(n,e,i),nv(n,t,i)))}function tv(e,t,n){var i=Ye();bs(e,t,n,i)}function bs(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))ev(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,o=r(s,n);if(a.hasEagerState=!0,a.eagerState=o,Qe(o,s))return Du(e,t,a,0),xt===null&&Cu(),!1}catch{}finally{}if(n=dd(e,t,a,i),n!==null)return Ve(n,e,i),nv(n,t,i),!0}return!1}function Md(e,t,n,i){if(i={lane:2,revertLane:Hd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(t)throw Error(L(479))}else t=dd(e,n,i,2),t!==null&&Ve(t,e,2)}function Uu(e){var t=e.alternate;return e===at||t!==null&&t===at}function ev(e,t){Za=Yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,z_(e,n)}}var zs={readContext:ue,use:Vu,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};zs.useEffectEvent=Lt;var iv={readContext:ue,use:Vu,useCallback:function(e,t){return Ae().memoizedState=[e,t===void 0?null:t],e},useContext:ue,useEffect:_p,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vo(4194308,4,FE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4194308,4,e,t)},useInsertionEffect:function(e,t){vo(4,2,e,t)},useMemo:function(e,t){var n=Ae();t=t===void 0?null:t;var i=e();if(sa){ri(!0);try{e()}finally{ri(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ae();if(n!==void 0){var a=n(t);if(sa){ri(!0);try{n(t)}finally{ri(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=PS.bind(null,at,e),[i.memoizedState,e]},useRef:function(e){var t=Ae();return e={current:e},t.memoizedState=e},useState:function(e){e=Wh(e);var t=e.queue,n=tv.bind(null,at,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cd,useDeferredValue:function(e,t){var n=Ae();return Dd(n,e,t)},useTransition:function(){var e=Wh(!1);return e=XE.bind(null,at,e.queue,!0,!1),Ae().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=at,a=Ae();if(ct){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),xt===null)throw Error(L(349));ut&127||CE(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,_p(OE.bind(null,i,r,e),[e]),i.flags|=2048,or(9,{destroy:void 0},DE.bind(null,i,r,n,t),null),n},useId:function(){var e=Ae(),t=xt.identifierPrefix;if(ct){var n=mn,i=dn;n=(i&~(1<<32-qe(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ko++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=MS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Od,useFormState:gp,useActionState:gp,useOptimistic:function(e){var t=Ae();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Md.bind(null,at,!0,n),n.dispatch=t,[e,t]},useMemoCache:Nd,useCacheRefresh:function(){return Ae().memoizedState=BS.bind(null,at)},useEffectEvent:function(e){var t=Ae(),n={impl:e};return t.memoizedState=n,function(){if(pt&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},Vd={readContext:ue,use:Vu,useCallback:YE,useContext:ue,useEffect:Rd,useImperativeHandle:qE,useInsertionEffect:HE,useLayoutEffect:GE,useMemo:KE,useReducer:Eo,useRef:PE,useState:function(){return Eo(zn)},useDebugValue:Cd,useDeferredValue:function(e,t){var n=Ht();return QE(n,bt.memoizedState,e,t)},useTransition:function(){var e=Eo(zn)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:RE,useId:ZE,useHostTransitionStatus:Od,useFormState:pp,useActionState:pp,useOptimistic:function(e,t){var n=Ht();return kE(n,bt,e,t)},useMemoCache:Nd,useCacheRefresh:WE};Vd.useEffectEvent=zE;var av={readContext:ue,use:Vu,useCallback:YE,useContext:ue,useEffect:Rd,useImperativeHandle:qE,useInsertionEffect:HE,useLayoutEffect:GE,useMemo:KE,useReducer:qc,useRef:PE,useState:function(){return qc(zn)},useDebugValue:Cd,useDeferredValue:function(e,t){var n=Ht();return bt===null?Dd(n,e,t):QE(n,bt.memoizedState,e,t)},useTransition:function(){var e=qc(zn)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:RE,useId:ZE,useHostTransitionStatus:Od,useFormState:yp,useActionState:yp,useOptimistic:function(e,t){var n=Ht();return bt!==null?kE(n,bt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:WE};av.useEffectEvent=zE;function Yc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ye(),a=di(i);a.payload=t,n!=null&&(a.callback=n),t=mi(e,a,i),t!==null&&(Ve(t,e,i),Es(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ye(),a=di(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=mi(e,a,i),t!==null&&(Ve(t,e,i),Es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),i=di(n);i.tag=2,t!=null&&(i.callback=t),t=mi(e,i,n),t!==null&&(Ve(t,e,n),Es(t,e,n))}};function Ep(e,t,n,i,a,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,s):t.prototype&&t.prototype.isPureReactComponent?!Us(n,i)||!Us(a,r):!0}function vp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&nf.enqueueReplaceState(t,t.state,null)}function la(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Dt({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function rv(e){Bo(e)}function sv(e){console.error(e)}function lv(e){Bo(e)}function Qo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Tp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function af(e,t,n){return n=di(n),n.tag=3,n.payload={element:null},n.callback=function(){Qo(e,t)},n}function ov(e){return e=di(e),e.tag=3,e}function uv(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;e.payload=function(){return a(r)},e.callback=function(){Tp(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Tp(t,n,i),typeof a!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function zS(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Sr(t,n,a,!0),n=Xe.current,n!==null){switch(n.tag){case 31:case 13:return rn===null?Wo():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Go?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),ih(e,i,a)),!1;case 22:return n.flags|=65536,i===Go?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),ih(e,i,a)),!1}throw Error(L(435,n.tag))}return ih(e,i,a),Wo(),!1}if(ct)return t=Xe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==Fh&&(e=Error(L(422),{cause:i}),js(nn(e,n)))):(i!==Fh&&(t=Error(L(423),{cause:i}),js(nn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=nn(i,n),a=af(e.stateNode,i,a),Fc(e,a),jt!==4&&(jt=2)),!1;var r=Error(L(520),{cause:i});if(r=nn(r,n),xs===null?xs=[r]:xs.push(r),jt!==4&&(jt=2),t===null)return!0;i=nn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=af(n.stateNode,i,e),Fc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=ov(a),uv(a,e,n,i),Fc(n,a),!1}n=n.return}while(n!==null);return!1}var kd=Error(L(461)),Kt=!1;function ae(e,t,n,i){t.child=e===null?AE(t,null,n,i):ra(t,e.child,n,i)}function bp(e,t,n,i,a){n=n.render;var r=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return aa(t),i=Ad(e,t,n,s,r,a),o=Sd(),e!==null&&!Kt?(xd(e,t,a),Hn(e,t,a)):(ct&&o&&gd(t),t.flags|=1,ae(e,t,i,a),t.child)}function Ap(e,t,n,i,a){if(e===null){var r=n.type;return typeof r=="function"&&!md(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,cv(e,t,r,i,a)):(e=yo(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Ud(e,a)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Us,n(s,i)&&e.ref===t.ref)return Hn(e,t,a)}return t.flags|=1,e=Un(r,i),e.ref=t.ref,e.return=t,t.child=e}function cv(e,t,n,i,a){if(e!==null){var r=e.memoizedProps;if(Us(r,i)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=i=r,Ud(e,a))e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,Hn(e,t,a)}return rf(e,t,n,i,a)}function hv(e,t,n,i){var a=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,t.child=null;return Sp(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_o(t,r!==null?r.cachePool:null),r!==null?fp(t,r):Jh(),wE(t);else return i=t.lanes=536870912,Sp(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(_o(t,r.cachePool),fp(t,r),ii(),t.memoizedState=null):(e!==null&&_o(t,null),Jh(),ii());return ae(e,t,a,n),t.child}function ls(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Sp(e,t,n,i,a){var r=_d();return r=r===null?null:{parent:Yt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&_o(t,null),Jh(),wE(t),e!==null&&Sr(e,t,i,!0),t.childLanes=a,null}function To(e,t){return t=Xo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xp(e,t,n){return ra(t,e.child,null,n),e=To(t,t.pendingProps),e.flags|=2,Be(t),t.memoizedState=null,e}function HS(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ct){if(i.mode==="hidden")return e=To(t,i),t.lanes=536870912,ls(null,e);if(Zh(t),(e=Rt)?(e=iT(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=pE(e),n.return=t,t.child=n,le=t,Rt=null)):e=null,e===null)throw Si(t);return t.lanes=536870912,null}return To(t,i)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(Zh(t),a)if(t.flags&256)t.flags&=-257,t=xp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Kt||Sr(e,t,n,!1),a=(n&e.childLanes)!==0,Kt||a){if(i=xt,i!==null&&(s=H_(i,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,pa(e,s),Ve(i,e,s),kd;Wo(),t=xp(e,t,n)}else e=r.treeContext,Rt=sn(s.nextSibling),le=t,ct=!0,fi=null,an=!1,e!==null&&_E(t,e),t=To(t,i),t.flags|=4096;return t}return e=Un(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rf(e,t,n,i,a){return aa(t),n=Ad(e,t,n,i,void 0,a),i=Sd(),e!==null&&!Kt?(xd(e,t,a),Hn(e,t,a)):(ct&&i&&gd(t),t.flags|=1,ae(e,t,n,a),t.child)}function wp(e,t,n,i,a,r){return aa(t),t.updateQueue=null,n=IE(t,i,n,a),NE(e),i=Sd(),e!==null&&!Kt?(xd(e,t,r),Hn(e,t,r)):(ct&&i&&gd(t),t.flags|=1,ae(e,t,n,r),t.child)}function Np(e,t,n,i,a){if(aa(t),t.stateNode===null){var r=Ha,s=n.contextType;typeof s=="object"&&s!==null&&(r=ue(s)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=nf,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},vd(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?ue(s):Ha,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Yc(t,n,s,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&nf.enqueueReplaceState(r,r.state,null),Ts(t,i,r,a),vs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=la(n,o);r.props=u;var h=r.context,m=n.contextType;s=Ha,typeof m=="object"&&m!==null&&(s=ue(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,m||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||h!==s)&&vp(t,r,i,s),ti=!1;var g=t.memoizedState;r.state=g,Ts(t,i,r,a),vs(),h=t.memoizedState,o||g!==h||ti?(typeof p=="function"&&(Yc(t,n,p,i),h=t.memoizedState),(u=ti||Ep(t,n,u,i,g,h,s))?(m||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=s,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Xh(e,t),s=t.memoizedProps,m=la(n,s),r.props=m,p=t.pendingProps,g=r.context,h=n.contextType,u=Ha,typeof h=="object"&&h!==null&&(u=ue(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==p||g!==u)&&vp(t,r,i,u),ti=!1,g=t.memoizedState,r.state=g,Ts(t,i,r,a),vs();var y=t.memoizedState;s!==p||g!==y||ti||e!==null&&e.dependencies!==null&&Ho(e.dependencies)?(typeof o=="function"&&(Yc(t,n,o,i),y=t.memoizedState),(m=ti||Ep(t,n,m,i,g,y,u)||e!==null&&e.dependencies!==null&&Ho(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,y,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,y,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),r.props=i,r.state=y,r.context=u,i=m):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,bo(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=ra(t,e.child,null,a),t.child=ra(t,null,n,a)):ae(e,t,n,a),t.memoizedState=r.state,e=t.child):e=Hn(e,t,a),e}function Ip(e,t,n,i){return ia(),t.flags|=256,ae(e,t,n,i),t.child}var Kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qc(e){return{baseLanes:e,cachePool:vE()}}function Xc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ze),e}function fv(e,t,n){var i=t.pendingProps,a=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(a?ni(t):ii(),(e=Rt)?(e=iT(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=pE(e),n.return=t,t.child=n,le=t,Rt=null)):e=null,e===null)throw Si(t);return Ef(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,a?(ii(),a=t.mode,o=Xo({mode:"hidden",children:o},a),i=Ji(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Qc(n),i.childLanes=Xc(e,s,n),t.memoizedState=Kc,ls(null,i)):(ni(t),sf(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(ni(t),t.flags&=-257,t=$c(e,t,n)):t.memoizedState!==null?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),o=i.fallback,a=t.mode,i=Xo({mode:"visible",children:i.children},a),o=Ji(o,a,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ra(t,e.child,null,n),i=t.child,i.memoizedState=Qc(n),i.childLanes=Xc(e,s,n),t.memoizedState=Kc,t=ls(null,i));else if(ni(t),Ef(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,i=Error(L(419)),i.stack="",i.digest=s,js({value:i,source:null,stack:null}),t=$c(e,t,n)}else if(Kt||Sr(e,t,n,!1),s=(n&e.childLanes)!==0,Kt||s){if(s=xt,s!==null&&(i=H_(s,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,pa(e,i),Ve(s,e,i),kd;_f(o)||Wo(),t=$c(e,t,n)}else _f(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Rt=sn(o.nextSibling),le=t,ct=!0,fi=null,an=!1,e!==null&&_E(t,e),t=sf(t,i.children),t.flags|=4096);return t}return a?(ii(),o=i.fallback,a=t.mode,u=e.child,h=u.sibling,i=Un(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Un(h,o):(o=Ji(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,ls(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Qc(n):(a=o.cachePool,a!==null?(u=Yt._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=vE(),o={baseLanes:o.baseLanes|n,cachePool:a}),i.memoizedState=o,i.childLanes=Xc(e,s,n),t.memoizedState=Kc,ls(e.child,i)):(ni(t),n=e.child,e=n.sibling,n=Un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function sf(e,t){return t=Xo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xo(e,t){return e=Pe(22,e,null,t),e.lanes=0,e}function $c(e,t,n){return ra(t,e.child,null,n),e=sf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Yh(e.return,t,n)}function Jc(e,t,n,i,a,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a,s.treeForkCount=r)}function dv(e,t,n){var i=t.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var s=zt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,wt(zt,s),ae(e,t,i,n),i=ct?Ls:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,n,t);else if(e.tag===19)Rp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jc(t,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&qo(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jc(t,!0,n,null,r,i);break;case"together":Jc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Sr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ud(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ho(e)))}function GS(e,t,n){switch(t.tag){case 3:ko(t,t.stateNode.containerInfo),ei(t,Yt,e.memoizedState.cache),ia();break;case 27:case 5:Mh(t);break;case 4:ko(t,t.stateNode.containerInfo);break;case 10:ei(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ni(t),t.flags|=128,null):n&t.child.childLanes?fv(e,t,n):(ni(t),e=Hn(e,t,n),e!==null?e.sibling:null);ni(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Sr(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return dv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),wt(zt,zt.current),i)break;return null;case 22:return t.lanes=0,hv(e,t,n,t.pendingProps);case 24:ei(t,Yt,e.memoizedState.cache)}return Hn(e,t,n)}function mv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Kt=!0;else{if(!Ud(e,n)&&!(t.flags&128))return Kt=!1,GS(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,ct&&t.flags&1048576&&yE(t,Ls,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=qi(t.elementType),t.type=e,typeof e=="function")md(e)?(i=la(e,i),t.tag=1,t=Np(null,t,e,i,n)):(t.tag=0,t=rf(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===td){t.tag=11,t=bp(null,t,e,i,n);break t}else if(a===ed){t.tag=14,t=Ap(null,t,e,i,n);break t}}throw t=Dh(e)||e,Error(L(306,t,""))}}return t;case 0:return rf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=la(i,t.pendingProps),Np(e,t,i,a,n);case 3:t:{if(ko(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var r=t.memoizedState;a=r.element,Xh(e,t),Ts(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ei(t,Yt,i),i!==r.cache&&Kh(t,[Yt],n,!0),vs(),i=s.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Ip(e,t,i,n);break t}else if(i!==a){a=nn(Error(L(424)),t),js(a),t=Ip(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=sn(e.firstChild),le=t,ct=!0,fi=null,an=!0,n=AE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ia(),i===a){t=Hn(e,t,n);break t}ae(e,t,i,n)}t=t.child}return t;case 26:return bo(e,t),e===null?(n=Xp(t.type,null,t.pendingProps,null))?t.memoizedState=n:ct||(n=t.type,e=t.pendingProps,i=iu(hi.current).createElement(n),i[se]=t,i[ke]=e,ce(i,n,e),te(i),t.stateNode=i):t.memoizedState=Xp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Mh(t),e===null&&ct&&(i=t.stateNode=aT(t.type,t.pendingProps,hi.current),le=t,an=!0,a=Rt,Oi(t.type)?(vf=a,Rt=sn(i.firstChild)):Rt=a),ae(e,t,t.pendingProps.children,n),bo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((a=i=Rt)&&(i=Ex(i,t.type,t.pendingProps,an),i!==null?(t.stateNode=i,le=t,Rt=sn(i.firstChild),an=!1,a=!0):a=!1),a||Si(t)),Mh(t),a=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,i=r.children,pf(a,r)?i=null:s!==null&&pf(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=Ad(e,t,VS,null,null,n),Fs._currentValue=a),bo(e,t),ae(e,t,i,n),t.child;case 6:return e===null&&ct&&((e=n=Rt)&&(n=vx(n,t.pendingProps,an),n!==null?(t.stateNode=n,le=t,Rt=null,e=!0):e=!1),e||Si(t)),null;case 13:return fv(e,t,n);case 4:return ko(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ra(t,null,i,n):ae(e,t,i,n),t.child;case 11:return bp(e,t,t.type,t.pendingProps,n);case 7:return ae(e,t,t.pendingProps,n),t.child;case 8:return ae(e,t,t.pendingProps.children,n),t.child;case 12:return ae(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ei(t,t.type,i.value),ae(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,aa(t),a=ue(a),i=i(a),t.flags|=1,ae(e,t,i,n),t.child;case 14:return Ap(e,t,t.type,t.pendingProps,n);case 15:return cv(e,t,t.type,t.pendingProps,n);case 19:return dv(e,t,n);case 31:return HS(e,t,n);case 22:return hv(e,t,n,t.pendingProps);case 24:return aa(t),i=ue(Yt),e===null?(a=_d(),a===null&&(a=xt,r=yd(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:i,cache:a},vd(t),ei(t,Yt,a)):(e.lanes&n&&(Xh(e,t),Ts(t,null,null,n),vs()),a=e.memoizedState,r=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ei(t,Yt,i)):(i=r.cache,ei(t,Yt,i),i!==a.cache&&Kh(t,[Yt],n,!0))),ae(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function Nn(e){e.flags|=4}function Zc(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(jv())e.flags|=8192;else throw Wi=Go,Ed}else e.flags&=-16777217}function Cp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!lT(t))if(jv())e.flags|=8192;else throw Wi=Go,Ed}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?B_():536870912,e.lanes|=t,ur|=t)}function Zr(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function FS(e,t,n){var i=t.pendingProps;switch(pd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(Yt),ir(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xa(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gc())),It(t),null;case 26:var a=t.type,r=t.memoizedState;return e===null?(Nn(t),r!==null?(It(t),Cp(t,r)):(It(t),Zc(t,a,null,i,n))):r?r!==e.memoizedState?(Nn(t),It(t),Cp(t,r)):(It(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Nn(t),It(t),Zc(t,a,e,i,n)),null;case 27:if(Uo(t),n=hi.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return It(t),null}e=pn.current,xa(t)?rp(t):(e=aT(a,i,n),t.stateNode=e,Nn(t))}return It(t),null;case 5:if(Uo(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return It(t),null}if(r=pn.current,xa(t))rp(t);else{var s=iu(hi.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?s.createElement(a,{is:i.is}):s.createElement(a)}}r[se]=t,r[ke]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;t:switch(ce(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Nn(t)}}return It(t),Zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=hi.current,xa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=le,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[se]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||tT(e.nodeValue,n)),e||Si(t,!0)}else e=iu(e).createTextNode(i),e[se]=t,t.stateNode=e}return It(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=xa(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[se]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),e=!1}else n=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Be(t),t):(Be(t),null);if(t.flags&128)throw Error(L(558))}return It(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=xa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[se]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),a=!1}else a=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Be(t),t):(Be(t),null)}return Be(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),It(t),null);case 4:return ir(),e===null&&Gd(t.stateNode.containerInfo),It(t),null;case 10:return Ln(t.type),It(t),null;case 19:if(ee(zt),i=t.memoizedState,i===null)return It(t),null;if(a=(t.flags&128)!==0,r=i.rendering,r===null)if(a)Zr(i,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=qo(e),r!==null){for(t.flags|=128,Zr(i,!1),e=r.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)gE(n,e),n=n.sibling;return wt(zt,zt.current&1|2),ct&&Dn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ge()>Jo&&(t.flags|=128,a=!0,Zr(i,!1),t.lanes=4194304)}else{if(!a)if(e=qo(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!ct)return It(t),null}else 2*Ge()-i.renderingStartTime>Jo&&n!==536870912&&(t.flags|=128,a=!0,Zr(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=zt.current,wt(zt,a?n&1|2:n&1),ct&&Dn(t,i.treeForkCount),e):(It(t),null);case 22:case 23:return Be(t),Td(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),n=t.updateQueue,n!==null&&Kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ee(Zi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(Yt),It(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function qS(e,t){switch(pd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(Yt),ir(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Uo(t),null;case 31:if(t.memoizedState!==null){if(Be(t),t.alternate===null)throw Error(L(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Be(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(zt),null;case 4:return ir(),null;case 10:return Ln(t.type),null;case 22:case 23:return Be(t),Td(),e!==null&&ee(Zi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(Yt),null;case 25:return null;default:return null}}function gv(e,t){switch(pd(t),t.tag){case 3:Ln(Yt),ir();break;case 26:case 27:case 5:Uo(t);break;case 4:ir();break;case 31:t.memoizedState!==null&&Be(t);break;case 13:Be(t);break;case 19:ee(zt);break;case 10:Ln(t.type);break;case 22:case 23:Be(t),Td(),e!==null&&ee(Zi);break;case 24:Ln(Yt)}}function hl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==a)}}catch(o){Et(t,t.return,o)}}function xi(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=t;var u=n,h=o;try{h()}catch(m){Et(a,u,m)}}}i=i.next}while(i!==r)}}catch(m){Et(t,t.return,m)}}function pv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xE(t,n)}catch(i){Et(e,e.return,i)}}}function yv(e,t,n){n.props=la(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Et(e,t,i)}}function As(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){Et(e,t,a)}}function gn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){Et(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Et(e,t,a)}else n.current=null}function _v(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){Et(e,e.return,a)}}function Wc(e,t,n){try{var i=e.stateNode;dx(i,e.type,n,t),i[ke]=t}catch(a){Et(e,e.return,a)}}function Ev(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Oi(e.type)||e.tag===4}function th(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vn));else if(i!==4&&(i===27&&Oi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(lf(e,t,n),e=e.sibling;e!==null;)lf(e,t,n),e=e.sibling}function $o(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Oi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($o(e,t,n),e=e.sibling;e!==null;)$o(e,t,n),e=e.sibling}function vv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ce(t,i,n),t[se]=e,t[ke]=n}catch(r){Et(e,e.return,r)}}var On=!1,qt=!1,eh=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function YS(e,t){if(e=e.containerInfo,mf=lu,e=lE(e),hd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,h=0,m=0,p=e,g=null;e:for(;;){for(var y;p!==n||a!==0&&p.nodeType!==3||(o=s+a),p!==r||i!==0&&p.nodeType!==3||(u=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===e)break e;if(g===n&&++h===a&&(o=s),g===r&&++m===i&&(u=s),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(gf={focusedElem:e,selectionRange:n},lu=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){switch(t=Wt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var N=la(n.type,a);e=i.getSnapshotBeforeUpdate(N,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Et(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)yf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}}function Tv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Rn(e,n),i&4&&hl(5,n);break;case 1:if(Rn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Et(n,n.return,s)}else{var a=la(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Et(n,n.return,s)}}i&64&&pv(n),i&512&&As(n,n.return);break;case 3:if(Rn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xE(e,t)}catch(s){Et(n,n.return,s)}}break;case 27:t===null&&i&4&&vv(n);case 26:case 5:Rn(e,n),t===null&&i&4&&_v(n),i&512&&As(n,n.return);break;case 12:Rn(e,n);break;case 31:Rn(e,n),i&4&&Sv(e,n);break;case 13:Rn(e,n),i&4&&xv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ex.bind(null,n),Tx(e,n))));break;case 22:if(i=n.memoizedState!==null||On,!i){t=t!==null&&t.memoizedState!==null||qt,a=On;var r=qt;On=i,(qt=t)&&!r?Cn(e,n,(n.subtreeFlags&8772)!==0):Rn(e,n),On=a,qt=r}break;case 30:break;default:Rn(e,n)}}function bv(e){var t=e.alternate;t!==null&&(e.alternate=null,bv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&rd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,De=!1;function In(e,t,n){for(n=n.child;n!==null;)Av(e,t,n),n=n.sibling}function Av(e,t,n){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 26:qt||gn(n,t),In(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qt||gn(n,t);var i=Mt,a=De;Oi(n.type)&&(Mt=n.stateNode,De=!1),In(e,t,n),Ns(n.stateNode),Mt=i,De=a;break;case 5:qt||gn(n,t);case 6:if(i=Mt,a=De,Mt=null,In(e,t,n),Mt=i,De=a,Mt!==null)if(De)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(r){Et(n,t,r)}else try{Mt.removeChild(n.stateNode)}catch(r){Et(n,t,r)}break;case 18:Mt!==null&&(De?(e=Mt,Fp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),dr(e)):Fp(Mt,n.stateNode));break;case 4:i=Mt,a=De,Mt=n.stateNode.containerInfo,De=!0,In(e,t,n),Mt=i,De=a;break;case 0:case 11:case 14:case 15:xi(2,n,t),qt||xi(4,n,t),In(e,t,n);break;case 1:qt||(gn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&yv(n,t,i)),In(e,t,n);break;case 21:In(e,t,n);break;case 22:qt=(i=qt)||n.memoizedState!==null,In(e,t,n),qt=i;break;default:In(e,t,n)}}function Sv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dr(e)}catch(n){Et(t,t.return,n)}}}function xv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dr(e)}catch(n){Et(t,t.return,n)}}function KS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Dp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Dp),t;default:throw Error(L(435,e.tag))}}function Ql(e,t){var n=KS(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=nx.bind(null,e,i);i.then(a,a)}})}function Ie(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Oi(o.type)){Mt=o.stateNode,De=!1;break t}break;case 5:Mt=o.stateNode,De=!1;break t;case 3:case 4:Mt=o.stateNode.containerInfo,De=!0;break t}o=o.return}if(Mt===null)throw Error(L(160));Av(r,s,a),Mt=null,De=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wv(t,e),t=t.sibling}var hn=null;function wv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),Re(e),i&4&&(xi(3,e,e.return),hl(3,e),xi(5,e,e.return));break;case 1:Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),i&64&&On&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=hn;if(Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[ll]||r[se]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),ce(r,i,n),r[se]=e,te(r),i=r;break t;case"link":var s=Jp("link","href",a).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(r=s[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}r=a.createElement(i),ce(r,i,n),a.head.appendChild(r);break;case"meta":if(s=Jp("meta","content",a).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(r=s[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}r=a.createElement(i),ce(r,i,n),a.head.appendChild(r);break;default:throw Error(L(468,i))}r[se]=e,te(r),i=r}e.stateNode=i}else Zp(a,e.type,e.stateNode);else e.stateNode=$p(a,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Zp(a,e.type,e.stateNode):$p(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),n!==null&&i&4&&Wc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),e.flags&32){a=e.stateNode;try{rr(a,"")}catch(N){Et(e,e.return,N)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Wc(e,a,n!==null?n.memoizedProps:a)),i&1024&&(eh=!0);break;case 6:if(Ie(t,e),Re(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(N){Et(e,e.return,N)}}break;case 3:if(xo=null,a=hn,hn=au(t.containerInfo),Ie(t,e),hn=a,Re(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{dr(t.containerInfo)}catch(N){Et(e,e.return,N)}eh&&(eh=!1,Nv(e));break;case 4:i=hn,hn=au(e.stateNode.containerInfo),Ie(t,e),Re(e),hn=i;break;case 12:Ie(t,e),Re(e);break;case 31:Ie(t,e),Re(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ql(e,i)));break;case 13:Ie(t,e),Re(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lu=Ge()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ql(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=On,m=qt;if(On=h||a,qt=m||u,Ie(t,e),qt=m,On=h,Re(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||On||qt||Yi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,a)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(N){Et(u,u.return,N)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(N){Et(u,u.return,N)}}}else if(t.tag===18){if(n===null){u=t;try{var y=u.stateNode;a?qp(y,!0):qp(u.stateNode,!1)}catch(N){Et(u,u.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ql(e,n))));break;case 19:Ie(t,e),Re(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ql(e,i)));break;case 30:break;case 21:break;default:Ie(t,e),Re(e)}}function Re(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Ev(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var a=n.stateNode,r=th(e);$o(e,r,a);break;case 5:var s=n.stateNode;n.flags&32&&(rr(s,""),n.flags&=-33);var o=th(e);$o(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,h=th(e);lf(e,h,u);break;default:throw Error(L(161))}}catch(m){Et(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Tv(e,t.alternate,t),t=t.sibling}function Yi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xi(4,t,t.return),Yi(t);break;case 1:gn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&yv(t,t.return,n),Yi(t);break;case 27:Ns(t.stateNode);case 26:case 5:gn(t,t.return),Yi(t);break;case 22:t.memoizedState===null&&Yi(t);break;case 30:Yi(t);break;default:Yi(t)}e=e.sibling}}function Cn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Cn(a,r,n),hl(4,r);break;case 1:if(Cn(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){Et(i,i.return,h)}if(i=r,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)SE(u[a],o)}catch(h){Et(i,i.return,h)}}n&&s&64&&pv(r),As(r,r.return);break;case 27:vv(r);case 26:case 5:Cn(a,r,n),n&&i===null&&s&4&&_v(r),As(r,r.return);break;case 12:Cn(a,r,n);break;case 31:Cn(a,r,n),n&&s&4&&Sv(a,r);break;case 13:Cn(a,r,n),n&&s&4&&xv(a,r);break;case 22:r.memoizedState===null&&Cn(a,r,n),As(r,r.return);break;case 30:break;default:Cn(a,r,n)}t=t.sibling}}function Ld(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ul(n))}function jd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e))}function cn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iv(e,t,n,i),t=t.sibling}function Iv(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:cn(e,t,n,i),a&2048&&hl(9,t);break;case 1:cn(e,t,n,i);break;case 3:cn(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e)));break;case 12:if(a&2048){cn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,o=r.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Et(t,t.return,u)}}else cn(e,t,n,i);break;case 31:cn(e,t,n,i);break;case 13:cn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?cn(e,t,n,i):Ss(e,t):r._visibility&2?cn(e,t,n,i):(r._visibility|=2,Ia(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Ld(s,t);break;case 24:cn(e,t,n,i),a&2048&&jd(t.alternate,t);break;default:cn(e,t,n,i)}}function Ia(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,o=n,u=i,h=s.flags;switch(s.tag){case 0:case 11:case 15:Ia(r,s,o,u,a),hl(8,s);break;case 23:break;case 22:var m=s.stateNode;s.memoizedState!==null?m._visibility&2?Ia(r,s,o,u,a):Ss(r,s):(m._visibility|=2,Ia(r,s,o,u,a)),a&&h&2048&&Ld(s.alternate,s);break;case 24:Ia(r,s,o,u,a),a&&h&2048&&jd(s.alternate,s);break;default:Ia(r,s,o,u,a)}t=t.sibling}}function Ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Ss(n,i),a&2048&&Ld(i.alternate,i);break;case 24:Ss(n,i),a&2048&&jd(i.alternate,i);break;default:Ss(n,i)}t=t.sibling}}var os=8192;function wa(e,t,n){if(e.subtreeFlags&os)for(e=e.child;e!==null;)Rv(e,t,n),e=e.sibling}function Rv(e,t,n){switch(e.tag){case 26:wa(e,t,n),e.flags&os&&e.memoizedState!==null&&Mx(n,hn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,t,n);break;case 3:case 4:var i=hn;hn=au(e.stateNode.containerInfo),wa(e,t,n),hn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=os,os=16777216,wa(e,t,n),os=i):wa(e,t,n));break;default:wa(e,t,n)}}function Cv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Ov(i,e)}Cv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dv(e),e=e.sibling}function Dv(e){switch(e.tag){case 0:case 11:case 15:Wr(e),e.flags&2048&&xi(9,e,e.return);break;case 3:Wr(e);break;case 12:Wr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ao(e)):Wr(e);break;default:Wr(e)}}function Ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Ov(i,e)}Cv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xi(8,t,t.return),Ao(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ao(t));break;default:Ao(t)}e=e.sibling}}function Ov(e,t){for(;Wt!==null;){var n=Wt;switch(n.tag){case 0:case 11:case 15:xi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ul(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Wt=i;else t:for(n=e;Wt!==null;){i=Wt;var a=i.sibling,r=i.return;if(bv(i),i===n){Wt=null;break t}if(a!==null){a.return=r,Wt=a;break t}Wt=r}}}var QS={getCacheForType:function(e){var t=ue(Yt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ue(Yt).controller.signal}},XS=typeof WeakMap=="function"?WeakMap:Map,pt=0,xt=null,lt=null,ut=0,_t=0,je=null,li=!1,wr=!1,Bd=!1,Gn=0,jt=0,wi=0,ta=0,Pd=0,ze=0,ur=0,xs=null,Oe=null,of=!1,Lu=0,Mv=0,Jo=1/0,Zo=null,gi=null,Qt=0,pi=null,cr=null,jn=0,uf=0,cf=null,Vv=null,ws=0,hf=null;function Ye(){return pt&2&&ut!==0?ut&-ut:Z.T!==null?Hd():G_()}function kv(){if(ze===0)if(!(ut&536870912)||ct){var e=Pl;Pl<<=1,!(Pl&3932160)&&(Pl=262144),ze=e}else ze=536870912;return e=Xe.current,e!==null&&(e.flags|=32),ze}function Ve(e,t,n){(e===xt&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(hr(e,0),oi(e,ut,ze,!1)),sl(e,n),(!(pt&2)||e!==xt)&&(e===xt&&(!(pt&2)&&(ta|=n),jt===4&&oi(e,ut,ze,!1)),An(e))}function Uv(e,t,n){if(pt&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||rl(e,t),a=i?ZS(e,t):nh(e,t,!0),r=i;do{if(a===0){wr&&!i&&oi(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!$S(n)){a=nh(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;a=xs;var u=o.current.memoizedState.isDehydrated;if(u&&(hr(o,s).flags|=256),s=nh(o,s,!1),s!==2){if(Bd&&!u){o.errorRecoveryDisabledLanes|=r,ta|=r,a=4;break t}r=Oe,Oe=a,r!==null&&(Oe===null?Oe=r:Oe.push.apply(Oe,r))}a=s}if(r=!1,a!==2)continue}}if(a===1){hr(e,0),oi(e,t,0,!0);break}t:{switch(i=e,r=a,r){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:oi(i,t,ze,!li);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(a=Lu+300-Ge(),10<a)){if(oi(i,t,ze,!li),wu(i,0,!0)!==0)break t;jn=t,i.timeoutHandle=nT(Op.bind(null,i,n,Oe,Zo,of,t,ze,ta,ur,li,r,"Throttled",-0,0),a);break t}Op(i,n,Oe,Zo,of,t,ze,ta,ur,li,r,null,-0,0)}}break}while(!0);An(e)}function Op(e,t,n,i,a,r,s,o,u,h,m,p,g,y){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},Rv(t,r,p);var N=(r&62914560)===r?Lu-Ge():(r&4194048)===r?Mv-Ge():0;if(N=Vx(p,N),N!==null){jn=r,e.cancelPendingCommit=N(Vp.bind(null,e,t,r,n,i,a,s,o,u,m,p,null,g,y)),oi(e,r,s,!h);return}}Vp(e,t,r,n,i,a,s,o,u)}function $S(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!Qe(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t,n,i){t&=~Pd,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var r=31-qe(a),s=1<<r;i[r]=-1,a&=~s}n!==0&&P_(e,n,t)}function ju(){return pt&6?!0:(fl(0),!1)}function zd(){if(lt!==null){if(_t===0)var e=lt.return;else e=lt,kn=ya=null,wd(e),Ja=null,Bs=0,e=lt;for(;e!==null;)gv(e.alternate,e),e=e.return;lt=null}}function hr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,px(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),jn=0,zd(),xt=e,lt=n=Un(e.current,null),ut=t,_t=0,je=null,li=!1,wr=rl(e,t),Bd=!1,ur=ze=Pd=ta=wi=jt=0,Oe=xs=null,of=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-qe(i),r=1<<a;t|=e[a],i&=~r}return Gn=t,Cu(),n}function Lv(e,t){at=null,Z.H=zs,t===xr||t===Ou?(t=cp(),_t=3):t===Ed?(t=cp(),_t=4):_t=t===kd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,je=t,lt===null&&(jt=1,Qo(e,nn(t,e.current)))}function jv(){var e=Xe.current;return e===null?!0:(ut&4194048)===ut?rn===null:(ut&62914560)===ut||ut&536870912?e===rn:!1}function Bv(){var e=Z.H;return Z.H=zs,e===null?zs:e}function Pv(){var e=Z.A;return Z.A=QS,e}function Wo(){jt=4,li||(ut&4194048)!==ut&&Xe.current!==null||(wr=!0),!(wi&134217727)&&!(ta&134217727)||xt===null||oi(xt,ut,ze,!1)}function nh(e,t,n){var i=pt;pt|=2;var a=Bv(),r=Pv();(xt!==e||ut!==t)&&(Zo=null,hr(e,t)),t=!1;var s=jt;t:do try{if(_t!==0&&lt!==null){var o=lt,u=je;switch(_t){case 8:zd(),s=6;break t;case 3:case 2:case 9:case 6:Xe.current===null&&(t=!0);var h=_t;if(_t=0,je=null,qa(e,o,u,h),n&&wr){s=0;break t}break;default:h=_t,_t=0,je=null,qa(e,o,u,h)}}JS(),s=jt;break}catch(m){Lv(e,m)}while(!0);return t&&e.shellSuspendCounter++,kn=ya=null,pt=i,Z.H=a,Z.A=r,lt===null&&(xt=null,ut=0,Cu()),s}function JS(){for(;lt!==null;)zv(lt)}function ZS(e,t){var n=pt;pt|=2;var i=Bv(),a=Pv();xt!==e||ut!==t?(Zo=null,Jo=Ge()+500,hr(e,t)):wr=rl(e,t);t:do try{if(_t!==0&&lt!==null){t=lt;var r=je;e:switch(_t){case 1:_t=0,je=null,qa(e,t,r,1);break;case 2:case 9:if(up(r)){_t=0,je=null,Mp(t);break}t=function(){_t!==2&&_t!==9||xt!==e||(_t=7),An(e)},r.then(t,t);break t;case 3:_t=7;break t;case 4:_t=5;break t;case 7:up(r)?(_t=0,je=null,Mp(t)):(_t=0,je=null,qa(e,t,r,7));break;case 5:var s=null;switch(lt.tag){case 26:s=lt.memoizedState;case 5:case 27:var o=lt;if(s?lT(s):o.stateNode.complete){_t=0,je=null;var u=o.sibling;if(u!==null)lt=u;else{var h=o.return;h!==null?(lt=h,Bu(h)):lt=null}break e}}_t=0,je=null,qa(e,t,r,5);break;case 6:_t=0,je=null,qa(e,t,r,6);break;case 8:zd(),jt=6;break t;default:throw Error(L(462))}}WS();break}catch(m){Lv(e,m)}while(!0);return kn=ya=null,Z.H=i,Z.A=a,pt=n,lt!==null?0:(xt=null,ut=0,Cu(),jt)}function WS(){for(;lt!==null&&!b1();)zv(lt)}function zv(e){var t=mv(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?Bu(e):lt=t}function Mp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wp(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=wp(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:wd(t);default:gv(n,t),t=lt=gE(t,Gn),t=mv(n,t,Gn)}e.memoizedProps=e.pendingProps,t===null?Bu(e):lt=t}function qa(e,t,n,i){kn=ya=null,wd(t),Ja=null,Bs=0;var a=t.return;try{if(zS(e,a,t,n,ut)){jt=1,Qo(e,nn(n,e.current)),lt=null;return}}catch(r){if(a!==null)throw lt=a,r;jt=1,Qo(e,nn(n,e.current)),lt=null;return}t.flags&32768?(ct||i===1?e=!0:wr||ut&536870912?e=!1:(li=e=!0,(i===2||i===9||i===3||i===6)&&(i=Xe.current,i!==null&&i.tag===13&&(i.flags|=16384))),Hv(t,e)):Bu(t)}function Bu(e){var t=e;do{if(t.flags&32768){Hv(t,li);return}e=t.return;var n=FS(t.alternate,t,Gn);if(n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);jt===0&&(jt=5)}function Hv(e,t){do{var n=qS(e.alternate,e);if(n!==null){n.flags&=32767,lt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){lt=e;return}lt=e=n}while(e!==null);jt=6,lt=null}function Vp(e,t,n,i,a,r,s,o,u){e.cancelPendingCommit=null;do Pu();while(Qt!==0);if(pt&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(r=t.lanes|t.childLanes,r|=fd,O1(e,n,r,s,o,u),e===xt&&(lt=xt=null,ut=0),cr=t,pi=e,jn=n,uf=r,cf=a,Vv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ix(Lo,function(){return Kv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Z.T,Z.T=null,a=yt.p,yt.p=2,s=pt,pt|=4;try{YS(e,t,n)}finally{pt=s,yt.p=a,Z.T=i}}Qt=1,Gv(),Fv(),qv()}}function Gv(){if(Qt===1){Qt=0;var e=pi,t=cr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Z.T,Z.T=null;var i=yt.p;yt.p=2;var a=pt;pt|=4;try{wv(t,e);var r=gf,s=lE(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&sE(o.ownerDocument.documentElement,o)){if(u!==null&&hd(o)){var h=u.start,m=u.end;if(m===void 0&&(m=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(m,o.value.length);else{var p=o.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var y=g.getSelection(),N=o.textContent.length,M=Math.min(u.start,N),R=u.end===void 0?M:Math.min(u.end,N);!y.extend&&M>R&&(s=R,R=M,M=s);var T=np(o,M),A=np(o,R);if(T&&A&&(y.rangeCount!==1||y.anchorNode!==T.node||y.anchorOffset!==T.offset||y.focusNode!==A.node||y.focusOffset!==A.offset)){var x=p.createRange();x.setStart(T.node,T.offset),y.removeAllRanges(),M>R?(y.addRange(x),y.extend(A.node,A.offset)):(x.setEnd(A.node,A.offset),y.addRange(x))}}}}for(p=[],y=o;y=y.parentNode;)y.nodeType===1&&p.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var C=p[o];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}lu=!!mf,gf=mf=null}finally{pt=a,yt.p=i,Z.T=n}}e.current=t,Qt=2}}function Fv(){if(Qt===2){Qt=0;var e=pi,t=cr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Z.T,Z.T=null;var i=yt.p;yt.p=2;var a=pt;pt|=4;try{Tv(e,t.alternate,t)}finally{pt=a,yt.p=i,Z.T=n}}Qt=3}}function qv(){if(Qt===4||Qt===3){Qt=0,A1();var e=pi,t=cr,n=jn,i=Vv;t.subtreeFlags&10256||t.flags&10256?Qt=5:(Qt=0,cr=pi=null,Yv(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(gi=null),ad(n),t=t.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(al,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Z.T,a=yt.p,yt.p=2,Z.T=null;try{for(var r=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];r(o.value,{componentStack:o.stack})}}finally{Z.T=t,yt.p=a}}jn&3&&Pu(),An(e),a=e.pendingLanes,n&261930&&a&42?e===hf?ws++:(ws=0,hf=e):ws=0,fl(0)}}function Yv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ul(t)))}function Pu(){return Gv(),Fv(),qv(),Kv()}function Kv(){if(Qt!==5)return!1;var e=pi,t=uf;uf=0;var n=ad(jn),i=Z.T,a=yt.p;try{yt.p=32>n?32:n,Z.T=null,n=cf,cf=null;var r=pi,s=jn;if(Qt=0,cr=pi=null,jn=0,pt&6)throw Error(L(331));var o=pt;if(pt|=4,Dv(r.current),Iv(r,r.current,s,n),pt=o,fl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(al,r)}catch{}return!0}finally{yt.p=a,Z.T=i,Yv(e,t)}}function kp(e,t,n){t=nn(n,t),t=af(e.stateNode,t,2),e=mi(e,t,2),e!==null&&(sl(e,2),An(e))}function Et(e,t,n){if(e.tag===3)kp(e,e,n);else for(;t!==null;){if(t.tag===3){kp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gi===null||!gi.has(i))){e=nn(n,e),n=ov(2),i=mi(t,n,2),i!==null&&(uv(n,i,t,e),sl(i,2),An(i));break}}t=t.return}}function ih(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new XS;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(Bd=!0,a.add(n),e=tx.bind(null,e,t,n),t.then(e,e))}function tx(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xt===e&&(ut&n)===n&&(jt===4||jt===3&&(ut&62914560)===ut&&300>Ge()-Lu?!(pt&2)&&hr(e,0):Pd|=n,ur===ut&&(ur=0)),An(e)}function Qv(e,t){t===0&&(t=B_()),e=pa(e,t),e!==null&&(sl(e,t),An(e))}function ex(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qv(e,n)}function nx(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),Qv(e,n)}function ix(e,t){return nd(e,t)}var tu=null,Ra=null,ff=!1,eu=!1,ah=!1,ui=0;function An(e){e!==Ra&&e.next===null&&(Ra===null?tu=Ra=e:Ra=Ra.next=e),eu=!0,ff||(ff=!0,rx())}function fl(e,t){if(!ah&&eu){ah=!0;do for(var n=!1,i=tu;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var s=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-qe(42|e)+1)-1,r&=a&~(s&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Up(i,r))}else r=ut,r=wu(i,i===xt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||rl(i,r)||(n=!0,Up(i,r));i=i.next}while(n);ah=!1}}function ax(){Xv()}function Xv(){eu=ff=!1;var e=0;ui!==0&&gx()&&(e=ui);for(var t=Ge(),n=null,i=tu;i!==null;){var a=i.next,r=$v(i,t);r===0?(i.next=null,n===null?tu=a:n.next=a,a===null&&(Ra=n)):(n=i,(e!==0||r&3)&&(eu=!0)),i=a}Qt!==0&&Qt!==5||fl(e),ui!==0&&(ui=0)}function $v(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-qe(r),o=1<<s,u=a[s];u===-1?(!(o&n)||o&i)&&(a[s]=D1(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=xt,n=ut,n=wu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Oc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Oc(i),ad(n)){case 2:case 8:n=L_;break;case 32:n=Lo;break;case 268435456:n=j_;break;default:n=Lo}return i=Jv.bind(null,e),n=nd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Oc(i),e.callbackPriority=2,e.callbackNode=null,2}function Jv(e,t){if(Qt!==0&&Qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pu()&&e.callbackNode!==n)return null;var i=ut;return i=wu(e,e===xt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Uv(e,i,t),$v(e,Ge()),e.callbackNode!=null&&e.callbackNode===n?Jv.bind(null,e):null)}function Up(e,t){if(Pu())return null;Uv(e,t,!0)}function rx(){yx(function(){pt&6?nd(U_,ax):Xv()})}function Hd(){if(ui===0){var e=sr;e===0&&(e=Bl,Bl<<=1,!(Bl&261888)&&(Bl=256)),ui=e}return ui}function Lp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mo(""+e)}function jp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function sx(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var r=Lp((a[ke]||null).action),s=i.submitter;s&&(t=(t=s[ke]||null)?Lp(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var o=new Nu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ui!==0){var u=s?jp(a,s):new FormData(a);ef(n,{pending:!0,data:u,method:a.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=s?jp(a,s):new FormData(a),ef(n,{pending:!0,data:u,method:a.method,action:r},r,u))},currentTarget:a}]})}}for(var rh=0;rh<Gh.length;rh++){var sh=Gh[rh],lx=sh.toLowerCase(),ox=sh[0].toUpperCase()+sh.slice(1);fn(lx,"on"+ox)}fn(uE,"onAnimationEnd");fn(cE,"onAnimationIteration");fn(hE,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(SS,"onTransitionRun");fn(xS,"onTransitionStart");fn(wS,"onTransitionCancel");fn(fE,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function Zv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(m){Bo(m)}a.currentTarget=null,r=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,h=o.currentTarget,o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(m){Bo(m)}a.currentTarget=null,r=u}}}}function st(e,t){var n=t[kh];n===void 0&&(n=t[kh]=new Set);var i=e+"__bubble";n.has(i)||(Wv(t,e,2,!1),n.add(i))}function lh(e,t,n){var i=0;t&&(i|=4),Wv(n,e,i,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Gd(e){if(!e[Xl]){e[Xl]=!0,F_.forEach(function(n){n!=="selectionchange"&&(ux.has(n)||lh(n,!1,e),lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,lh("selectionchange",!1,t))}}function Wv(e,t,n,i){switch(fT(t)){case 2:var a=Lx;break;case 8:a=jx;break;default:a=Kd}n=a.bind(null,t,n,e),a=void 0,!Ph||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function oh(e,t,n,i,a){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Ua(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=r=s;continue t}o=o.parentNode}}i=i.return}Z_(function(){var h=r,m=ld(n),p=[];t:{var g=dE.get(e);if(g!==void 0){var y=Nu,N=e;switch(e){case"keypress":if(po(n)===0)break t;case"keydown":case"keyup":y=nS;break;case"focusin":N="focus",y=Lc;break;case"focusout":N="blur",y=Lc;break;case"beforeblur":case"afterblur":y=Lc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=F1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=rS;break;case uE:case cE:case hE:y=K1;break;case fE:y=lS;break;case"scroll":case"scrollend":y=H1;break;case"wheel":y=uS;break;case"copy":case"cut":case"paste":y=X1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Qg;break;case"toggle":case"beforetoggle":y=hS}var M=(t&4)!==0,R=!M&&(e==="scroll"||e==="scrollend"),T=M?g!==null?g+"Capture":null:g;M=[];for(var A=h,x;A!==null;){var C=A;if(x=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||x===null||T===null||(C=Vs(A,T),C!=null&&M.push(Gs(A,C,x))),R)break;A=A.return}0<M.length&&(g=new y(g,N,null,n,m),p.push({event:g,listeners:M}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Bh&&(N=n.relatedTarget||n.fromElement)&&(Ua(N)||N[br]))break t;if((y||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,y?(N=n.relatedTarget||n.toElement,y=h,N=N?Ua(N):null,N!==null&&(R=il(N),M=N.tag,N!==R||M!==5&&M!==27&&M!==6)&&(N=null)):(y=null,N=h),y!==N)){if(M=Yg,C="onMouseLeave",T="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(M=Qg,C="onPointerLeave",T="onPointerEnter",A="pointer"),R=y==null?g:ss(y),x=N==null?g:ss(N),g=new M(C,A+"leave",y,n,m),g.target=R,g.relatedTarget=x,C=null,Ua(m)===h&&(M=new M(T,A+"enter",N,n,m),M.target=x,M.relatedTarget=R,C=M),R=C,y&&N)e:{for(M=cx,T=y,A=N,x=0,C=T;C;C=M(C))x++;C=0;for(var P=A;P;P=M(P))C++;for(;0<x-C;)T=M(T),x--;for(;0<C-x;)A=M(A),C--;for(;x--;){if(T===A||A!==null&&T===A.alternate){M=T;break e}T=M(T),A=M(A)}M=null}else M=null;y!==null&&Bp(p,g,y,M,!1),N!==null&&R!==null&&Bp(p,R,N,M,!0)}}t:{if(g=h?ss(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var H=Zg;else if(Jg(g))if(aE)H=TS;else{H=ES;var v=_S}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&sd(h.elementType)&&(H=Zg):H=vS;if(H&&(H=H(e,h))){iE(p,H,n,m);break t}v&&v(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&jh(g,"number",g.value)}switch(v=h?ss(h):window,e){case"focusin":(Jg(v)||v.contentEditable==="true")&&(Ba=v,zh=h,ys=null);break;case"focusout":ys=zh=Ba=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,ip(p,n,m);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":ip(p,n,m)}var _;if(cd)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else ja?eE(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(tE&&n.locale!=="ko"&&(ja||b!=="onCompositionStart"?b==="onCompositionEnd"&&ja&&(_=W_()):(si=m,od="value"in si?si.value:si.textContent,ja=!0)),v=nu(h,b),0<v.length&&(b=new Kg(b,e,null,n,m),p.push({event:b,listeners:v}),_?b.data=_:(_=nE(n),_!==null&&(b.data=_)))),(_=dS?mS(e,n):gS(e,n))&&(b=nu(h,"onBeforeInput"),0<b.length&&(v=new Kg("onBeforeInput","beforeinput",null,n,m),p.push({event:v,listeners:b}),v.data=_)),sx(p,e,h,n,m)}Zv(p,t)})}function Gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nu(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=Vs(e,n),a!=null&&i.unshift(Gs(e,a,r)),a=Vs(e,t),a!=null&&i.push(Gs(e,a,r))),e.tag===3)return i;e=e.return}return[]}function cx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bp(e,t,n,i,a){for(var r=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=Vs(n,r),h!=null&&s.unshift(Gs(n,h,u))):a||(h=Vs(n,r),h!=null&&s.push(Gs(n,h,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var hx=/\r\n?/g,fx=/\u0000|\uFFFD/g;function Pp(e){return(typeof e=="string"?e:""+e).replace(hx,`
`).replace(fx,"")}function tT(e,t){return t=Pp(t),Pp(e)===t}function Tt(e,t,n,i,a,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||rr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&rr(e,""+i);break;case"className":Hl(e,"class",i);break;case"tabIndex":Hl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Hl(e,n,i);break;case"style":J_(e,i,r);break;case"data":if(t!=="object"){Hl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=mo(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Tt(e,t,"name",a.name,a,null),Tt(e,t,"formEncType",a.formEncType,a,null),Tt(e,t,"formMethod",a.formMethod,a,null),Tt(e,t,"formTarget",a.formTarget,a,null)):(Tt(e,t,"encType",a.encType,a,null),Tt(e,t,"method",a.method,a,null),Tt(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=mo(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Vn);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=mo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":st("beforetoggle",e),st("toggle",e),fo(e,"popover",i);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fo(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=P1.get(n)||n,fo(e,n,i))}}function df(e,t,n,i,a,r){switch(n){case"style":J_(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?rr(e,i):(typeof i=="number"||typeof i=="bigint")&&rr(e,""+i);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!q_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[ke]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):fo(e,n,i)}}}function ce(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:Tt(e,t,r,s,n,null)}}a&&Tt(e,t,"srcSet",n.srcSet,n,null),i&&Tt(e,t,"src",n.src,n,null);return;case"input":st("invalid",e);var o=r=s=a=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":a=m;break;case"type":s=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:Tt(e,t,i,m,n,null)}}Q_(e,r,o,u,h,s,a,!1);return;case"select":st("invalid",e),i=s=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:Tt(e,t,a,o,n,null)}t=r,n=s,e.multiple=!!i,t!=null?Qa(e,!!i,t,!1):n!=null&&Qa(e,!!i,n,!0);return;case"textarea":st("invalid",e),r=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(L(91));break;default:Tt(e,t,s,o,n,null)}$_(e,i,a,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Tt(e,t,u,i,n,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(i=0;i<Hs.length;i++)st(Hs[i],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:Tt(e,t,h,i,n,null)}return;default:if(sd(t)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&df(e,t,m,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Tt(e,t,o,i,n,null))}function dx(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,s=null,o=null,u=null,h=null,m=null;for(y in n){var p=n[y];if(n.hasOwnProperty(y)&&p!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(y)||Tt(e,t,y,null,i,p)}}for(var g in i){var y=i[g];if(p=n[g],i.hasOwnProperty(g)&&(y!=null||p!=null))switch(g){case"type":r=y;break;case"name":a=y;break;case"checked":h=y;break;case"defaultChecked":m=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,t));break;default:y!==p&&Tt(e,t,g,y,i,p)}}Lh(e,s,o,u,h,m,r,a);return;case"select":y=s=o=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(r)||Tt(e,t,r,null,i,u)}for(a in i)if(r=i[a],u=n[a],i.hasOwnProperty(a)&&(r!=null||u!=null))switch(a){case"value":g=r;break;case"defaultValue":o=r;break;case"multiple":s=r;default:r!==u&&Tt(e,t,a,r,i,u)}t=o,n=s,i=y,g!=null?Qa(e,!!n,g,!1):!!i!=!!n&&(t!=null?Qa(e,!!n,t,!0):Qa(e,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Tt(e,t,o,null,i,a)}for(s in i)if(a=i[s],r=n[s],i.hasOwnProperty(s)&&(a!=null||r!=null))switch(s){case"value":g=a;break;case"defaultValue":y=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(L(91));break;default:a!==r&&Tt(e,t,s,a,i,r)}X_(e,g,y);return;case"option":for(var N in n)if(g=n[N],n.hasOwnProperty(N)&&g!=null&&!i.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:Tt(e,t,N,null,i,g)}for(u in i)if(g=i[u],y=n[u],i.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Tt(e,t,u,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)g=n[M],n.hasOwnProperty(M)&&g!=null&&!i.hasOwnProperty(M)&&Tt(e,t,M,null,i,g);for(h in i)if(g=i[h],y=n[h],i.hasOwnProperty(h)&&g!==y&&(g!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,t));break;default:Tt(e,t,h,g,i,y)}return;default:if(sd(t)){for(var R in n)g=n[R],n.hasOwnProperty(R)&&g!==void 0&&!i.hasOwnProperty(R)&&df(e,t,R,void 0,i,g);for(m in i)g=i[m],y=n[m],!i.hasOwnProperty(m)||g===y||g===void 0&&y===void 0||df(e,t,m,g,i,y);return}}for(var T in n)g=n[T],n.hasOwnProperty(T)&&g!=null&&!i.hasOwnProperty(T)&&Tt(e,t,T,null,i,g);for(p in i)g=i[p],y=n[p],!i.hasOwnProperty(p)||g===y||g==null&&y==null||Tt(e,t,p,g,i,y)}function zp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,s=a.initiatorType,o=a.duration;if(r&&o&&zp(s)){for(s=0,o=a.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var m=u.transferSize,p=u.initiatorType;m&&zp(p)&&(u=u.responseEnd,s+=m*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(r+s)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mf=null,gf=null;function iu(e){return e.nodeType===9?e:e.ownerDocument}function Hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uh=null;function gx(){var e=window.event;return e&&e.type==="popstate"?e===uh?!1:(uh=e,!0):(uh=null,!1)}var nT=typeof setTimeout=="function"?setTimeout:void 0,px=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,yx=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(e){return Gp.resolve(null).then(e).catch(_x)}:nT;function _x(e){setTimeout(function(){throw e})}function Oi(e){return e==="head"}function Fp(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),dr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ns(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ns(n);for(var r=n.firstChild;r;){var s=r.nextSibling,o=r.nodeName;r[ll]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&Ns(e.ownerDocument.body);n=a}while(n);dr(t)}function qp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function yf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yf(n),rd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ex(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ll])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=sn(e.nextSibling),e===null)break}return null}function vx(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=sn(e.nextSibling),e===null))return null;return e}function iT(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sn(e.nextSibling),e===null))return null;return e}function _f(e){return e.data==="$?"||e.data==="$~"}function Ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Tx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vf=null;function Yp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return sn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Kp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function aT(e,t,n){switch(t=iu(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function Ns(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);rd(e)}var ln=new Map,Qp=new Set;function au(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=yt.d;yt.d={f:bx,r:Ax,D:Sx,C:xx,L:wx,m:Nx,X:Rx,S:Ix,M:Cx};function bx(){var e=Kn.f(),t=ju();return e||t}function Ax(e){var t=Ar(e);t!==null&&t.tag===5&&t.type==="form"?JE(t):Kn.r(e)}var Nr=typeof document>"u"?null:document;function rT(e,t,n){var i=Nr;if(i&&typeof t=="string"&&t){var a=en(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Qp.has(a)||(Qp.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),ce(t,"link",e),te(t),i.head.appendChild(t)))}}function Sx(e){Kn.D(e),rT("dns-prefetch",e,null)}function xx(e,t){Kn.C(e,t),rT("preconnect",e,t)}function wx(e,t,n){Kn.L(e,t,n);var i=Nr;if(i&&e&&t){var a='link[rel="preload"][as="'+en(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+en(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+en(n.imageSizes)+'"]')):a+='[href="'+en(e)+'"]';var r=a;switch(t){case"style":r=fr(e);break;case"script":r=Ir(e)}ln.has(r)||(e=Dt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ln.set(r,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(dl(r))||t==="script"&&i.querySelector(ml(r))||(t=i.createElement("link"),ce(t,"link",e),te(t),i.head.appendChild(t)))}}function Nx(e,t){Kn.m(e,t);var n=Nr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+en(i)+'"][href="'+en(e)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ir(e)}if(!ln.has(r)&&(e=Dt({rel:"modulepreload",href:e},t),ln.set(r,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ml(r)))return}i=n.createElement("link"),ce(i,"link",e),te(i),n.head.appendChild(i)}}}function Ix(e,t,n){Kn.S(e,t,n);var i=Nr;if(i&&e){var a=Ka(i).hoistableStyles,r=fr(e);t=t||"default";var s=a.get(r);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(dl(r)))o.loading=5;else{e=Dt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ln.get(r))&&Fd(e,n);var u=s=i.createElement("link");te(u),ce(u,"link",e),u._p=new Promise(function(h,m){u.onload=h,u.onerror=m}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,So(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(r,s)}}}function Rx(e,t){Kn.X(e,t);var n=Nr;if(n&&e){var i=Ka(n).hoistableScripts,a=Ir(e),r=i.get(a);r||(r=n.querySelector(ml(a)),r||(e=Dt({src:e,async:!0},t),(t=ln.get(a))&&qd(e,t),r=n.createElement("script"),te(r),ce(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function Cx(e,t){Kn.M(e,t);var n=Nr;if(n&&e){var i=Ka(n).hoistableScripts,a=Ir(e),r=i.get(a);r||(r=n.querySelector(ml(a)),r||(e=Dt({src:e,async:!0,type:"module"},t),(t=ln.get(a))&&qd(e,t),r=n.createElement("script"),te(r),ce(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function Xp(e,t,n,i){var a=(a=hi.current)?au(a):null;if(!a)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fr(n.href),n=Ka(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fr(n.href);var r=Ka(a).hoistableStyles,s=r.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=a.querySelector(dl(e)))&&!r._p&&(s.instance=r,s.state.loading=5),ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ln.set(e,n),r||Dx(a,e,n,s.state))),t&&i===null)throw Error(L(528,""));return s}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ir(n),n=Ka(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function fr(e){return'href="'+en(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function sT(e){return Dt({},e,{"data-precedence":e.precedence,precedence:null})}function Dx(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ce(t,"link",n),te(t),e.head.appendChild(t))}function Ir(e){return'[src="'+en(e)+'"]'}function ml(e){return"script[async]"+e}function $p(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+en(n.href)+'"]');if(i)return t.instance=i,te(i),i;var a=Dt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),te(i),ce(i,"style",a),So(i,n.precedence,e),t.instance=i;case"stylesheet":a=fr(n.href);var r=e.querySelector(dl(a));if(r)return t.state.loading|=4,t.instance=r,te(r),r;i=sT(n),(a=ln.get(a))&&Fd(i,a),r=(e.ownerDocument||e).createElement("link"),te(r);var s=r;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ce(r,"link",i),t.state.loading|=4,So(r,n.precedence,e),t.instance=r;case"script":return r=Ir(n.src),(a=e.querySelector(ml(r)))?(t.instance=a,te(a),a):(i=n,(a=ln.get(r))&&(i=Dt({},n),qd(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),te(a),ce(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,So(i,n.precedence,e));return t.instance}function So(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xo=null;function Jp(e,t,n){if(xo===null){var i=new Map,a=xo=new Map;a.set(n,i)}else a=xo,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[ll]||r[se]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(r):i.set(s,[r])}}return i}function Zp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ox(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Mx(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=fr(i.href),r=t.querySelector(dl(a));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ru.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,te(r);return}r=t.ownerDocument||t,i=sT(i),(a=ln.get(a))&&Fd(i,a),r=r.createElement("link"),te(r);var s=r;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ce(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ru.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ch=0;function Vx(e,t){return e.stylesheets&&e.count===0&&wo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&ch===0&&(ch=62500*mx());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>ch?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var su=null;function wo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,su=new Map,t.forEach(kx,e),su=null,ru.call(e))}function kx(e,t){if(!(t.state.loading&4)){var n=su.get(e);if(n)var i=n.get(null);else{n=new Map,su.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var s=a[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}a=t.instance,s=a.getAttribute("data-precedence"),r=n.get(s)||i,r===i&&n.set(null,a),n.set(s,a),this.count++,i=ru.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Fs={$$typeof:Mn,Provider:null,Consumer:null,_currentValue:$i,_currentValue2:$i,_threadCount:0};function Ux(e,t,n,i,a,r,s,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.hiddenUpdates=Mc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function oT(e,t,n,i,a,r,s,o,u,h,m,p){return e=new Ux(e,t,n,s,u,h,m,p,o),t=1,r===!0&&(t|=24),r=Pe(3,null,null,t),e.current=r,r.stateNode=e,t=yd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},vd(r),e}function uT(e){return e?(e=Ha,e):Ha}function cT(e,t,n,i,a,r){a=uT(a),i.context===null?i.context=a:i.pendingContext=a,i=di(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=mi(e,i,t),n!==null&&(Ve(n,e,t),Es(n,e,t))}function Wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yd(e,t){Wp(e,t),(e=e.alternate)&&Wp(e,t)}function hT(e){if(e.tag===13||e.tag===31){var t=pa(e,67108864);t!==null&&Ve(t,e,67108864),Yd(e,67108864)}}function t0(e){if(e.tag===13||e.tag===31){var t=Ye();t=id(t);var n=pa(e,t);n!==null&&Ve(n,e,t),Yd(e,t)}}var lu=!0;function Lx(e,t,n,i){var a=Z.T;Z.T=null;var r=yt.p;try{yt.p=2,Kd(e,t,n,i)}finally{yt.p=r,Z.T=a}}function jx(e,t,n,i){var a=Z.T;Z.T=null;var r=yt.p;try{yt.p=8,Kd(e,t,n,i)}finally{yt.p=r,Z.T=a}}function Kd(e,t,n,i){if(lu){var a=Tf(i);if(a===null)oh(e,t,i,ou,n),e0(e,i);else if(Px(a,e,t,n,i))i.stopPropagation();else if(e0(e,i),t&4&&-1<Bx.indexOf(e)){for(;a!==null;){var r=Ar(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=Fi(r.pendingLanes);if(s!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-qe(s);o.entanglements[1]|=u,s&=~u}An(r),!(pt&6)&&(Jo=Ge()+500,fl(0))}}break;case 31:case 13:o=pa(r,2),o!==null&&Ve(o,r,2),ju(),Yd(r,2)}if(r=Tf(i),r===null&&oh(e,t,i,ou,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else oh(e,t,i,null,n)}}function Tf(e){return e=ld(e),Qd(e)}var ou=null;function Qd(e){if(ou=null,e=Ua(e),e!==null){var t=il(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=D_(t),e!==null)return e;e=null}else if(n===31){if(e=O_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function fT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(S1()){case U_:return 2;case L_:return 8;case Lo:case x1:return 32;case j_:return 268435456;default:return 32}default:return 32}}var bf=!1,yi=null,_i=null,Ei=null,qs=new Map,Ys=new Map,ai=[],Bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function ts(e,t,n,i,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},t!==null&&(t=Ar(t),t!==null&&hT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Px(e,t,n,i,a){switch(t){case"focusin":return yi=ts(yi,e,t,n,i,a),!0;case"dragenter":return _i=ts(_i,e,t,n,i,a),!0;case"mouseover":return Ei=ts(Ei,e,t,n,i,a),!0;case"pointerover":var r=a.pointerId;return qs.set(r,ts(qs.get(r)||null,e,t,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,Ys.set(r,ts(Ys.get(r)||null,e,t,n,i,a)),!0}return!1}function dT(e){var t=Ua(e.target);if(t!==null){var n=il(t);if(n!==null){if(t=n.tag,t===13){if(t=D_(n),t!==null){e.blockedOn=t,Bg(e.priority,function(){t0(n)});return}}else if(t===31){if(t=O_(n),t!==null){e.blockedOn=t,Bg(e.priority,function(){t0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function No(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Bh=i,n.target.dispatchEvent(i),Bh=null}else return t=Ar(n),t!==null&&hT(t),e.blockedOn=n,!1;t.shift()}return!0}function n0(e,t,n){No(e)&&n.delete(t)}function zx(){bf=!1,yi!==null&&No(yi)&&(yi=null),_i!==null&&No(_i)&&(_i=null),Ei!==null&&No(Ei)&&(Ei=null),qs.forEach(n0),Ys.forEach(n0)}function $l(e,t){e.blockedOn===t&&(e.blockedOn=null,bf||(bf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,zx)))}var Jl=null;function i0(e){Jl!==e&&(Jl=e,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,function(){Jl===e&&(Jl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Qd(i||n)===null)continue;break}var r=Ar(n);r!==null&&(e.splice(t,3),t-=3,ef(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function dr(e){function t(u){return $l(u,e)}yi!==null&&$l(yi,e),_i!==null&&$l(_i,e),Ei!==null&&$l(Ei,e),qs.forEach(t),Ys.forEach(t);for(var n=0;n<ai.length;n++){var i=ai[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)dT(n),n.blockedOn===null&&ai.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],s=a[ke]||null;if(typeof r=="function")s||i0(n);else if(s){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,s=r[ke]||null)o=s.formAction;else if(Qd(a)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),i0(n)}}}function mT(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Xd(e){this._internalRoot=e}zu.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Ye();cT(n,i,e,t,null,null)};zu.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cT(e.current,2,null,e,null,null),ju(),t[br]=null}};function zu(e){this._internalRoot=e}zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=G_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ai.length&&t!==0&&t<ai[n].priority;n++);ai.splice(n,0,e),n===0&&dT(e)}};var a0=R_.version;if(a0!=="19.2.3")throw Error(L(527,a0,"19.2.3"));yt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=y1(t),e=e!==null?M_(e):null,e=e===null?null:e.stateNode,e};var Hx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{al=Zl.inject(Hx),Fe=Zl}catch{}}Su.createRoot=function(e,t){if(!C_(e))throw Error(L(299));var n=!1,i="",a=rv,r=sv,s=lv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=oT(e,1,!1,null,null,n,i,null,a,r,s,mT),e[br]=t.current,Gd(e),new Xd(t)};Su.hydrateRoot=function(e,t,n){if(!C_(e))throw Error(L(299));var i=!1,a="",r=rv,s=sv,o=lv,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=oT(e,1,!0,t,n??null,i,a,u,r,s,o,mT),t.context=uT(null),n=t.current,i=Ye(),i=id(i),a=di(i),a.callback=null,mi(n,a,i),n=i,t.current.lanes=n,sl(t,n),An(t),e[br]=t.current,Gd(e),new zu(t)};Su.version="19.2.3";function gT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gT)}catch(e){console.error(e)}}gT(),A_.exports=Su;var Gx=A_.exports;const Fx=d_(Gx),qx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),f.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),f.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Yx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),$d=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),f.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),Kx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"}),f.jsx("line",{x1:"9",x2:"9",y1:"3",y2:"18"}),f.jsx("line",{x1:"15",x2:"15",y1:"6",y2:"21"})]}),pT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M5 12h14"}),f.jsx("path",{d:"M12 5v14"})]}),oa=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),Qx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"orange",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("circle",{cx:"12",cy:"12",r:"4"}),f.jsx("path",{d:"M12 2v2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),f.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),f.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),ua=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),Xx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),f.jsx("path",{d:"M16 14v6"}),f.jsx("path",{d:"M8 14v6"}),f.jsx("path",{d:"M12 16v6"})]}),yT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}),f.jsx("path",{d:"M7 2v20"}),f.jsx("path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"})]}),_T=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"}),f.jsx("circle",{cx:"7",cy:"17",r:"2"}),f.jsx("path",{d:"M9 17h6"}),f.jsx("circle",{cx:"17",cy:"17",r:"2"})]}),ET=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M2 4v16"}),f.jsx("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),f.jsx("path",{d:"M2 17h20"}),f.jsx("path",{d:"M6 8v9"})]}),vT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),f.jsx("path",{d:"M13 5v2"}),f.jsx("path",{d:"M13 17v2"}),f.jsx("path",{d:"M13 11v2"})]}),hh=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M2 12h20"}),f.jsx("path",{d:"M13 2 9 12h9l4 10"})]}),Io=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{x:"3",y:"5",width:"6",height:"6",rx:"1"}),f.jsx("path",{d:"m3 17 2 2 4-4"}),f.jsx("path",{d:"M13 6h8"}),f.jsx("path",{d:"M13 12h8"}),f.jsx("path",{d:"M13 18h8"})]}),TT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),$x=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M6 20h0a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h0"}),f.jsx("path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14"}),f.jsx("path",{d:"M10 20h4"}),f.jsx("circle",{cx:"16",cy:"20",r:"2"}),f.jsx("circle",{cx:"8",cy:"20",r:"2"})]}),Jx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"})]}),Zx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),f.jsx("path",{d:"M12 8v13"}),f.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),f.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]}),fh=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"m16 3 4 4-4 4"}),f.jsx("path",{d:"M20 7H4"}),f.jsx("path",{d:"m8 21-4-4 4-4"}),f.jsx("path",{d:"M4 17h16"})]}),r0=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),f.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),Wx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),f.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]});var tw={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var s0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(s0||(s0={}));var l0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(l0||(l0={}));var o0;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(o0||(o0={}));var u0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(u0||(u0={}));var c0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(c0||(c0={}));var h0;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(h0||(h0={}));var f0;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(f0||(f0={}));var d0;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(d0||(d0={}));var m0;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(m0||(m0={}));var g0;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(g0||(g0={}));var p0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(p0||(p0={}));var y0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(y0||(y0={}));var _0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(_0||(_0={}));var E0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(E0||(E0={}));var v0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(v0||(v0={}));var T0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(T0||(T0={}));var b0;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(b0||(b0={}));var A0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(A0||(A0={}));var S0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(S0||(S0={}));var x0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(x0||(x0={}));var w0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(w0||(w0={}));var N0;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(N0||(N0={}));var I0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(I0||(I0={}));var R0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(R0||(R0={}));var C0;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(C0||(C0={}));var D0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(D0||(D0={}));var O0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(O0||(O0={}));var M0;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(M0||(M0={}));var V0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(V0||(V0={}));var k0;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(k0||(k0={}));var U0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(U0||(U0={}));var L0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(L0||(L0={}));var j0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(j0||(j0={}));var B0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(B0||(B0={}));var P0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(P0||(P0={}));var z0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(z0||(z0={}));var H0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(H0||(H0={}));var G0;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(G0||(G0={}));var F0;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(F0||(F0={}));var q0;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(q0||(q0={}));var Y0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Y0||(Y0={}));var K0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(K0||(K0={}));var Q0;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Q0||(Q0={}));var X0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(X0||(X0={}));var $0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})($0||($0={}));var J0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(J0||(J0={}));var Z0;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Z0||(Z0={}));var W0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(W0||(W0={}));var ty;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ty||(ty={}));var ey;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ey||(ey={}));var ny;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ny||(ny={}));var iy;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(iy||(iy={}));var ay;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ay||(ay={}));var ry;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ry||(ry={}));var sy;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(sy||(sy={}));var ly;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ly||(ly={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oy;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(oy||(oy={}));function uu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function uy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(e){return this instanceof Vt?(this.v=e,this):new Vt(e)}function Is(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,r=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(y){return function(N){return Promise.resolve(N).then(y,p)}}function o(y,N){i[y]&&(a[y]=function(M){return new Promise(function(R,T){r.push([y,M,R,T])>1||u(y,M)})},N&&(a[y]=N(a[y])))}function u(y,N){try{h(i[y](N))}catch(M){g(r[0][3],M)}}function h(y){y.value instanceof Vt?Promise.resolve(y.value.v).then(m,p):g(r[0][2],y)}function m(y){u("next",y)}function p(y){u("throw",y)}function g(y,N){y(N),r.shift(),r.length&&u(r[0][0],r[0][1])}}function tr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof uy=="function"?uy(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=e[r]&&function(s){return new Promise(function(o,u){s=e[r](s),a(o,u,s.done,s.value)})}}function a(r,s,o,u){Promise.resolve(u).then(function(h){r({value:h,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bT=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return bT=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const ew=()=>bT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Af(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Sf=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class on extends Error{}class we extends on{constructor(t,n,i,a){super(`${we.makeMessage(t,n,i)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,i){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,i,a){if(!t||!a)return new Hu({message:i,cause:Sf(n)});const r=n;return t===400?new ST(t,r,i,a):t===401?new xT(t,r,i,a):t===403?new wT(t,r,i,a):t===404?new NT(t,r,i,a):t===409?new IT(t,r,i,a):t===422?new RT(t,r,i,a):t===429?new CT(t,r,i,a):t>=500?new DT(t,r,i,a):new we(t,r,i,a)}}class xf extends we{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Hu extends we{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class AT extends Hu{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ST extends we{}class xT extends we{}class wT extends we{}class NT extends we{}class IT extends we{}class RT extends we{}class CT extends we{}class DT extends we{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nw=/^[a-z][a-z0-9+.-]*:/i,iw=e=>nw.test(e);let wf=e=>(wf=Array.isArray,wf(e));const aw=wf;let rw=aw;const cy=rw;function sw(e){if(!e)return!0;for(const t in e)return!1;return!0}function lw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const ow=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new on(`${e} must be an integer`);if(t<0)throw new on(`${e} must be a positive integer`);return t},uw=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cw=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const fw=()=>{var e,t,n,i,a;const r=hw();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":fy(Deno.build.os),"X-Stainless-Arch":hy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":fy((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":hy((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const s=dw();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function dw(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const a=i[1]||0,r=i[2]||0,s=i[3]||0;return{browser:t,version:`${a}.${r}.${s}`}}}return null}const hy=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",fy=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Wl;const mw=()=>Wl??(Wl=fw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function OT(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function pw(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return OT({start(){},async pull(n){const{done:i,value:a}=await t.next();i?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function MT(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function yw(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _w=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VT=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dh(e,t,n){return VT(),new File(e,t??"unknown_file",n)}function Ew(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const vw=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kT=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Tw=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&kT(e),bw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Aw(e,t,n){if(VT(),e=await e,Tw(e))return e instanceof File?e:dh([await e.arrayBuffer()],e.name);if(bw(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),dh(await Nf(a),t,n)}const i=await Nf(e);if(t||(t=Ew(e)),!(n!=null&&n.type)){const a=i.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return dh(i,t,n)}async function Nf(e){var t,n,i,a,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(kT(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(vw(e))try{for(var o=!0,u=tr(e),h;h=await u.next(),t=h.done,!t;o=!0){a=h.value,o=!1;const m=a;s.push(...await Nf(m))}}catch(m){n={error:m}}finally{try{!o&&!t&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}else{const m=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${m?`; constructor: ${m}`:""}${Sw(e)}`)}return s}function Sw(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UT{constructor(t){this._client=t}}UT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LT(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dy=Object.freeze(Object.create(null)),xw=(e=LT)=>function(n,...i){if(n.length===1)return n[0];let a=!1;const r=[],s=n.reduce((m,p,g)=>{var y,N,M;/[?#]/.test(p)&&(a=!0);const R=i[g];let T=(a?encodeURIComponent:e)(""+R);return g!==i.length&&(R==null||typeof R=="object"&&R.toString===((M=Object.getPrototypeOf((N=Object.getPrototypeOf((y=R.hasOwnProperty)!==null&&y!==void 0?y:dy))!==null&&N!==void 0?N:dy))===null||M===void 0?void 0:M.toString))&&(T=R+"",r.push({start:m.length+p.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),m+p+(g===i.length?"":T)},""),o=s.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=u.exec(o))!==null;)r.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(r.sort((m,p)=>m.start-p.start),r.length>0){let m=0;const p=r.reduce((g,y)=>{const N=" ".repeat(y.start-m),M="^".repeat(y.length);return m=y.start+y.length,g+N+M},"");throw new on(`Path parameters result in path with invalid segments:
${r.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s},to=xw(LT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends UT{create(t,n){var i;const{api_version:a=this._client.apiVersion}=t,r=uu(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new on("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new on("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(to`/${a}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(to`/${a}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(to`/${a}/interactions/${t}/cancel`,i)}get(t,n={},i){var a;const r=n??{},{api_version:s=this._client.apiVersion}=r,o=uu(r,["api_version"]);return this._client.get(to`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},i),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}jT._key=Object.freeze(["interactions"]);class BT extends jT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ww(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let i=0;for(const a of e)n.set(a,i),i+=a.length;return n}let eo;function Jd(e){let t;return(eo??(t=new globalThis.TextEncoder,eo=t.encode.bind(t)))(e)}let no;function my(e){let t;return(no??(t=new globalThis.TextDecoder,no=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Jd(t):t;this.buffer=ww([this.buffer,n]);const i=[];let a;for(;(a=Nw(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(my(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,s=my(this.buffer.subarray(0,r));i.push(s),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Gu.NEWLINE_CHARS=new Set([`
`,"\r"]);Gu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Nw(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function Iw(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cu={off:0,error:200,warn:300,info:400,debug:500},gy=(e,t,n)=>{if(e){if(lw(cu,e))return e;Se(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(cu))}`)}};function us(){}function io(e,t,n){return!t||cu[e]>cu[n]?us:t[e].bind(t)}const Rw={error:us,warn:us,info:us,debug:us};let py=new WeakMap;function Se(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Rw;const a=py.get(n);if(a&&a[0]===i)return a[1];const r={error:io("error",n,i),warn:io("warn",n,i),info:io("info",n,i),debug:io("debug",n,i)};return py.set(n,[i,r]),r}const Ki=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let a=!1;const r=i?Se(i):console;function s(){return Is(this,arguments,function*(){var u,h,m,p;if(a)throw new on("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,N=tr(Cw(t,n)),M;M=yield Vt(N.next()),u=M.done,!u;y=!0){p=M.value,y=!1;const R=p;if(!g)if(R.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Vt(JSON.parse(R.data))}catch(T){throw r.error("Could not parse message into JSON:",R.data),r.error("From chunk:",R.raw),T}}}catch(R){h={error:R}}finally{try{!y&&!u&&(m=N.return)&&(yield Vt(m.call(N)))}finally{if(h)throw h.error}}g=!0}catch(R){if(Af(R))return yield Vt(void 0);throw R}finally{g||n.abort()}})}return new Ya(s,n,i)}static fromReadableStream(t,n,i){let a=!1;function r(){return Is(this,arguments,function*(){var u,h,m,p;const g=new Gu,y=MT(t);try{for(var N=!0,M=tr(y),R;R=yield Vt(M.next()),u=R.done,!u;N=!0){p=R.value,N=!1;const T=p;for(const A of g.decode(T))yield yield Vt(A)}}catch(T){h={error:T}}finally{try{!N&&!u&&(m=M.return)&&(yield Vt(m.call(M)))}finally{if(h)throw h.error}}for(const T of g.flush())yield yield Vt(T)})}function s(){return Is(this,arguments,function*(){var u,h,m,p;if(a)throw new on("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,N=tr(r()),M;M=yield Vt(N.next()),u=M.done,!u;y=!0){p=M.value,y=!1;const R=p;g||R&&(yield yield Vt(JSON.parse(R)))}}catch(R){h={error:R}}finally{try{!y&&!u&&(m=N.return)&&(yield Vt(m.call(N)))}finally{if(h)throw h.error}}g=!0}catch(R){if(Af(R))return yield Vt(void 0);throw R}finally{g||n.abort()}})}return new Ya(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),a=r=>({next:()=>{if(r.length===0){const s=i.next();t.push(s),n.push(s)}return r.shift()}});return[new Ya(()=>a(t),this.controller,this.client),new Ya(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return OT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:r}=await n.next();if(r)return i.close();const s=Jd(JSON.stringify(a)+`
`);i.enqueue(s)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function Cw(e,t){return Is(this,arguments,function*(){var i,a,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new on("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new on("Attempted to iterate over a response with no body");const o=new Ow,u=new Gu,h=MT(e.body);try{for(var m=!0,p=tr(Dw(h)),g;g=yield Vt(p.next()),i=g.done,!i;m=!0){s=g.value,m=!1;const y=s;for(const N of u.decode(y)){const M=o.decode(N);M&&(yield yield Vt(M))}}}catch(y){a={error:y}}finally{try{!m&&!i&&(r=p.return)&&(yield Vt(r.call(p)))}finally{if(a)throw a.error}}for(const y of u.flush()){const N=o.decode(y);N&&(yield yield Vt(N))}})}function Dw(e){return Is(this,arguments,function*(){var n,i,a,r;let s=new Uint8Array;try{for(var o=!0,u=tr(e),h;h=yield Vt(u.next()),n=h.done,!n;o=!0){r=h.value,o=!1;const m=r;if(m==null)continue;const p=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Jd(m):m;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let y;for(;(y=Iw(s))!==-1;)yield yield Vt(s.slice(0,y)),s=s.slice(y)}}catch(m){i={error:m}}finally{try{!o&&!n&&(a=u.return)&&(yield Vt(a.call(u)))}finally{if(i)throw i.error}}s.length>0&&(yield yield Vt(s))})}class Ow{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,a]=Mw(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function Mw(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Vw(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:r}=t,s=await(async()=>{var o;if(t.options.stream)return Se(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ya.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const u=n.headers.get("content-type"),h=(o=u==null?void 0:u.split(";")[0])===null||o===void 0?void 0:o.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return Se(e).debug(`[${i}] response parsed`,Ki({retryOfRequestLogID:a,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zd extends Promise{constructor(t,n,i=Vw){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new Zd(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PT=Symbol("brand.privateNullableHeaders");function*kw(e){if(!e)return;if(PT in e){const{values:i,nulls:a}=e;yield*i.entries();for(const r of a)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():cy(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const r=cy(i[1])?i[1]:[i[1]];let s=!1;for(const o of r)o!==void 0&&(t&&!s&&(s=!0,yield[a,null]),yield[a,o])}}const es=e=>{const t=new Headers,n=new Set;for(const i of e){const a=new Set;for(const[r,s]of kw(i)){const o=r.toLowerCase();a.has(o)||(t.delete(r),a.add(o)),s===null?(t.delete(r),n.add(o)):(t.append(r,s),n.delete(o))}}return{[PT]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mh=e=>{var t,n,i,a,r,s;if(typeof globalThis.process<"u")return(i=(n=(t=tw)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||r===void 0?void 0:r.call(a,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zT;class Fu{constructor(t){var n,i,a,r,s,o,u,{baseURL:h=mh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=mh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,g=uu(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:m,apiVersion:p},g),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(i=y.timeout)!==null&&i!==void 0?i:Fu.DEFAULT_TIMEOUT,this.logger=(a=y.logger)!==null&&a!==void 0?a:console;const N="warn";this.logLevel=N,this.logLevel=(s=(r=gy(y.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:gy(mh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:N,this.fetchOptions=y.fetchOptions,this.maxRetries=(o=y.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(u=y.fetch)!==null&&u!==void 0?u:gw(),this.encoder=_w,this._options=y,this.apiKey=m,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=es([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return es([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return es([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new on(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${ew()}`}makeStatusError(t,n,i,a){return we.generate(t,n,i,a)}buildURL(t,n,i){const a=!this.baseURLOverridden()&&i||this.baseURL,r=iw(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return sw(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new Zd(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var a,r,s;const o=await t,u=(a=o.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=u),await this.prepareOptions(o);const{req:h,url:m,timeout:p}=await this.buildRequest(o,{retryCount:u-n});await this.prepareRequest(h,{url:m,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=i===void 0?"":`, retryOf: ${i}`,N=Date.now();if(Se(this).debug(`[${g}] sending request`,Ki({retryOfRequestLogID:i,method:o.method,url:m,options:o,headers:h.headers})),!((r=o.signal)===null||r===void 0)&&r.aborted)throw new xf;const M=new AbortController,R=await this.fetchWithTimeout(m,h,p,M).catch(Sf),T=Date.now();if(R instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new xf;const C=Af(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(n)return Se(this).info(`[${g}] connection ${C?"timed out":"failed"} - ${x}`),Se(this).debug(`[${g}] connection ${C?"timed out":"failed"} (${x})`,Ki({retryOfRequestLogID:i,url:m,durationMs:T-N,message:R.message})),this.retryRequest(o,n,i??g);throw Se(this).info(`[${g}] connection ${C?"timed out":"failed"} - error; no more retries left`),Se(this).debug(`[${g}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Ki({retryOfRequestLogID:i,url:m,durationMs:T-N,message:R.message})),C?new AT:new Hu({cause:R})}const A=`[${g}${y}] ${h.method} ${m} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${T-N}ms`;if(!R.ok){const x=await this.shouldRetry(R);if(n&&x){const b=`retrying, ${n} attempts remaining`;return await yw(R.body),Se(this).info(`${A} - ${b}`),Se(this).debug(`[${g}] response error (${b})`,Ki({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:T-N})),this.retryRequest(o,n,i??g,R.headers)}const C=x?"error; no more retries left":"error; not retryable";Se(this).info(`${A} - ${C}`);const P=await R.text().catch(b=>Sf(b).message),H=uw(P),v=H?void 0:P;throw Se(this).debug(`[${g}] response error (${C})`,Ki({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,message:v,durationMs:Date.now()-N})),this.makeStatusError(R.status,H,v,R.headers)}return Se(this).info(A),Se(this).debug(`[${g}] response start`,Ki({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:T-N})),{response:R,options:o,controller:M,requestLogID:g,retryOfRequestLogID:i,startTime:N}}async fetchWithTimeout(t,n,i,a){const r=n||{},{signal:s,method:o}=r,u=uu(r,["signal","method"]);s&&s.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),i),m=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,p=Object.assign(Object.assign(Object.assign({signal:a.signal},m?{duplex:"half"}:{}),{method:"GET"}),u);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,a){var r;let s;const o=a==null?void 0:a.get("retry-after-ms");if(o){const h=parseFloat(o);Number.isNaN(h)||(s=h)}const u=a==null?void 0:a.get("retry-after");if(u&&!s){const h=parseFloat(u);Number.isNaN(h)?s=Date.parse(u)-Date.now():s=h*1e3}if(!(s&&0<=s&&s<60*1e3)){const h=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,h)}return await cw(s),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,a,r;const s=Object.assign({},t),{method:o,path:u,query:h,defaultBaseURL:m}=s,p=this.buildURL(u,h,m);"timeout"in s&&ow("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),N=await this.buildHeaders({options:t,method:o,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:N},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:a}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=es([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),mw()),this._options.defaultHeaders,i,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=es([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:pw(t)}:this.encoder({body:t,headers:i})}}Fu.DEFAULT_TIMEOUT=6e4;class de extends Fu{constructor(){super(...arguments),this.interactions=new BT(this)}}zT=de;de.GeminiNextGenAPIClient=zT;de.GeminiNextGenAPIClientError=on;de.APIError=we;de.APIConnectionError=Hu;de.APIConnectionTimeoutError=AT;de.APIUserAbortError=xf;de.NotFoundError=NT;de.ConflictError=IT;de.RateLimitError=CT;de.BadRequestError=ST;de.AuthenticationError=xT;de.InternalServerError=DT;de.PermissionDeniedError=wT;de.UnprocessableEntityError=RT;de.toFile=Aw;de.Interactions=BT;const Uw=async(e,t)=>" ( API Key AI )",Lw=({days:e,setDays:t,onMapClick:n,isReadOnly:i=!1})=>{const[a,r]=K.useState(0),[s,o]=K.useState(!1),[u,h]=K.useState(null),[m,p]=K.useState({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),[g,y]=K.useState(""),[N,M]=K.useState(!1),[R,T]=K.useState(!1),A=K.useRef(null),[x,C]=K.useState(null),[P,H]=K.useState(null),v=50,_=e[a];K.useEffect(()=>{if(e.length===0||R)return;const U=new Date,ht=`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}-${String(U.getDate()).padStart(2,"0")}`,k=e.findIndex(rt=>rt.date===ht);if(k!==-1)r(k);else{const rt=e[e.length-1].date;ht>rt&&r(e.length-1)}T(!0)},[e,R]),K.useEffect(()=>{if(A.current){const U=A.current.children;U[a]&&U[a].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[a]);const[b,S]=K.useState((_==null?void 0:_.tips)||"");K.useEffect(()=>{S((_==null?void 0:_.tips)||"")},[_]);const I=()=>{if(b!==_.tips&&!i){const U=[...e];U[a].tips=b,t(U)}},D=()=>{i||(h(null),p({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),y(""),o(!0))},w=U=>{i||(h(U),p({...U}),y(""),o(!0))},ne=()=>{if(!m.title||!m.time)return;const U=[...e],ht=U[a].events;if(u){const k=ht.findIndex(rt=>rt.id===u.id);k!==-1&&(ht[k]={...u,...m})}else{const k={id:Date.now().toString(),time:m.time,title:m.title,location:m.location||"",type:m.type,notes:m.notes,bookingUrl:m.bookingUrl,navLink:m.navLink,flightDetails:m.flightDetails};ht.push(k)}ht.sort((k,rt)=>k.time.localeCompare(rt.time)),t(U),o(!1)},me=U=>{if(i)return;const ht=[...e];ht[a].events=ht[a].events.filter(k=>k.id!==U),t(ht)},G=async()=>{if(!m.location)return;M(!0);const U=await Uw(m.location,m.time||"daytime");y(U),M(!1)},J=U=>{if(U.navLink)window.open(U.navLink,"_blank");else if(U.location){const ht=encodeURIComponent(U.location);window.open(`https://www.google.com/maps/search/?api=1&query=${ht}`,"_blank")}},$=U=>{H(null),C({x:U.targetTouches[0].clientX,y:U.targetTouches[0].clientY})},F=U=>{H({x:U.targetTouches[0].clientX,y:U.targetTouches[0].clientY})},Y=()=>{if(!x||!P)return;const U=x.x-P.x,ht=x.y-P.y,k=Math.abs(U)>Math.abs(ht),rt=Math.abs(U)>v;k&&rt&&(U>0?a<e.length-1&&r(Ot=>Ot+1):a>0&&r(Ot=>Ot-1))},At=U=>{switch(U){case"food":return"bg-orange-50 text-orange-800 border-orange-100";case"transport":return"bg-slate-100 text-slate-700 border-slate-200";case"hotel":return"bg-blue-50 text-blue-800 border-blue-100";case"flight":return"bg-white border-yellow-400 border-l-4";default:return"bg-emerald-50 text-emerald-800 border-emerald-100"}},W=U=>{switch(U){case"food":return f.jsx(yT,{className:"w-4 h-4"});case"transport":return f.jsx(_T,{className:"w-4 h-4"});case"hotel":return f.jsx(ET,{className:"w-4 h-4"});case"flight":return f.jsx(hh,{className:"w-4 h-4"});default:return f.jsx(vT,{className:"w-4 h-4"})}};return f.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[f.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md shadow-sm sticky top-0 z-10 transition-colors",children:[f.jsx("div",{ref:A,className:"flex overflow-x-auto py-3 px-2 space-x-2 snap-x no-scrollbar",children:e.map((U,ht)=>f.jsxs("button",{onClick:()=>r(ht),className:`flex-shrink-0 flex flex-col items-center justify-center min-w-[3.5rem] h-16 rounded-xl transition-all border snap-center ${a===ht?"bg-primary dark:bg-blue-600 text-white border-primary dark:border-blue-600 shadow-lg scale-105":"bg-white dark:bg-slate-800 text-gray-400 dark:text-gray-500 border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[f.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider",children:"Day"}),f.jsx("span",{className:"text-xl font-bold",children:U.day})]},U.day))}),f.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-slate-800 bg-white dark:bg-slate-900 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_.date}),f.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-gray-100 dark:bg-slate-800 rounded text-gray-500 dark:text-gray-400",children:_.weekday})]}),f.jsx("div",{className:"flex flex-col items-end shrink-0",children:f.jsxs("div",{className:"flex items-center gap-1",children:[_.weather==="rain"?f.jsx(Xx,{className:"w-5 h-5 text-blue-400"}):f.jsx(Qx,{className:"w-5 h-5"}),f.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-white",children:[_.temp,""]})]})})]}),f.jsx("textarea",{value:b,onChange:U=>S(U.target.value),onBlur:I,disabled:i,placeholder:i?"":" (...)",className:`w-full h-16 text-xs text-gray-600 dark:text-gray-300 bg-yellow-50/50 dark:bg-slate-800/50 border border-yellow-100 dark:border-slate-700 rounded-lg p-2 resize-none outline-none leading-relaxed transition-all placeholder-gray-400 dark:placeholder-gray-600 ${i?"opacity-70":"focus:ring-1 focus:ring-accent"}`})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-28 no-scrollbar min-h-0",onTouchStart:$,onTouchMove:F,onTouchEnd:Y,children:_.events.length===0?f.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[f.jsx("p",{children:""}),f.jsx("p",{className:"text-xs mt-2 opacity-50",children:"   "}),!i&&f.jsx("button",{onClick:D,className:"mt-4 text-primary dark:text-blue-400 font-medium",children:""})]}):_.events.map(U=>{var ht;return f.jsxs("div",{className:"relative flex group",children:[f.jsxs("div",{className:"flex flex-col items-center mr-4 w-12 pt-1 shrink-0",children:[f.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 font-mono",children:U.time}),f.jsx("div",{className:"h-full w-px bg-gray-200 dark:bg-slate-700 mt-2 mb-2 dashed"})]}),U.type==="flight"&&U.flightDetails?f.jsxs("div",{className:"flex-1 rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-none mb-1 relative transition-transform active:scale-[0.99] bg-white dark:bg-slate-800 min-w-0",children:[f.jsx("div",{className:"bg-yellow-400 h-2 w-full"}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("div",{className:"bg-yellow-400 p-1.5 rounded-full text-black shrink-0",children:f.jsx(hh,{className:"w-4 h-4"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase block truncate",children:U.flightDetails.airline}),f.jsx("span",{className:"text-lg font-black text-gray-900 dark:text-white leading-none truncate block",children:U.flightDetails.flightNumber})]})]}),U.bookingUrl&&f.jsxs("a",{href:U.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300 px-2 py-1 rounded-md shrink-0 whitespace-nowrap ml-2",children:["REF: ",((ht=U.notes)==null?void 0:ht.split(`
`)[0])||"LINK"]})]}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:U.flightDetails.departCode}),f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:U.flightDetails.departTerminal?`T${U.flightDetails.departTerminal}`:"T-"}),f.jsx("span",{className:"block text-xs font-bold mt-1 text-gray-800 dark:text-gray-200",children:U.time})]}),f.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center min-w-0",children:[f.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-1 truncate w-full text-center",children:U.flightDetails.duration}),f.jsxs("div",{className:"w-full h-0.5 bg-gray-200 dark:bg-slate-600 relative",children:[f.jsx("div",{className:"absolute -top-1 right-0 w-2 h-2 bg-gray-300 dark:bg-slate-500 rounded-full"}),f.jsx(hh,{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-4 h-4 text-yellow-500 rotate-90"})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:U.flightDetails.arriveCode}),f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:U.flightDetails.arriveTerminal?`T${U.flightDetails.arriveTerminal}`:"T-"})]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-dashed border-gray-200 dark:border-slate-700 gap-2",children:[f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate flex-1 min-w-0",children:U.title}),!i&&f.jsxs("div",{className:"flex space-x-2 shrink-0",children:[f.jsx("button",{onClick:()=>w(U),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(ua,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>me(U.id),className:"p-1 text-gray-400 hover:text-red-500",children:f.jsx(oa,{className:"w-4 h-4"})})]})]})]})]}):f.jsxs("div",{className:`flex-1 rounded-2xl p-4 border shadow-sm mb-1 ${At(U.type)} dark:border-none relative transition-transform active:scale-[0.99] dark:bg-slate-800 dark:text-gray-100 min-w-0`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[f.jsx("div",{className:`p-1.5 rounded-lg shrink-0 shadow-sm ${U.type==="food"?"bg-orange-100 text-orange-600 dark:bg-orange-900 dark:text-orange-300":U.type==="transport"?"bg-slate-200 text-slate-600 dark:bg-slate-700 dark:text-slate-300":U.type==="hotel"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"bg-emerald-100 text-emerald-600 dark:bg-emerald-900 dark:text-emerald-300"}`,children:W(U.type)}),f.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-white leading-tight pt-0.5 break-words min-w-0",children:U.title})]}),!i&&f.jsxs("div",{className:"flex space-x-1 shrink-0 ml-1",children:[f.jsx("button",{onClick:()=>w(U),className:"p-1 opacity-50 hover:opacity-100",children:f.jsx(ua,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>me(U.id),className:"p-1 opacity-50 hover:opacity-100",children:f.jsx(oa,{className:"w-4 h-4"})})]})]}),U.location&&f.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[f.jsxs("p",{className:"text-xs opacity-80 flex items-center min-w-0 flex-1",children:[f.jsx("span",{className:"mr-1 shrink-0",children:""}),f.jsx("span",{className:"truncate block",children:U.location})]}),f.jsxs("div",{className:"flex gap-2 shrink-0",children:[U.bookingUrl&&f.jsxs("a",{href:U.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 text-primary dark:text-blue-300 px-2 py-1 rounded-md transition-colors",children:[f.jsx($d,{className:"w-3 h-3 inline mr-1"}),""]}),f.jsxs("button",{onClick:()=>J(U),className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 text-primary dark:text-blue-300 px-2 py-1 rounded-md transition-colors",children:[f.jsx(Kx,{className:"w-3 h-3 inline mr-1"}),""]})]})]}),U.notes&&f.jsx("div",{className:"mt-2 text-xs bg-white/50 dark:bg-black/20 p-2 rounded-lg text-gray-600 dark:text-gray-300 whitespace-pre-line break-words",children:U.notes})]})]},U.id)})}),!i&&f.jsx("button",{onClick:D,className:"fixed bottom-20 right-6 w-14 h-14 bg-primary dark:bg-blue-600 text-white rounded-full shadow-lg shadow-primary/40 dark:shadow-blue-900/40 flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-20",children:f.jsx(pT,{className:"w-8 h-8"})}),s&&!i&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in max-h-[90vh] overflow-y-auto no-scrollbar",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:u?"":""}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"w-1/3",children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"time",value:m.time,onChange:U=>p({...m,time:U.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none text-center font-mono"})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsxs("select",{value:m.type,onChange:U=>p({...m,type:U.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none appearance-none",children:[f.jsx("option",{value:"activity",children:" "}),f.jsx("option",{value:"food",children:" "}),f.jsx("option",{value:"transport",children:" "}),f.jsx("option",{value:"hotel",children:" "}),f.jsx("option",{value:"flight",children:" "})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"text",value:m.title,onChange:U=>p({...m,title:U.target.value}),placeholder:"",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase flex justify-between",children:[f.jsx("span",{children:" / "}),f.jsx("button",{onClick:G,disabled:!m.location||N,className:"text-primary dark:text-blue-400 hover:underline disabled:opacity-50",children:N?"AI ...":" AI "})]}),f.jsx("input",{type:"text",value:m.location,onChange:U=>p({...m,location:U.target.value}),placeholder:"...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"}),g&&f.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-900/30 rounded-lg text-xs text-yellow-800 dark:text-yellow-200 animate-in fade-in",children:[" ",g]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" /  / "}),f.jsx("textarea",{value:m.notes||"",onChange:U=>p({...m,notes:U.target.value}),placeholder:"...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none h-20 resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" (Booking URL)"}),f.jsx("input",{type:"text",value:m.bookingUrl||"",onChange:U=>p({...m,bookingUrl:U.target.value}),placeholder:"https://...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none text-xs font-mono"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:""}),f.jsx("button",{onClick:ne,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30 dark:shadow-blue-900/30 hover:bg-slate-700 dark:hover:bg-blue-500 transition-colors",children:""})]})]})]})})]})},Ce=["",""],yy=["bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300","bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300","bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300","bg-lime-50 text-lime-700 dark:bg-lime-900/30 dark:text-lime-300","bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300","bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300","bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300","bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300","bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300","bg-violet-50 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300","bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300","bg-fuchsia-50 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300","bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300","bg-rose-50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"],jw=({expenses:e,setExpenses:t,categories:n,setCategories:i,isReadOnly:a=!1})=>{var ht;const[r,s]=K.useState(""),[o,u]=K.useState(Ce[0]),[h,m]=K.useState(Ce),[p,g]=K.useState(((ht=n[0])==null?void 0:ht.id)||"other"),[y,N]=K.useState(""),[M,R]=K.useState(""),[T,A]=K.useState("AUD"),[x,C]=K.useState(21.5),[P,H]=K.useState(""),[v,_]=K.useState(""),[b,S]=K.useState(!1),[I,D]=K.useState(""),w=k=>{H(k),k&&!isNaN(parseFloat(k))?_((parseFloat(k)*x).toFixed(0)):_("")},ne=k=>{_(k),k&&!isNaN(parseFloat(k))?H((parseFloat(k)/x).toFixed(2)):H("")},me=k=>{N(k),k&&!isNaN(parseFloat(k))?R((parseFloat(k)*x).toFixed(0)):R(""),A("AUD")},G=k=>{R(k),k&&!isNaN(parseFloat(k))?N((parseFloat(k)/x).toFixed(2)):N(""),A("TWD")},J=()=>{if(!r||!y&&!M||a)return;const k=parseFloat(T==="AUD"?y:M),rt={id:Date.now().toString(),title:r,amount:k,currency:T,payer:o,involved:h,category:p};t([rt,...e]),s(""),N(""),R("")},$=k=>{a||t(e.filter(rt=>rt.id!==k))},F=k=>{h.includes(k)?h.length>1&&m(h.filter(rt=>rt!==k)):m([...h,k])},Y=()=>{if(!I.trim()||a)return;const k=`cat_${Date.now()}`,rt=yy[Math.floor(Math.random()*yy.length)],Ot={id:k,label:I.trim(),color:rt,isDefault:!1};i([...n,Ot]),D("")},At=k=>{var rt;a||window.confirm("")&&(i(n.filter(Ot=>Ot.id!==k)),p===k&&g(((rt=n.find(Ot=>Ot.id!==k))==null?void 0:rt.id)||"other"))},W=k=>k.includes("food")||k.includes("eat")?f.jsx(yT,{className:"w-4 h-4"}):k.includes("trans")||k.includes("bus")||k.includes("car")?f.jsx(_T,{className:"w-4 h-4"}):k.includes("hotel")||k.includes("stay")?f.jsx(ET,{className:"w-4 h-4"}):k.includes("shop")||k.includes("buy")?f.jsx(TT,{className:"w-4 h-4"}):k.includes("ticket")||k.includes("play")?f.jsx(vT,{className:"w-4 h-4"}):f.jsx(fh,{className:"w-4 h-4"}),U=K.useMemo(()=>{const k={};return Ce.forEach(rt=>k[rt]=0),e.forEach(rt=>{let Ot=rt.amount;rt.currency==="TWD"&&(Ot=rt.amount/x);const Mr=rt.payer,Vr=rt.involved.length,Qn=Ot/Vr;k[Mr]+=Ot,rt.involved.forEach(va=>{k[va]-=Qn})}),k},[e,x]);return f.jsxs("div",{className:"p-4 pb-28 h-full overflow-y-auto bg-surface dark:bg-darkSurface transition-colors no-scrollbar",children:[f.jsxs("div",{className:"bg-primary text-white rounded-2xl shadow-lg p-5 mb-6 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(fh,{className:"w-24 h-24"})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-gray-300",children:""}),f.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-2 py-1 rounded-lg border border-white/20",children:[f.jsx("span",{className:"text-xs text-gray-400",children:":"}),f.jsx("input",{type:"number",value:x,onChange:k=>C(parseFloat(k.target.value)),className:"w-12 bg-transparent text-white text-xs text-center outline-none font-mono"})]})]}),f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex-1 flex flex-col",children:[f.jsx("label",{className:"text-xs text-gray-400 mb-1",children:" (AUD)"}),f.jsx("input",{type:"number",placeholder:"0",value:P,onChange:k=>w(k.target.value),className:"w-full bg-white/10 text-xl font-bold rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-accent/50 border border-white/10 placeholder-gray-500 font-mono"})]}),f.jsx("div",{className:"pt-5 text-gray-400",children:f.jsx(fh,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex-1 flex flex-col text-right",children:[f.jsx("label",{className:"text-xs text-gray-400 mb-1",children:" (TWD)"}),f.jsx("input",{type:"number",placeholder:"0",value:v,onChange:k=>ne(k.target.value),className:"w-full bg-white/10 text-xl font-bold rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-accent/50 border border-white/10 placeholder-gray-500 text-right font-mono"})]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:" (: AUD)"}),f.jsx("div",{className:"space-y-3",children:Ce.map(k=>{const rt=U[k];return f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 dark:border-slate-700 last:border-0 pb-2 last:pb-0",children:[f.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:k}),f.jsx("span",{className:`font-bold ${rt>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500 dark:text-rose-400"}`,children:rt>=0?` $${rt.toFixed(2)}`:` $${Math.abs(rt).toFixed(2)}`})]},k)})}),f.jsxs("div",{className:"mt-4 pt-3 border-t border-dashed border-gray-200 dark:border-slate-700 text-xs text-gray-400 text-center",children:[U[Ce[0]]>0?`${Ce[1]}  ${Ce[0]} $${U[Ce[0]].toFixed(2)} AUD`:`${Ce[0]}  ${Ce[1]} $${U[Ce[1]].toFixed(2)} AUD`,f.jsxs("div",{className:"text-accent mt-1",children:["( $",Math.abs(U[Ce[0]]*x).toFixed(0),")"]})]})]}),!a&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:""}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{className:"w-full bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white p-3 rounded-xl outline-none focus:ring-2 focus:ring-primary border-none",placeholder:" ()",value:r,onChange:k=>s(k.target.value)}),f.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-gray-100 dark:border-slate-700",children:[f.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-1",children:" ()"}),f.jsxs("div",{className:"flex items-center gap-3",onClick:()=>A("AUD"),children:[f.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center cursor-pointer ${T==="AUD"?"border-accent bg-accent":"border-gray-300"}`,children:T==="AUD"&&f.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),f.jsx("span",{className:`text-sm font-bold w-8 ${T==="AUD"?"text-gray-800 dark:text-white":"text-gray-400"}`,children:"AUD"}),f.jsx("input",{type:"number",className:`flex-1 p-2 rounded-lg outline-none font-mono ${T==="AUD"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white ring-2 ring-accent/20":"bg-transparent text-gray-500"}`,placeholder:"0.00",value:y,onChange:k=>me(k.target.value)})]}),f.jsxs("div",{className:"flex items-center gap-3",onClick:()=>A("TWD"),children:[f.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center cursor-pointer ${T==="TWD"?"border-accent bg-accent":"border-gray-300"}`,children:T==="TWD"&&f.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),f.jsx("span",{className:`text-sm font-bold w-8 ${T==="TWD"?"text-gray-800 dark:text-white":"text-gray-400"}`,children:"TWD"}),f.jsx("input",{type:"number",className:`flex-1 p-2 rounded-lg outline-none font-mono ${T==="TWD"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white ring-2 ring-accent/20":"bg-transparent text-gray-500"}`,placeholder:"0",value:M,onChange:k=>G(k.target.value)})]})]}),f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-slate-700 rounded-xl p-2 px-3",children:[f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:":"}),f.jsx("select",{className:"bg-transparent text-gray-900 dark:text-white font-bold outline-none text-right",value:o,onChange:k=>u(k.target.value),children:Ce.map(k=>f.jsx("option",{value:k,children:k},k))})]}),f.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[n.map(k=>f.jsxs("button",{type:"button",onClick:()=>g(k.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all
                            ${p===k.id?"bg-primary border-primary text-white dark:bg-blue-600 dark:border-blue-600":"bg-white border-gray-200 text-gray-500 dark:bg-slate-700 dark:border-slate-600 dark:text-gray-400"}`,children:[W(k.id),k.label]},k.id)),f.jsx("button",{type:"button",onClick:()=>S(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-700 text-gray-400 hover:text-primary dark:hover:text-blue-400 border border-transparent hover:border-gray-300 transition-all shrink-0",children:f.jsx(ua,{className:"w-3 h-3"})})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 my-2 overflow-x-auto no-scrollbar",children:[f.jsx("span",{className:"whitespace-nowrap",children:":"}),Ce.map(k=>f.jsx("button",{onClick:()=>F(k),className:`px-3 py-1 rounded-full border transition-colors whitespace-nowrap ${h.includes(k)?"bg-primary text-white border-primary dark:bg-blue-600 dark:border-blue-600":"bg-white text-gray-400 border-gray-200 dark:bg-slate-700 dark:text-gray-400 dark:border-slate-600"}`,children:k},k))]}),f.jsxs("button",{onClick:J,disabled:!y&&!M,className:"w-full bg-accent text-white font-bold py-3 rounded-xl shadow-lg shadow-amber-200 dark:shadow-none disabled:opacity-50 hover:bg-amber-600 transition-colors",children:[" ( ",T," )"]})]})]}),f.jsx("h3",{className:"text-gray-400 font-semibold mb-3 px-1 uppercase text-[10px] tracking-widest",children:""}),f.jsxs("div",{className:"space-y-3",children:[e.map(k=>{const rt=n.find(Qn=>Qn.id===k.category)||n[0]||{color:"bg-gray-100",id:"other"},Ot=k.currency==="AUD"||k.currency===void 0,Mr=k.amount,Vr=Ot?k.amount*x:k.amount/x;return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-50 dark:border-slate-700 flex justify-between items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:`p-2 rounded-lg shrink-0 ${rt.color}`,children:W(rt.id)}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-sm truncate",children:k.title}),f.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 truncate",children:[f.jsx("span",{className:"text-primary dark:text-blue-400 font-medium",children:k.payer}),"   ",k.involved.join(", ")," "]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:"font-bold text-gray-800 dark:text-white block",children:[Ot?"$":"NT$",Mr.toFixed(Ot?2:0)]}),f.jsxs("span",{className:"text-[10px] text-gray-400",children:[" ",Ot?"NT$":"$",Vr.toFixed(Ot?0:2)]})]}),!a&&f.jsx("button",{onClick:()=>$(k.id),className:"text-gray-300 hover:text-rose-400 p-1",children:f.jsx(oa,{className:"w-4 h-4"})})]})]},k.id)}),e.length===0&&f.jsx("div",{className:"text-center text-gray-400 text-xs italic py-4",children:""})]}),b&&!a&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(ua,{className:"w-5 h-5"})," "]}),f.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:n.map(k=>f.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center ${k.color}`,children:W(k.id)}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:k.label})]}),!k.isDefault&&f.jsx("button",{onClick:()=>At(k.id),className:"text-gray-400 hover:text-red-500 p-1",children:f.jsx(oa,{className:"w-4 h-4"})}),k.isDefault&&f.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:""})]},k.id))}),f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("input",{type:"text",placeholder:"",value:I,onChange:k=>D(k.target.value),className:"flex-1 p-2 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-lg border-none outline-none focus:ring-2 focus:ring-primary text-sm"}),f.jsx("button",{onClick:Y,disabled:!I.trim(),className:"bg-primary dark:bg-blue-600 text-white px-3 rounded-lg disabled:opacity-50 text-sm font-bold",children:""})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-full py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl",children:""})]})})]})},Bw=({links:e,setLinks:t,days:n,setDays:i,isReadOnly:a=!1})=>{const[r,s]=K.useState(!1),[o,u]=K.useState(null),[h,m]=K.useState({title:"",url:"",details:"",type:"ticket"}),p=K.useMemo(()=>{const T=[];return n.forEach((A,x)=>{A.events.forEach((C,P)=>{C.bookingUrl&&T.push({id:C.id,title:C.title,url:C.bookingUrl,type:C.type,details:C.notes||"",isManual:!1,dayIndex:x,eventIndex:P})})}),e.forEach(A=>{T.push({...A,isManual:!0})}),T},[e,n]),g=()=>{a||(u(null),m({title:"",url:"",details:"",type:"ticket"}),s(!0))},y=T=>{a||(u(T),m({...T}),s(!0))},N=(T,A)=>{if(A.preventDefault(),!a){if(T.isManual)window.confirm("")&&t(e.filter(x=>x.id!==T.id));else if(window.confirm(`${T.title}`)){const x=[...n];if(T.dayIndex!==void 0&&T.eventIndex!==void 0){const C=x[T.dayIndex].events[T.eventIndex];C.bookingUrl=void 0,i(x)}}}},M=()=>{if(!(!h.title||!h.url)){if(o)if(o.isManual)t(e.map(T=>T.id===o.id?{...o,...h}:T));else{const T=[...n];if(o.dayIndex!==void 0&&o.eventIndex!==void 0){const A=T[o.dayIndex].events[o.eventIndex];A.title=h.title,A.bookingUrl=h.url,A.notes=h.details,A.type=h.type,i(T)}}else{const T={id:Date.now().toString(),title:h.title,url:h.url,details:h.details||"",type:h.type};t([T,...e])}s(!1)}},R=T=>{switch(T){case"flight":return{label:"",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"};case"hotel":return{label:"",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300"};case"car":return{label:"",color:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300"};case"food":return{label:"",color:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"};case"activity":return{label:"",color:"bg-rose-100 text-rose-800 dark:bg-rose-900/30 dark:text-rose-300"};case"ticket":return{label:"",color:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300"};case"transport":return{label:"",color:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};default:return{label:"",color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}}};return f.jsxs("div",{className:"p-4 bg-surface dark:bg-darkSurface h-full pb-20 overflow-y-auto transition-colors no-scrollbar",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 px-1",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:" & "}),!a&&f.jsx("button",{onClick:g,className:"bg-primary dark:bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-slate-700 transition-colors",children:f.jsx(pT,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid gap-4",children:p.map((T,A)=>{const x=R(T.type);return f.jsxs("div",{className:"relative group",children:[f.jsx("a",{href:T.url,target:"_blank",rel:"noreferrer",className:"block bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm hover:shadow-md transition-all border border-gray-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[f.jsx("span",{className:`inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-colors ${x.color}`,children:x.label}),!T.isManual&&f.jsxs("span",{className:"inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400",children:[" Day ",n[T.dayIndex].day]})]}),f.jsx("h3",{className:"font-bold text-base text-gray-800 dark:text-gray-100 truncate",children:T.title}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1 truncate",children:T.details})]}),f.jsx("div",{className:"bg-surface dark:bg-slate-700 p-2 rounded-full text-primary dark:text-blue-400 shrink-0",children:f.jsx($d,{className:"w-5 h-5"})})]})}),!a&&f.jsxs("div",{className:"absolute top-4 right-14 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:C=>{C.preventDefault(),y(T)},className:"p-1.5 bg-gray-100 dark:bg-slate-600 text-gray-600 dark:text-gray-200 rounded-full hover:bg-gray-200 dark:hover:bg-slate-500",children:f.jsx(ua,{className:"w-3 h-3"})}),f.jsx("button",{onClick:C=>N(T,C),className:"p-1.5 bg-rose-100 dark:bg-rose-900/50 text-rose-600 dark:text-rose-300 rounded-full hover:bg-rose-200 dark:hover:bg-rose-800/50",children:f.jsx(oa,{className:"w-3 h-3"})})]})]},`${T.id}-${A}`)})}),p.length===0&&f.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[f.jsx("p",{children:""}),!a&&f.jsx("button",{onClick:g,className:"mt-2 text-primary dark:text-blue-400 font-medium",children:""})]}),f.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary to-slate-900 dark:from-slate-800 dark:to-black rounded-2xl text-white shadow-lg",children:[f.jsx("h3",{className:"font-bold text-base mb-2",children:""}),f.jsx("p",{className:"text-gray-300 text-xs mb-4",children:""}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("a",{href:"tel:000",className:"flex-1 bg-white text-primary text-center py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors",children:" 000"}),f.jsx("a",{href:"https://www.taiwanembassy.org/au/index.html",target:"_blank",rel:"noreferrer",className:"flex-1 bg-white/10 text-white text-center py-2 rounded-lg text-sm backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-colors",children:""})]})]}),r&&!a&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:o?o.isManual?"":"":""}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"text",value:h.title,onChange:T=>m({...h,title:T.target.value}),placeholder:"",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsxs("select",{value:h.type,onChange:T=>m({...h,type:T.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none",children:[f.jsx("option",{value:"ticket",children:" "}),f.jsx("option",{value:"flight",children:" "}),f.jsx("option",{value:"hotel",children:" "}),f.jsx("option",{value:"car",children:" "}),f.jsx("option",{value:"transport",children:" "}),f.jsx("option",{value:"activity",children:" "}),f.jsx("option",{value:"food",children:" "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" URL"}),f.jsx("input",{type:"text",value:h.url,onChange:T=>m({...h,url:T.target.value}),placeholder:"https://...",className:"w-full mt-1 p-3 bg-gray-50 text-blue-600 dark:bg-slate-700 dark:text-blue-400 rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none font-mono text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"text",value:h.details||"",onChange:T=>m({...h,details:T.target.value}),placeholder:" #123456",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),!(o!=null&&o.isManual)&&o&&f.jsx("p",{className:"text-xs text-amber-500 bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg",children:" "}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:""}),f.jsx("button",{onClick:M,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30 dark:shadow-blue-900/30 hover:bg-slate-700 dark:hover:bg-blue-500 transition-colors",children:""})]})]})]})})]})},_y=["bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300","bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300","bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300","bg-lime-50 text-lime-700 dark:bg-lime-900/30 dark:text-lime-300","bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300","bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300","bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300","bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300","bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300","bg-violet-50 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300","bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300","bg-fuchsia-50 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300","bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300","bg-rose-50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"],Pw=({todos:e,setTodos:t,categories:n,setCategories:i,isReadOnly:a=!1})=>{const[r,s]=K.useState(""),[o,u]=K.useState("todo"),[h,m]=K.useState(!1),[p,g]=K.useState(""),y=v=>{if(v&&v.preventDefault(),!r.trim()||a)return;const _={id:Date.now().toString(),text:r.trim(),isCompleted:!1,category:o};t([_,...e]),s("")},N=v=>{a||t(e.map(_=>_.id===v?{..._,isCompleted:!_.isCompleted}:_))},M=v=>{a||t(e.filter(_=>_.id!==v))},R=K.useMemo(()=>{const v={};return n.forEach(_=>v[_.id]=[]),v.uncategorized=[],e.forEach(_=>{var b,S;if(v[_.category])v[_.category].push(_);else{const I=((b=n.find(D=>D.id==="todo"))==null?void 0:b.id)||((S=n[0])==null?void 0:S.id);I?v[I].push(_):v.uncategorized.push(_)}}),v},[e,n]),T=()=>{if(!p.trim()||a)return;const v=`cat_${Date.now()}`,_=_y[Math.floor(Math.random()*_y.length)],b={id:v,label:p.trim(),color:_,isDefault:!1};i([...n,b]),g("")},A=v=>{if(!a&&window.confirm("")){i(n.filter(b=>b.id!==v));const _="todo";t(b=>b.map(S=>S.category===v?{...S,category:_}:S)),o===v&&u(_)}},x=v=>v.includes("shop")||v.includes("buy")?f.jsx(TT,{className:"w-4 h-4"}):v.includes("pack")||v.includes("luggage")?f.jsx($x,{className:"w-4 h-4"}):v.includes("doc")||v.includes("pass")?f.jsx(Jx,{className:"w-4 h-4"}):v.includes("gift")?f.jsx(Zx,{className:"w-4 h-4"}):f.jsx(Io,{className:"w-4 h-4"}),C=e.length,P=e.filter(v=>v.isCompleted).length,H=C===0?0:Math.round(P/C*100);return f.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 pb-4 border-b border-gray-100 dark:border-slate-800 sticky top-0 z-10",children:[f.jsxs("div",{className:"flex justify-between items-end mb-2",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:""}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[" ",H,"% (",P,"/",C,")"]})]}),C>0&&H===100&&f.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full animate-bounce",children:" "})]}),f.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary dark:bg-blue-500 transition-all duration-500 ease-out rounded-full",style:{width:`${H}%`}})})]}),!a&&f.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-gray-100 dark:border-slate-800 shadow-sm z-10",children:f.jsxs("form",{onSubmit:y,className:"space-y-3",children:[f.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"...",className:"w-full p-3 bg-gray-50 text-gray-900 dark:bg-slate-800 dark:text-white rounded-xl border-none outline-none focus:ring-2 focus:ring-primary"}),f.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[n.map(v=>f.jsxs("button",{type:"button",onClick:()=>u(v.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all
                                ${o===v.id?"bg-primary border-primary text-white dark:bg-blue-600 dark:border-blue-600":"bg-white border-gray-200 text-gray-500 dark:bg-slate-800 dark:border-slate-700 dark:text-gray-400"}`,children:[x(v.id),v.label]},v.id)),f.jsx("button",{type:"button",onClick:()=>m(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-800 text-gray-400 hover:text-primary dark:hover:text-blue-400 border border-transparent hover:border-gray-300 transition-all shrink-0",children:f.jsx(ua,{className:"w-3 h-3"})})]}),f.jsx("button",{type:"submit",disabled:!r,className:"w-full bg-primary dark:bg-blue-600 text-white font-bold py-3 rounded-xl disabled:opacity-50",children:""})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-28 space-y-6 no-scrollbar",children:[n.map(v=>{const _=R[v.id]||[];return _.length===0?null:f.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("span",{className:`p-1.5 rounded-lg ${v.color}`,children:x(v.id)}),f.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:v.label}),f.jsx("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-500 px-2 py-0.5 rounded-full",children:_.length})]}),f.jsx("div",{className:"space-y-2",children:_.map(b=>f.jsxs("div",{className:`flex items-center p-3 rounded-xl border transition-all ${b.isCompleted?"bg-gray-50 border-gray-100 dark:bg-slate-800/50 dark:border-slate-800":"bg-white border-gray-100 shadow-sm dark:bg-slate-800 dark:border-slate-700"}`,children:[f.jsx("button",{onClick:()=>N(b.id),disabled:a,className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3 transition-colors ${b.isCompleted?"bg-emerald-500 border-emerald-500 text-white":`border-gray-300 dark:border-gray-500 ${a?"opacity-50 cursor-not-allowed":""}`}`,children:b.isCompleted&&f.jsx(Io,{className:"w-4 h-4"})}),f.jsx("span",{className:`flex-1 text-sm ${b.isCompleted?"text-gray-400 line-through dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,children:b.text}),!a&&f.jsx("button",{onClick:()=>M(b.id),className:"p-2 text-gray-300 hover:text-red-400 transition-colors",children:f.jsx(oa,{className:"w-4 h-4"})})]},b.id))})]},v.id)}),C===0&&f.jsxs("div",{className:"text-center py-10 opacity-50",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:f.jsx(Io,{className:"w-8 h-8"})}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["",f.jsx("br",{}),""]})]})]}),h&&!a&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(ua,{className:"w-5 h-5"})," "]}),f.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:n.map(v=>f.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${v.color.split(" ")[0].replace("bg-","bg-")}`}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:v.label})]}),!v.isDefault&&f.jsx("button",{onClick:()=>A(v.id),className:"text-gray-400 hover:text-red-500 p-1",children:f.jsx(oa,{className:"w-4 h-4"})}),v.isDefault&&f.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:""})]},v.id))}),f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("input",{type:"text",placeholder:"",value:p,onChange:v=>g(v.target.value),className:"flex-1 p-2 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-lg border-none outline-none focus:ring-2 focus:ring-primary text-sm"}),f.jsx("button",{onClick:T,disabled:!p.trim(),className:"bg-primary dark:bg-blue-600 text-white px-3 rounded-lg disabled:opacity-50 text-sm font-bold",children:""})]}),f.jsx("button",{onClick:()=>m(!1),className:"w-full py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl",children:""})]})})]})};var Ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},zw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const r=e[n++];t[i++]=String.fromCharCode((a&31)<<6|r&63)}else if(a>239&&a<365){const r=e[n++],s=e[n++],o=e[n++],u=((a&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],s=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(r&63)<<6|s&63)}}return t.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const r=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,m=r>>2,p=(r&3)<<4|o>>4;let g=(o&15)<<2|h>>6,y=h&63;u||(y=64,s||(g=64)),i.push(n[m],n[p],n[g],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(HT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const r=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const p=a<e.length?n[e.charAt(a)]:64;if(++a,r==null||o==null||h==null||p==null)throw new Hw;const g=r<<2|o>>4;if(i.push(g),h!==64){const y=o<<4&240|h>>2;if(i.push(y),p!==64){const N=h<<6&192|p;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gw=function(e){const t=HT(e);return GT.encodeByteArray(t,!0)},hu=function(e){return Gw(e).replace(/\./g,"")},Fw=function(e){try{return GT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=()=>qw().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof Ey>"u")return;const e=Ey.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Qw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Fw(e[1]);return t&&JSON.parse(t)},Wd=()=>{try{return Yw()||Kw()||Qw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xw=e=>{var t,n;return(n=(t=Wd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},$w=e=>{const t=Xw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},FT=()=>{var e;return(e=Wd())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hu(JSON.stringify(n)),hu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t2(){var e;const t=(e=Wd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e2(){return!t2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var r;t(((r=a.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="FirebaseError";class Rr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=a2,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qT.prototype.create)}}class qT{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,r=this.errors[t],s=r?r2(r,i):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Rr(a,o,i)}}function r2(e,t){return e.replace(s2,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const s2=/\{\$([^}]+)}/g;function If(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const r=e[a],s=t[a];if(vy(r)&&vy(s)){if(!If(r,s))return!1}else if(r!==s)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function vy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e){return e&&e._delegate?e._delegate:e}class Ks{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Jw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(a)return null;throw r}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u2(t))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:a});i.resolve(r)}catch{}}}}clearInstance(t=Qi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qi){return this.instances.has(t)}getOptions(t=Qi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&s.resolve(a)}return a}onInit(t,n){var i;const a=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(a,r);const s=this.instances.get(a);return s&&t(s,a),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:o2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Qi){return this.component?this.component.multipleInstances?t:Qi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o2(e){return e===Qi?void 0:e}function u2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new l2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(dt||(dt={}));const h2={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},f2=dt.INFO,d2={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},m2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=d2[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class YT{constructor(t){this.name=t,this._logLevel=f2,this._logHandler=m2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?h2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const g2=(e,t)=>t.some(n=>e instanceof n);let Ty,by;function p2(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y2(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,Rf=new WeakMap,QT=new WeakMap,gh=new WeakMap,tm=new WeakMap;function _2(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{n(vi(e.result)),a()},s=()=>{i(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&KT.set(n,e)}).catch(()=>{}),tm.set(t,e),t}function E2(e){if(Rf.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{n(),a()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});Rf.set(e,t)}let Cf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||QT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function v2(e){Cf=e(Cf)}function T2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(ph(this),t,...n);return QT.set(i,t.sort?t.sort():[t]),vi(i)}:y2().includes(e)?function(...t){return e.apply(ph(this),t),vi(KT.get(this))}:function(...t){return vi(e.apply(ph(this),t))}}function b2(e){return typeof e=="function"?T2(e):(e instanceof IDBTransaction&&E2(e),g2(e,p2())?new Proxy(e,Cf):e)}function vi(e){if(e instanceof IDBRequest)return _2(e);if(gh.has(e))return gh.get(e);const t=b2(e);return t!==e&&(gh.set(e,t),tm.set(t,e)),t}const ph=e=>tm.get(e);function A2(e,t,{blocked:n,upgrade:i,blocking:a,terminated:r}={}){const s=indexedDB.open(e,t),o=vi(s);return i&&s.addEventListener("upgradeneeded",u=>{i(vi(s.result),u.oldVersion,u.newVersion,vi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const S2=["get","getKey","getAll","getAllKeys","count"],x2=["put","add","delete","clear"],yh=new Map;function Ay(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yh.get(t))return yh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=x2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||S2.includes(n)))return;const r=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return yh.set(t,r),r}v2(e=>({...e,get:(t,n,i)=>Ay(t,n)||e.get(t,n,i),has:(t,n)=>!!Ay(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function N2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Df="@firebase/app",Sy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new YT("@firebase/app"),I2="@firebase/app-compat",R2="@firebase/analytics-compat",C2="@firebase/analytics",D2="@firebase/app-check-compat",O2="@firebase/app-check",M2="@firebase/auth",V2="@firebase/auth-compat",k2="@firebase/database",U2="@firebase/data-connect",L2="@firebase/database-compat",j2="@firebase/functions",B2="@firebase/functions-compat",P2="@firebase/installations",z2="@firebase/installations-compat",H2="@firebase/messaging",G2="@firebase/messaging-compat",F2="@firebase/performance",q2="@firebase/performance-compat",Y2="@firebase/remote-config",K2="@firebase/remote-config-compat",Q2="@firebase/storage",X2="@firebase/storage-compat",$2="@firebase/firestore",J2="@firebase/vertexai-preview",Z2="@firebase/firestore-compat",W2="firebase",tN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",eN={[Df]:"fire-core",[I2]:"fire-core-compat",[C2]:"fire-analytics",[R2]:"fire-analytics-compat",[O2]:"fire-app-check",[D2]:"fire-app-check-compat",[M2]:"fire-auth",[V2]:"fire-auth-compat",[k2]:"fire-rtdb",[U2]:"fire-data-connect",[L2]:"fire-rtdb-compat",[j2]:"fire-fn",[B2]:"fire-fn-compat",[P2]:"fire-iid",[z2]:"fire-iid-compat",[H2]:"fire-fcm",[G2]:"fire-fcm-compat",[F2]:"fire-perf",[q2]:"fire-perf-compat",[Y2]:"fire-rc",[K2]:"fire-rc-compat",[Q2]:"fire-gcs",[X2]:"fire-gcs-compat",[$2]:"fire-fst",[Z2]:"fire-fst-compat",[J2]:"fire-vertex","fire-js":"fire-js",[W2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,nN=new Map,Mf=new Map;function xy(e,t){try{e.container.addComponent(t)}catch(n){Fn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function du(e){const t=e.name;if(Mf.has(t))return Fn.debug(`There were multiple attempts to register component ${t}.`),!1;Mf.set(t,e);for(const n of fu.values())xy(n,e);for(const n of nN.values())xy(n,e);return!0}function iN(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new qT("app","Firebase",aN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=tN;function XT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Of,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw Ti.create("bad-app-name",{appName:String(a)});if(n||(n=FT()),!n)throw Ti.create("no-options");const r=fu.get(a);if(r){if(If(n,r.options)&&If(i,r.config))return r;throw Ti.create("duplicate-app",{appName:a})}const s=new c2(a);for(const u of Mf.values())s.addComponent(u);const o=new rN(n,i,s);return fu.set(a,o),o}function lN(e=Of){const t=fu.get(e);if(!t&&e===Of&&FT())return XT();if(!t)throw Ti.create("no-app",{appName:e});return t}function er(e,t,n){var i;let a=(i=eN[e])!==null&&i!==void 0?i:e;n&&(a+=`-${n}`);const r=a.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const o=[`Unable to register library "${a}" with version "${t}":`];r&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fn.warn(o.join(" "));return}du(new Ks(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",uN=1,Qs="firebase-heartbeat-store";let _h=null;function $T(){return _h||(_h=A2(oN,uN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qs)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ti.create("idb-open",{originalErrorMessage:e.message})})),_h}async function cN(e){try{const n=(await $T()).transaction(Qs),i=await n.objectStore(Qs).get(JT(e));return await n.done,i}catch(t){if(t instanceof Rr)Fn.warn(t.message);else{const n=Ti.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fn.warn(n.message)}}}async function wy(e,t){try{const i=(await $T()).transaction(Qs,"readwrite");await i.objectStore(Qs).put(t,JT(e)),await i.done}catch(n){if(n instanceof Rr)Fn.warn(n.message);else{const i=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fn.warn(i.message)}}}function JT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1024,fN=30*24*60*60*1e3;class dN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ny();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=fN}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ny(),{heartbeatsToSend:i,unsentEntries:a}=mN(this._heartbeatsCache.heartbeats),r=hu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Fn.warn(n),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function mN(e,t=hN){const n=[];let i=e.slice();for(const a of e){const r=n.find(s=>s.agent===a.agent);if(r){if(r.dates.push(a.date),Iy(n)>t){r.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Iy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return wy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return wy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Iy(e){return hu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e){du(new Ks("platform-logger",t=>new w2(t),"PRIVATE")),du(new Ks("heartbeat",t=>new dN(t),"PRIVATE")),er(Df,Sy,e),er(Df,Sy,"esm2017"),er("fire-js","")}pN("");var yN="firebase",_N="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(yN,_N,"app");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,ZT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(v,_){function b(){}b.prototype=_.prototype,v.D=_.prototype,v.prototype=new b,v.prototype.constructor=v,v.C=function(S,I,D){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return _.prototype[I].apply(S,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(v,_,b){b||(b=0);var S=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)S[I]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(I=0;16>I;++I)S[I]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=v.g[0],b=v.g[1],I=v.g[2];var D=v.g[3],w=_+(D^b&(I^D))+S[0]+3614090360&4294967295;_=b+(w<<7&4294967295|w>>>25),w=D+(I^_&(b^I))+S[1]+3905402710&4294967295,D=_+(w<<12&4294967295|w>>>20),w=I+(b^D&(_^b))+S[2]+606105819&4294967295,I=D+(w<<17&4294967295|w>>>15),w=b+(_^I&(D^_))+S[3]+3250441966&4294967295,b=I+(w<<22&4294967295|w>>>10),w=_+(D^b&(I^D))+S[4]+4118548399&4294967295,_=b+(w<<7&4294967295|w>>>25),w=D+(I^_&(b^I))+S[5]+1200080426&4294967295,D=_+(w<<12&4294967295|w>>>20),w=I+(b^D&(_^b))+S[6]+2821735955&4294967295,I=D+(w<<17&4294967295|w>>>15),w=b+(_^I&(D^_))+S[7]+4249261313&4294967295,b=I+(w<<22&4294967295|w>>>10),w=_+(D^b&(I^D))+S[8]+1770035416&4294967295,_=b+(w<<7&4294967295|w>>>25),w=D+(I^_&(b^I))+S[9]+2336552879&4294967295,D=_+(w<<12&4294967295|w>>>20),w=I+(b^D&(_^b))+S[10]+4294925233&4294967295,I=D+(w<<17&4294967295|w>>>15),w=b+(_^I&(D^_))+S[11]+2304563134&4294967295,b=I+(w<<22&4294967295|w>>>10),w=_+(D^b&(I^D))+S[12]+1804603682&4294967295,_=b+(w<<7&4294967295|w>>>25),w=D+(I^_&(b^I))+S[13]+4254626195&4294967295,D=_+(w<<12&4294967295|w>>>20),w=I+(b^D&(_^b))+S[14]+2792965006&4294967295,I=D+(w<<17&4294967295|w>>>15),w=b+(_^I&(D^_))+S[15]+1236535329&4294967295,b=I+(w<<22&4294967295|w>>>10),w=_+(I^D&(b^I))+S[1]+4129170786&4294967295,_=b+(w<<5&4294967295|w>>>27),w=D+(b^I&(_^b))+S[6]+3225465664&4294967295,D=_+(w<<9&4294967295|w>>>23),w=I+(_^b&(D^_))+S[11]+643717713&4294967295,I=D+(w<<14&4294967295|w>>>18),w=b+(D^_&(I^D))+S[0]+3921069994&4294967295,b=I+(w<<20&4294967295|w>>>12),w=_+(I^D&(b^I))+S[5]+3593408605&4294967295,_=b+(w<<5&4294967295|w>>>27),w=D+(b^I&(_^b))+S[10]+38016083&4294967295,D=_+(w<<9&4294967295|w>>>23),w=I+(_^b&(D^_))+S[15]+3634488961&4294967295,I=D+(w<<14&4294967295|w>>>18),w=b+(D^_&(I^D))+S[4]+3889429448&4294967295,b=I+(w<<20&4294967295|w>>>12),w=_+(I^D&(b^I))+S[9]+568446438&4294967295,_=b+(w<<5&4294967295|w>>>27),w=D+(b^I&(_^b))+S[14]+3275163606&4294967295,D=_+(w<<9&4294967295|w>>>23),w=I+(_^b&(D^_))+S[3]+4107603335&4294967295,I=D+(w<<14&4294967295|w>>>18),w=b+(D^_&(I^D))+S[8]+1163531501&4294967295,b=I+(w<<20&4294967295|w>>>12),w=_+(I^D&(b^I))+S[13]+2850285829&4294967295,_=b+(w<<5&4294967295|w>>>27),w=D+(b^I&(_^b))+S[2]+4243563512&4294967295,D=_+(w<<9&4294967295|w>>>23),w=I+(_^b&(D^_))+S[7]+1735328473&4294967295,I=D+(w<<14&4294967295|w>>>18),w=b+(D^_&(I^D))+S[12]+2368359562&4294967295,b=I+(w<<20&4294967295|w>>>12),w=_+(b^I^D)+S[5]+4294588738&4294967295,_=b+(w<<4&4294967295|w>>>28),w=D+(_^b^I)+S[8]+2272392833&4294967295,D=_+(w<<11&4294967295|w>>>21),w=I+(D^_^b)+S[11]+1839030562&4294967295,I=D+(w<<16&4294967295|w>>>16),w=b+(I^D^_)+S[14]+4259657740&4294967295,b=I+(w<<23&4294967295|w>>>9),w=_+(b^I^D)+S[1]+2763975236&4294967295,_=b+(w<<4&4294967295|w>>>28),w=D+(_^b^I)+S[4]+1272893353&4294967295,D=_+(w<<11&4294967295|w>>>21),w=I+(D^_^b)+S[7]+4139469664&4294967295,I=D+(w<<16&4294967295|w>>>16),w=b+(I^D^_)+S[10]+3200236656&4294967295,b=I+(w<<23&4294967295|w>>>9),w=_+(b^I^D)+S[13]+681279174&4294967295,_=b+(w<<4&4294967295|w>>>28),w=D+(_^b^I)+S[0]+3936430074&4294967295,D=_+(w<<11&4294967295|w>>>21),w=I+(D^_^b)+S[3]+3572445317&4294967295,I=D+(w<<16&4294967295|w>>>16),w=b+(I^D^_)+S[6]+76029189&4294967295,b=I+(w<<23&4294967295|w>>>9),w=_+(b^I^D)+S[9]+3654602809&4294967295,_=b+(w<<4&4294967295|w>>>28),w=D+(_^b^I)+S[12]+3873151461&4294967295,D=_+(w<<11&4294967295|w>>>21),w=I+(D^_^b)+S[15]+530742520&4294967295,I=D+(w<<16&4294967295|w>>>16),w=b+(I^D^_)+S[2]+3299628645&4294967295,b=I+(w<<23&4294967295|w>>>9),w=_+(I^(b|~D))+S[0]+4096336452&4294967295,_=b+(w<<6&4294967295|w>>>26),w=D+(b^(_|~I))+S[7]+1126891415&4294967295,D=_+(w<<10&4294967295|w>>>22),w=I+(_^(D|~b))+S[14]+2878612391&4294967295,I=D+(w<<15&4294967295|w>>>17),w=b+(D^(I|~_))+S[5]+4237533241&4294967295,b=I+(w<<21&4294967295|w>>>11),w=_+(I^(b|~D))+S[12]+1700485571&4294967295,_=b+(w<<6&4294967295|w>>>26),w=D+(b^(_|~I))+S[3]+2399980690&4294967295,D=_+(w<<10&4294967295|w>>>22),w=I+(_^(D|~b))+S[10]+4293915773&4294967295,I=D+(w<<15&4294967295|w>>>17),w=b+(D^(I|~_))+S[1]+2240044497&4294967295,b=I+(w<<21&4294967295|w>>>11),w=_+(I^(b|~D))+S[8]+1873313359&4294967295,_=b+(w<<6&4294967295|w>>>26),w=D+(b^(_|~I))+S[15]+4264355552&4294967295,D=_+(w<<10&4294967295|w>>>22),w=I+(_^(D|~b))+S[6]+2734768916&4294967295,I=D+(w<<15&4294967295|w>>>17),w=b+(D^(I|~_))+S[13]+1309151649&4294967295,b=I+(w<<21&4294967295|w>>>11),w=_+(I^(b|~D))+S[4]+4149444226&4294967295,_=b+(w<<6&4294967295|w>>>26),w=D+(b^(_|~I))+S[11]+3174756917&4294967295,D=_+(w<<10&4294967295|w>>>22),w=I+(_^(D|~b))+S[2]+718787259&4294967295,I=D+(w<<15&4294967295|w>>>17),w=b+(D^(I|~_))+S[9]+3951481745&4294967295,v.g[0]=v.g[0]+_&4294967295,v.g[1]=v.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,v.g[2]=v.g[2]+I&4294967295,v.g[3]=v.g[3]+D&4294967295}i.prototype.u=function(v,_){_===void 0&&(_=v.length);for(var b=_-this.blockSize,S=this.B,I=this.h,D=0;D<_;){if(I==0)for(;D<=b;)a(this,v,D),D+=this.blockSize;if(typeof v=="string"){for(;D<_;)if(S[I++]=v.charCodeAt(D++),I==this.blockSize){a(this,S),I=0;break}}else for(;D<_;)if(S[I++]=v[D++],I==this.blockSize){a(this,S),I=0;break}}this.h=I,this.o+=_},i.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var _=1;_<v.length-8;++_)v[_]=0;var b=8*this.o;for(_=v.length-8;_<v.length;++_)v[_]=b&255,b/=256;for(this.u(v),v=Array(16),_=b=0;4>_;++_)for(var S=0;32>S;S+=8)v[b++]=this.g[_]>>>S&255;return v};function r(v,_){var b=o;return Object.prototype.hasOwnProperty.call(b,v)?b[v]:b[v]=_(v)}function s(v,_){this.h=_;for(var b=[],S=!0,I=v.length-1;0<=I;I--){var D=v[I]|0;S&&D==_||(b[I]=D,S=!1)}this.g=b}var o={};function u(v){return-128<=v&&128>v?r(v,function(_){return new s([_|0],0>_?-1:0)}):new s([v|0],0>v?-1:0)}function h(v){if(isNaN(v)||!isFinite(v))return p;if(0>v)return R(h(-v));for(var _=[],b=1,S=0;v>=b;S++)_[S]=v/b|0,b*=4294967296;return new s(_,0)}function m(v,_){if(v.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(v.charAt(0)=="-")return R(m(v.substring(1),_));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(_,8)),S=p,I=0;I<v.length;I+=8){var D=Math.min(8,v.length-I),w=parseInt(v.substring(I,I+D),_);8>D?(D=h(Math.pow(_,D)),S=S.j(D).add(h(w))):(S=S.j(b),S=S.add(h(w)))}return S}var p=u(0),g=u(1),y=u(16777216);e=s.prototype,e.m=function(){if(M(this))return-R(this).m();for(var v=0,_=1,b=0;b<this.g.length;b++){var S=this.i(b);v+=(0<=S?S:4294967296+S)*_,_*=4294967296}return v},e.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(N(this))return"0";if(M(this))return"-"+R(this).toString(v);for(var _=h(Math.pow(v,6)),b=this,S="";;){var I=C(b,_).g;b=T(b,I.j(_));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(v);if(b=I,N(b))return D+S;for(;6>D.length;)D="0"+D;S=D+S}},e.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function N(v){if(v.h!=0)return!1;for(var _=0;_<v.g.length;_++)if(v.g[_]!=0)return!1;return!0}function M(v){return v.h==-1}e.l=function(v){return v=T(this,v),M(v)?-1:N(v)?0:1};function R(v){for(var _=v.g.length,b=[],S=0;S<_;S++)b[S]=~v.g[S];return new s(b,~v.h).add(g)}e.abs=function(){return M(this)?R(this):this},e.add=function(v){for(var _=Math.max(this.g.length,v.g.length),b=[],S=0,I=0;I<=_;I++){var D=S+(this.i(I)&65535)+(v.i(I)&65535),w=(D>>>16)+(this.i(I)>>>16)+(v.i(I)>>>16);S=w>>>16,D&=65535,w&=65535,b[I]=w<<16|D}return new s(b,b[b.length-1]&-2147483648?-1:0)};function T(v,_){return v.add(R(_))}e.j=function(v){if(N(this)||N(v))return p;if(M(this))return M(v)?R(this).j(R(v)):R(R(this).j(v));if(M(v))return R(this.j(R(v)));if(0>this.l(y)&&0>v.l(y))return h(this.m()*v.m());for(var _=this.g.length+v.g.length,b=[],S=0;S<2*_;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var I=0;I<v.g.length;I++){var D=this.i(S)>>>16,w=this.i(S)&65535,ne=v.i(I)>>>16,me=v.i(I)&65535;b[2*S+2*I]+=w*me,A(b,2*S+2*I),b[2*S+2*I+1]+=D*me,A(b,2*S+2*I+1),b[2*S+2*I+1]+=w*ne,A(b,2*S+2*I+1),b[2*S+2*I+2]+=D*ne,A(b,2*S+2*I+2)}for(S=0;S<_;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=_;S<2*_;S++)b[S]=0;return new s(b,0)};function A(v,_){for(;(v[_]&65535)!=v[_];)v[_+1]+=v[_]>>>16,v[_]&=65535,_++}function x(v,_){this.g=v,this.h=_}function C(v,_){if(N(_))throw Error("division by zero");if(N(v))return new x(p,p);if(M(v))return _=C(R(v),_),new x(R(_.g),R(_.h));if(M(_))return _=C(v,R(_)),new x(R(_.g),_.h);if(30<v.g.length){if(M(v)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var b=g,S=_;0>=S.l(v);)b=P(b),S=P(S);var I=H(b,1),D=H(S,1);for(S=H(S,2),b=H(b,2);!N(S);){var w=D.add(S);0>=w.l(v)&&(I=I.add(b),D=w),S=H(S,1),b=H(b,1)}return _=T(v,I.j(_)),new x(I,_)}for(I=p;0<=v.l(_);){for(b=Math.max(1,Math.floor(v.m()/_.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),D=h(b),w=D.j(_);M(w)||0<w.l(v);)b-=S,D=h(b),w=D.j(_);N(D)&&(D=g),I=I.add(D),v=T(v,w)}return new x(I,v)}e.A=function(v){return C(this,v).h},e.and=function(v){for(var _=Math.max(this.g.length,v.g.length),b=[],S=0;S<_;S++)b[S]=this.i(S)&v.i(S);return new s(b,this.h&v.h)},e.or=function(v){for(var _=Math.max(this.g.length,v.g.length),b=[],S=0;S<_;S++)b[S]=this.i(S)|v.i(S);return new s(b,this.h|v.h)},e.xor=function(v){for(var _=Math.max(this.g.length,v.g.length),b=[],S=0;S<_;S++)b[S]=this.i(S)^v.i(S);return new s(b,this.h^v.h)};function P(v){for(var _=v.g.length+1,b=[],S=0;S<_;S++)b[S]=v.i(S)<<1|v.i(S-1)>>>31;return new s(b,v.h)}function H(v,_){var b=_>>5;_%=32;for(var S=v.g.length-b,I=[],D=0;D<S;D++)I[D]=0<_?v.i(D+b)>>>_|v.i(D+b+1)<<32-_:v.i(D+b);return new s(I,v.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ZT=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=m,ea=s}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WT,cs,tb,Ro,Vf,eb,nb,ib;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,c,d){return l==Array.prototype||l==Object.prototype||(l[c]=d.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ao=="object"&&ao];for(var c=0;c<l.length;++c){var d=l[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function a(l,c){if(c)t:{var d=i;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in d))break t;d=d[O]}l=l[l.length-1],E=d[l],c=c(E),c!=E&&c!=null&&t(d,l,{configurable:!0,writable:!0,value:c})}}function r(l,c){l instanceof String&&(l+="");var d=0,E=!1,O={next:function(){if(!E&&d<l.length){var V=d++;return{value:c(V,l[V]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return r(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function u(l){var c=typeof l;return c=c!="object"?c:l?Array.isArray(l)?"array":c:"null",c=="array"||c=="object"&&typeof l.length=="number"}function h(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function m(l,c,d){return l.call.apply(l.bind,arguments)}function p(l,c,d){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(c,O)}}return function(){return l.apply(c,arguments)}}function g(l,c,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,g.apply(null,arguments)}function y(l,c){var d=Array.prototype.slice.call(arguments,1);return function(){var E=d.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function N(l,c){function d(){}d.prototype=c.prototype,l.aa=c.prototype,l.prototype=new d,l.prototype.constructor=l,l.Qb=function(E,O,V){for(var z=Array(arguments.length-2),St=2;St<arguments.length;St++)z[St-2]=arguments[St];return c.prototype[O].apply(E,z)}}function M(l){const c=l.length;if(0<c){const d=Array(c);for(let E=0;E<c;E++)d[E]=l[E];return d}return[]}function R(l,c){for(let d=1;d<arguments.length;d++){const E=arguments[d];if(u(E)){const O=l.length||0,V=E.length||0;l.length=O+V;for(let z=0;z<V;z++)l[O+z]=E[z]}else l.push(E)}}class T{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function A(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function C(l){return C[" "](l),l}C[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function H(l,c,d){for(const E in l)c.call(d,l[E],E,l)}function v(l,c){for(const d in l)c.call(void 0,l[d],d,l)}function _(l){const c={};for(const d in l)c[d]=l[d];return c}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,c){let d,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(d in E)l[d]=E[d];for(let V=0;V<b.length;V++)d=b[V],Object.prototype.hasOwnProperty.call(E,d)&&(l[d]=E[d])}}function I(l){var c=1;l=l.split(":");const d=[];for(;0<c&&l.length;)d.push(l.shift()),c--;return l.length&&d.push(l.join(":")),d}function D(l){o.setTimeout(()=>{throw l},0)}function w(){var l=F;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class ne{constructor(){this.h=this.g=null}add(c,d){const E=me.get();E.set(c,d),this.h?this.h.next=E:this.g=E,this.h=E}}var me=new T(()=>new G,l=>l.reset());class G{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let J,$=!1,F=new ne,Y=()=>{const l=o.Promise.resolve(void 0);J=()=>{l.then(At)}};var At=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(d){D(d)}var c=me;c.j(l),100>c.h&&(c.h++,l.next=c.g,c.g=l)}$=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const d=()=>{};o.addEventListener("test",d,c),o.removeEventListener("test",d,c)}catch{}return l}();function k(l,c){if(U.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var d=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget){if(P){t:{try{C(c.nodeName);var O=!0;break t}catch{}O=!1}O||(c=null)}}else d=="mouseover"?c=l.fromElement:d=="mouseout"&&(c=l.toElement);this.relatedTarget=c,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:rt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&k.aa.h.call(this)}}N(k,U);var rt={2:"touch",3:"pen",4:"mouse"};k.prototype.h=function(){k.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Mr=0;function Vr(l,c,d,E,O){this.listener=l,this.proxy=null,this.src=c,this.type=d,this.capture=!!E,this.ha=O,this.key=++Mr,this.da=this.fa=!1}function Qn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function va(l){this.src=l,this.g={},this.h=0}va.prototype.add=function(l,c,d,E,O){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var z=sc(l,c,E,O);return-1<z?(c=l[z],d||(c.fa=!1)):(c=new Vr(c,this.src,V,!!E,O),c.fa=d,l.push(c)),c};function rc(l,c){var d=c.type;if(d in l.g){var E=l.g[d],O=Array.prototype.indexOf.call(E,c,void 0),V;(V=0<=O)&&Array.prototype.splice.call(E,O,1),V&&(Qn(c),l.g[d].length==0&&(delete l.g[d],l.h--))}}function sc(l,c,d,E){for(var O=0;O<l.length;++O){var V=l[O];if(!V.da&&V.listener==c&&V.capture==!!d&&V.ha==E)return O}return-1}var lc="closure_lm_"+(1e6*Math.random()|0),oc={};function Om(l,c,d,E,O){if(Array.isArray(c)){for(var V=0;V<c.length;V++)Om(l,c[V],d,E,O);return null}return d=km(d),l&&l[Ot]?l.K(c,d,h(E)?!!E.capture:!1,O):yA(l,c,d,!1,E,O)}function yA(l,c,d,E,O,V){if(!c)throw Error("Invalid event type");var z=h(O)?!!O.capture:!!O,St=cc(l);if(St||(l[lc]=St=new va(l)),d=St.add(c,d,E,z,V),d.proxy)return d;if(E=_A(),d.proxy=E,E.src=l,E.listener=d,l.addEventListener)ht||(O=z),O===void 0&&(O=!1),l.addEventListener(c.toString(),E,O);else if(l.attachEvent)l.attachEvent(Vm(c.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return d}function _A(){function l(d){return c.call(l.src,l.listener,d)}const c=EA;return l}function Mm(l,c,d,E,O){if(Array.isArray(c))for(var V=0;V<c.length;V++)Mm(l,c[V],d,E,O);else E=h(E)?!!E.capture:!!E,d=km(d),l&&l[Ot]?(l=l.i,c=String(c).toString(),c in l.g&&(V=l.g[c],d=sc(V,d,E,O),-1<d&&(Qn(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete l.g[c],l.h--)))):l&&(l=cc(l))&&(c=l.g[c.toString()],l=-1,c&&(l=sc(c,d,E,O)),(d=-1<l?c[l]:null)&&uc(d))}function uc(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[Ot])rc(c.i,l);else{var d=l.type,E=l.proxy;c.removeEventListener?c.removeEventListener(d,E,l.capture):c.detachEvent?c.detachEvent(Vm(d),E):c.addListener&&c.removeListener&&c.removeListener(E),(d=cc(c))?(rc(d,l),d.h==0&&(d.src=null,c[lc]=null)):Qn(l)}}}function Vm(l){return l in oc?oc[l]:oc[l]="on"+l}function EA(l,c){if(l.da)l=!0;else{c=new k(c,this);var d=l.listener,E=l.ha||l.src;l.fa&&uc(l),l=d.call(E,c)}return l}function cc(l){return l=l[lc],l instanceof va?l:null}var hc="__closure_events_fn_"+(1e9*Math.random()>>>0);function km(l){return typeof l=="function"?l:(l[hc]||(l[hc]=function(c){return l.handleEvent(c)}),l[hc])}function ge(){W.call(this),this.i=new va(this),this.M=this,this.F=null}N(ge,W),ge.prototype[Ot]=!0,ge.prototype.removeEventListener=function(l,c,d,E){Mm(this,l,c,d,E)};function Te(l,c){var d,E=l.F;if(E)for(d=[];E;E=E.F)d.push(E);if(l=l.M,E=c.type||c,typeof c=="string")c=new U(c,l);else if(c instanceof U)c.target=c.target||l;else{var O=c;c=new U(E,l),S(c,O)}if(O=!0,d)for(var V=d.length-1;0<=V;V--){var z=c.g=d[V];O=Tl(z,E,!0,c)&&O}if(z=c.g=l,O=Tl(z,E,!0,c)&&O,O=Tl(z,E,!1,c)&&O,d)for(V=0;V<d.length;V++)z=c.g=d[V],O=Tl(z,E,!1,c)&&O}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var l=this.i,c;for(c in l.g){for(var d=l.g[c],E=0;E<d.length;E++)Qn(d[E]);delete l.g[c],l.h--}}this.F=null},ge.prototype.K=function(l,c,d,E){return this.i.add(String(l),c,!1,d,E)},ge.prototype.L=function(l,c,d,E){return this.i.add(String(l),c,!0,d,E)};function Tl(l,c,d,E){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();for(var O=!0,V=0;V<c.length;++V){var z=c[V];if(z&&!z.da&&z.capture==d){var St=z.listener,ie=z.ha||z.src;z.fa&&rc(l.i,z),O=St.call(ie,E)!==!1&&O}}return O&&!E.defaultPrevented}function Um(l,c,d){if(typeof l=="function")d&&(l=g(l,d));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:o.setTimeout(l,c||0)}function Lm(l){l.g=Um(()=>{l.g=null,l.i&&(l.i=!1,Lm(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class vA extends W{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Lm(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(l){W.call(this),this.h=l,this.g={}}N(kr,W);var jm=[];function Bm(l){H(l.g,function(c,d){this.g.hasOwnProperty(d)&&uc(c)},l),l.g={}}kr.prototype.N=function(){kr.aa.N.call(this),Bm(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fc=o.JSON.stringify,TA=o.JSON.parse,bA=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function dc(){}dc.prototype.h=null;function Pm(l){return l.h||(l.h=l.i())}function zm(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mc(){U.call(this,"d")}N(mc,U);function gc(){U.call(this,"c")}N(gc,U);var Vi={},Hm=null;function bl(){return Hm=Hm||new ge}Vi.La="serverreachability";function Gm(l){U.call(this,Vi.La,l)}N(Gm,U);function Lr(l){const c=bl();Te(c,new Gm(c))}Vi.STAT_EVENT="statevent";function Fm(l,c){U.call(this,Vi.STAT_EVENT,l),this.stat=c}N(Fm,U);function be(l){const c=bl();Te(c,new Fm(c,l))}Vi.Ma="timingevent";function qm(l,c){U.call(this,Vi.Ma,l),this.size=c}N(qm,U);function jr(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},c)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function AA(l,c,d,E,O,V){l.info(function(){if(l.g)if(V)for(var z="",St=V.split("&"),ie=0;ie<St.length;ie++){var mt=St[ie].split("=");if(1<mt.length){var pe=mt[0];mt=mt[1];var ye=pe.split("_");z=2<=ye.length&&ye[1]=="type"?z+(pe+"="+mt+"&"):z+(pe+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+c+`
`+d+`
`+z})}function SA(l,c,d,E,O,V,z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+c+`
`+d+`
`+V+" "+z})}function Ta(l,c,d,E){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+wA(l,d)+(E?" "+E:"")})}function xA(l,c){l.info(function(){return"TIMEOUT: "+c})}Br.prototype.info=function(){};function wA(l,c){if(!l.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(l=0;l<d.length;l++)if(Array.isArray(d[l])){var E=d[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return fc(d)}catch{return c}}var Al={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ym={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pc;function Sl(){}N(Sl,dc),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},pc=new Sl;function Xn(l,c,d,E){this.j=l,this.i=c,this.l=d,this.R=E||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Km}function Km(){this.i=null,this.g="",this.h=!1}var Qm={},yc={};function _c(l,c,d){l.L=1,l.v=Il(Sn(c)),l.m=d,l.P=!0,Xm(l,null)}function Xm(l,c){l.F=Date.now(),xl(l),l.A=Sn(l.v);var d=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),ug(d.i,"t",E),l.C=0,d=l.j.J,l.h=new Km,l.g=Ng(l.j,d?c:null,!l.m),0<l.O&&(l.M=new vA(g(l.Y,l,l.g),l.O)),c=l.U,d=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(jm[0]=O.toString()),O=jm);for(var V=0;V<O.length;V++){var z=Om(d,O[V],E||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,c)):(l.u="GET",l.g.ea(l.A,l.u,null,c)),Lr(),AA(l.i,l.u,l.A,l.l,l.R,l.m)}Xn.prototype.ca=function(l){l=l.target;const c=this.M;c&&xn(l)==3?c.j():this.Y(l)},Xn.prototype.Y=function(l){try{if(l==this.g)t:{const ye=xn(this.g);var c=this.g.Ba();const Sa=this.g.Z();if(!(3>ye)&&(ye!=3||this.g&&(this.h.h||this.g.oa()||pg(this.g)))){this.J||ye!=4||c==7||(c==8||0>=Sa?Lr(3):Lr(2)),Ec(this);var d=this.g.Z();this.X=d;e:if($m(this)){var E=pg(this.g);l="";var O=E.length,V=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),Pr(this);var z="";break e}this.h.i=new o.TextDecoder}for(c=0;c<O;c++)this.h.h=!0,l+=this.h.i.decode(E[c],{stream:!(V&&c==O-1)});E.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=d==200,SA(this.i,this.u,this.A,this.l,this.R,ye,d),this.o){if(this.T&&!this.K){e:{if(this.g){var St,ie=this.g;if((St=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(St)){var mt=St;break e}}mt=null}if(d=mt)Ta(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vc(this,d);else{this.o=!1,this.s=3,be(12),ki(this),Pr(this);break t}}if(this.P){d=!0;let un;for(;!this.J&&this.C<z.length;)if(un=NA(this,z),un==yc){ye==4&&(this.s=4,be(14),d=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Qm){this.s=4,be(15),Ta(this.i,this.l,z,"[Invalid Chunk]"),d=!1;break}else Ta(this.i,this.l,un,null),vc(this,un);if($m(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||z.length!=0||this.h.h||(this.s=1,be(16),d=!1),this.o=this.o&&d,!d)Ta(this.i,this.l,z,"[Invalid Chunked Response]"),ki(this),Pr(this);else if(0<z.length&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.ba&&!pe.M&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),wc(pe),pe.M=!0,be(11))}}else Ta(this.i,this.l,z,null),vc(this,z);ye==4&&ki(this),this.o&&!this.J&&(ye==4?Ag(this.j,this):(this.o=!1,xl(this)))}else FA(this.g),d==400&&0<z.indexOf("Unknown SID")?(this.s=3,be(12)):(this.s=0,be(13)),ki(this),Pr(this)}}}catch{}finally{}};function $m(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function NA(l,c){var d=l.C,E=c.indexOf(`
`,d);return E==-1?yc:(d=Number(c.substring(d,E)),isNaN(d)?Qm:(E+=1,E+d>c.length?yc:(c=c.slice(E,E+d),l.C=E+d,c)))}Xn.prototype.cancel=function(){this.J=!0,ki(this)};function xl(l){l.S=Date.now()+l.I,Jm(l,l.I)}function Jm(l,c){if(l.B!=null)throw Error("WatchDog timer not null");l.B=jr(g(l.ba,l),c)}function Ec(l){l.B&&(o.clearTimeout(l.B),l.B=null)}Xn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xA(this.i,this.A),this.L!=2&&(Lr(),be(17)),ki(this),this.s=2,Pr(this)):Jm(this,this.S-l)};function Pr(l){l.j.G==0||l.J||Ag(l.j,l)}function ki(l){Ec(l);var c=l.M;c&&typeof c.ma=="function"&&c.ma(),l.M=null,Bm(l.U),l.g&&(c=l.g,l.g=null,c.abort(),c.ma())}function vc(l,c){try{var d=l.j;if(d.G!=0&&(d.g==l||Tc(d.h,l))){if(!l.K&&Tc(d.h,l)&&d.G==3){try{var E=d.Da.g.parse(c)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){t:if(!d.u){if(d.g)if(d.g.F+3e3<l.F)Vl(d),Ol(d);else break t;xc(d),be(18)}}else d.za=O[1],0<d.za-d.T&&37500>O[2]&&d.F&&d.v==0&&!d.C&&(d.C=jr(g(d.Za,d),6e3));if(1>=tg(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Li(d,11)}else if((l.K||d.g==l)&&Vl(d),!A(c))for(O=d.Da.g.parse(c),c=0;c<O.length;c++){let mt=O[c];if(d.T=mt[0],mt=mt[1],d.G==2)if(mt[0]=="c"){d.K=mt[1],d.ia=mt[2];const pe=mt[3];pe!=null&&(d.la=pe,d.j.info("VER="+d.la));const ye=mt[4];ye!=null&&(d.Aa=ye,d.j.info("SVER="+d.Aa));const Sa=mt[5];Sa!=null&&typeof Sa=="number"&&0<Sa&&(E=1.5*Sa,d.L=E,d.j.info("backChannelRequestTimeoutMs_="+E)),E=d;const un=l.g;if(un){const Ul=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var V=E.h;V.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(bc(V,V.h),V.h=null))}if(E.D){const Nc=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(E.ya=Nc,Nt(E.I,E.D,Nc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-l.F,d.j.info("Handshake RTT: "+d.R+"ms")),E=d;var z=l;if(E.qa=wg(E,E.J?E.ia:null,E.W),z.K){eg(E.h,z);var St=z,ie=E.L;ie&&(St.I=ie),St.B&&(Ec(St),xl(St)),E.g=z}else Tg(E);0<d.i.length&&Ml(d)}else mt[0]!="stop"&&mt[0]!="close"||Li(d,7);else d.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Li(d,7):Sc(d):mt[0]!="noop"&&d.l&&d.l.ta(mt),d.v=0)}}Lr(4)}catch{}}var IA=class{constructor(l,c){this.g=l,this.map=c}};function Zm(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function tg(l){return l.h?1:l.g?l.g.size:0}function Tc(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function bc(l,c){l.g?l.g.add(c):l.h=c}function eg(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}Zm.prototype.cancel=function(){if(this.i=ng(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ng(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const d of l.g.values())c=c.concat(d.D);return c}return M(l.i)}function RA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var c=[],d=l.length,E=0;E<d;E++)c.push(l[E]);return c}c=[],d=0;for(E in l)c[d++]=l[E];return c}function CA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var c=[];l=l.length;for(var d=0;d<l;d++)c.push(d);return c}c=[],d=0;for(const E in l)c[d++]=E;return c}}}function ig(l,c){if(l.forEach&&typeof l.forEach=="function")l.forEach(c,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,c,void 0);else for(var d=CA(l),E=RA(l),O=E.length,V=0;V<O;V++)c.call(void 0,E[V],d&&d[V],l)}var ag=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DA(l,c){if(l){l=l.split("&");for(var d=0;d<l.length;d++){var E=l[d].indexOf("="),O=null;if(0<=E){var V=l[d].substring(0,E);O=l[d].substring(E+1)}else V=l[d];c(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ui(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ui){this.h=l.h,wl(this,l.j),this.o=l.o,this.g=l.g,Nl(this,l.s),this.l=l.l;var c=l.i,d=new Gr;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),rg(this,d),this.m=l.m}else l&&(c=String(l).match(ag))?(this.h=!1,wl(this,c[1]||"",!0),this.o=zr(c[2]||""),this.g=zr(c[3]||"",!0),Nl(this,c[4]),this.l=zr(c[5]||"",!0),rg(this,c[6]||"",!0),this.m=zr(c[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}Ui.prototype.toString=function(){var l=[],c=this.j;c&&l.push(Hr(c,sg,!0),":");var d=this.g;return(d||c=="file")&&(l.push("//"),(c=this.o)&&l.push(Hr(c,sg,!0),"@"),l.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&l.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&l.push("/"),l.push(Hr(d,d.charAt(0)=="/"?VA:MA,!0))),(d=this.i.toString())&&l.push("?",d),(d=this.m)&&l.push("#",Hr(d,UA)),l.join("")};function Sn(l){return new Ui(l)}function wl(l,c,d){l.j=d?zr(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function Nl(l,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);l.s=c}else l.s=null}function rg(l,c,d){c instanceof Gr?(l.i=c,LA(l.i,l.h)):(d||(c=Hr(c,kA)),l.i=new Gr(c,l.h))}function Nt(l,c,d){l.i.set(c,d)}function Il(l){return Nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function zr(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Hr(l,c,d){return typeof l=="string"?(l=encodeURI(l).replace(c,OA),d&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function OA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var sg=/[#\/\?@]/g,MA=/[#\?:]/g,VA=/[#\?]/g,kA=/[#\?@]/g,UA=/#/g;function Gr(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function $n(l){l.g||(l.g=new Map,l.h=0,l.i&&DA(l.i,function(c,d){l.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}e=Gr.prototype,e.add=function(l,c){$n(this),this.i=null,l=ba(this,l);var d=this.g.get(l);return d||this.g.set(l,d=[]),d.push(c),this.h+=1,this};function lg(l,c){$n(l),c=ba(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function og(l,c){return $n(l),c=ba(l,c),l.g.has(c)}e.forEach=function(l,c){$n(this),this.g.forEach(function(d,E){d.forEach(function(O){l.call(c,O,E,this)},this)},this)},e.na=function(){$n(this);const l=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let E=0;E<c.length;E++){const O=l[E];for(let V=0;V<O.length;V++)d.push(c[E])}return d},e.V=function(l){$n(this);let c=[];if(typeof l=="string")og(this,l)&&(c=c.concat(this.g.get(ba(this,l))));else{l=Array.from(this.g.values());for(let d=0;d<l.length;d++)c=c.concat(l[d])}return c},e.set=function(l,c){return $n(this),this.i=null,l=ba(this,l),og(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=this.V(l),0<l.length?String(l[0]):c):c};function ug(l,c,d){lg(l,c),0<d.length&&(l.i=null,l.g.set(ba(l,c),M(d)),l.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var E=c[d];const V=encodeURIComponent(String(E)),z=this.V(E);for(E=0;E<z.length;E++){var O=V;z[E]!==""&&(O+="="+encodeURIComponent(String(z[E]))),l.push(O)}}return this.i=l.join("&")};function ba(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function LA(l,c){c&&!l.j&&($n(l),l.i=null,l.g.forEach(function(d,E){var O=E.toLowerCase();E!=O&&(lg(this,E),ug(this,O,d))},l)),l.j=c}function jA(l,c){const d=new Br;if(o.Image){const E=new Image;E.onload=y(Jn,d,"TestLoadImage: loaded",!0,c,E),E.onerror=y(Jn,d,"TestLoadImage: error",!1,c,E),E.onabort=y(Jn,d,"TestLoadImage: abort",!1,c,E),E.ontimeout=y(Jn,d,"TestLoadImage: timeout",!1,c,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else c(!1)}function BA(l,c){const d=new Br,E=new AbortController,O=setTimeout(()=>{E.abort(),Jn(d,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:E.signal}).then(V=>{clearTimeout(O),V.ok?Jn(d,"TestPingServer: ok",!0,c):Jn(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(O),Jn(d,"TestPingServer: error",!1,c)})}function Jn(l,c,d,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(d)}catch{}}function PA(){this.g=new bA}function zA(l,c,d){const E=d||"";try{ig(l,function(O,V){let z=O;h(O)&&(z=fc(O)),c.push(E+V+"="+encodeURIComponent(z))})}catch(O){throw c.push(E+"type="+encodeURIComponent("_badmap")),O}}function Rl(l){this.l=l.Ub||null,this.j=l.eb||!1}N(Rl,dc),Rl.prototype.g=function(){return new Cl(this.l,this.j)},Rl.prototype.i=function(l){return function(){return l}}({});function Cl(l,c){ge.call(this),this.D=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Cl,ge),e=Cl.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=c,this.readyState=1,qr(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(c.body=l),(this.D||o).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function cg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?Fr(this):qr(this),this.readyState==3&&cg(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Fr(this))},e.Qa=function(l){this.g&&(this.response=l,Fr(this))},e.ga=function(){this.g&&Fr(this)};function Fr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,qr(l)}e.setRequestHeader=function(l,c){this.u.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,l.push(d[0]+": "+d[1]),d=c.next();return l.join(`\r
`)};function qr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function hg(l){let c="";return H(l,function(d,E){c+=E,c+=":",c+=d,c+=`\r
`}),c}function Ac(l,c,d){t:{for(E in d){var E=!1;break t}E=!0}E||(d=hg(d),typeof l=="string"?d!=null&&encodeURIComponent(String(d)):Nt(l,c,d))}function Ut(l){ge.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ut,ge);var HA=/^https?$/i,GA=["POST","PUT"];e=Ut.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,c,d,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pc.g(),this.v=this.o?Pm(this.o):Pm(pc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(V){fg(this,V);return}if(l=d||"",d=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)d.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const V of E.keys())d.set(V,E.get(V));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(GA,c,void 0))||E||O||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of d)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gg(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){fg(this,V)}};function fg(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.m=5,dg(l),Dl(l)}function dg(l){l.A||(l.A=!0,Te(l,"complete"),Te(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Te(this,"complete"),Te(this,"abort"),Dl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dl(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?mg(this):this.bb())},e.bb=function(){mg(this)};function mg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||xn(l)!=4||l.Z()!=2)){if(l.u&&xn(l)==4)Um(l.Ea,0,l);else if(Te(l,"readystatechange"),xn(l)==4){l.h=!1;try{const z=l.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var d;if(!(d=c)){var E;if(E=z===0){var O=String(l.D).match(ag)[1]||null;!O&&o.self&&o.self.location&&(O=o.self.location.protocol.slice(0,-1)),E=!HA.test(O?O.toLowerCase():"")}d=E}if(d)Te(l,"complete"),Te(l,"success");else{l.m=6;try{var V=2<xn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",dg(l)}}finally{Dl(l)}}}}function Dl(l,c){if(l.g){gg(l);const d=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,c||Te(l,"ready");try{d.onreadystatechange=E}catch{}}}function gg(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function xn(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),TA(c)}};function pg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function FA(l){const c={};l=(l.g&&2<=xn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(A(l[E]))continue;var d=I(l[E]);const O=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=c[O]||[];c[O]=V,V.push(d)}v(c,function(E){return E.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(l,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[l]||c}function yg(l){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,l),this.cb=Yr("retryDelaySeedMs",1e4,l),this.Wa=Yr("forwardChannelMaxRetries",2,l),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Zm(l&&l.concurrentRequestLimit),this.Da=new PA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=yg.prototype,e.la=8,e.G=1,e.connect=function(l,c,d,E){be(0),this.W=l,this.H=c||{},d&&E!==void 0&&(this.H.OSID=d,this.H.OAID=E),this.F=this.X,this.I=wg(this,null,this.W),Ml(this)};function Sc(l){if(_g(l),l.G==3){var c=l.U++,d=Sn(l.I);if(Nt(d,"SID",l.K),Nt(d,"RID",c),Nt(d,"TYPE","terminate"),Kr(l,d),c=new Xn(l,l.j,c),c.L=2,c.v=Il(Sn(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&o.Image&&(new Image().src=c.v,d=!0),d||(c.g=Ng(c.j,null),c.g.ea(c.v)),c.F=Date.now(),xl(c)}xg(l)}function Ol(l){l.g&&(wc(l),l.g.cancel(),l.g=null)}function _g(l){Ol(l),l.u&&(o.clearTimeout(l.u),l.u=null),Vl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function Ml(l){if(!Wm(l.h)&&!l.s){l.s=!0;var c=l.Ga;J||Y(),$||(J(),$=!0),F.add(c,l),l.B=0}}function qA(l,c){return tg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=c.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=jr(g(l.Ga,l,c),Sg(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Xn(this,this.j,l);let V=this.o;if(this.S&&(V?(V=_(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)t:{for(var c=0,d=0;d<this.i.length;d++){e:{var E=this.i[d];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(c+=E,4096<c){c=d;break t}if(c===4096||d===this.i.length-1){c=d+1;break t}}c=1e3}else c=1e3;c=vg(this,O,c),d=Sn(this.I),Nt(d,"RID",l),Nt(d,"CVER",22),this.D&&Nt(d,"X-HTTP-Session-Id",this.D),Kr(this,d),V&&(this.O?c="headers="+encodeURIComponent(String(hg(V)))+"&"+c:this.m&&Ac(d,this.m,V)),bc(this.h,O),this.Ua&&Nt(d,"TYPE","init"),this.P?(Nt(d,"$req",c),Nt(d,"SID","null"),O.T=!0,_c(O,d,null)):_c(O,d,c),this.G=2}}else this.G==3&&(l?Eg(this,l):this.i.length==0||Wm(this.h)||Eg(this))};function Eg(l,c){var d;c?d=c.l:d=l.U++;const E=Sn(l.I);Nt(E,"SID",l.K),Nt(E,"RID",d),Nt(E,"AID",l.T),Kr(l,E),l.m&&l.o&&Ac(E,l.m,l.o),d=new Xn(l,l.j,d,l.B+1),l.m===null&&(d.H=l.o),c&&(l.i=c.D.concat(l.i)),c=vg(l,d,1e3),d.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),bc(l.h,d),_c(d,E,c)}function Kr(l,c){l.H&&H(l.H,function(d,E){Nt(c,E,d)}),l.l&&ig({},function(d,E){Nt(c,E,d)})}function vg(l,c,d){d=Math.min(l.i.length,d);var E=l.l?g(l.l.Na,l.l,l):null;t:{var O=l.i;let V=-1;for(;;){const z=["count="+d];V==-1?0<d?(V=O[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let St=!0;for(let ie=0;ie<d;ie++){let mt=O[ie].g;const pe=O[ie].map;if(mt-=V,0>mt)V=Math.max(0,O[ie].g-100),St=!1;else try{zA(pe,z,"req"+mt+"_")}catch{E&&E(pe)}}if(St){E=z.join("&");break t}}}return l=l.i.splice(0,d),c.D=l,E}function Tg(l){if(!l.g&&!l.u){l.Y=1;var c=l.Fa;J||Y(),$||(J(),$=!0),F.add(c,l),l.v=0}}function xc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=jr(g(l.Fa,l),Sg(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,bg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=jr(g(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,be(10),Ol(this),bg(this))};function wc(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function bg(l){l.g=new Xn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var c=Sn(l.qa);Nt(c,"RID","rpc"),Nt(c,"SID",l.K),Nt(c,"AID",l.T),Nt(c,"CI",l.F?"0":"1"),!l.F&&l.ja&&Nt(c,"TO",l.ja),Nt(c,"TYPE","xmlhttp"),Kr(l,c),l.m&&l.o&&Ac(c,l.m,l.o),l.L&&(l.g.I=l.L);var d=l.g;l=l.ia,d.L=1,d.v=Il(Sn(c)),d.m=null,d.P=!0,Xm(d,l)}e.Za=function(){this.C!=null&&(this.C=null,Ol(this),xc(this),be(19))};function Vl(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Ag(l,c){var d=null;if(l.g==c){Vl(l),wc(l),l.g=null;var E=2}else if(Tc(l.h,c))d=c.D,eg(l.h,c),E=1;else return;if(l.G!=0){if(c.o)if(E==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var O=l.B;E=bl(),Te(E,new qm(E,d)),Ml(l)}else Tg(l);else if(O=c.s,O==3||O==0&&0<c.X||!(E==1&&qA(l,c)||E==2&&xc(l)))switch(d&&0<d.length&&(c=l.h,c.i=c.i.concat(d)),O){case 1:Li(l,5);break;case 4:Li(l,10);break;case 3:Li(l,6);break;default:Li(l,2)}}}function Sg(l,c){let d=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(d*=2),d*c}function Li(l,c){if(l.j.info("Error code "+c),c==2){var d=g(l.fb,l),E=l.Xa;const O=!E;E=new Ui(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||wl(E,"https"),Il(E),O?jA(E.toString(),d):BA(E.toString(),d)}else be(2);l.G=0,l.l&&l.l.sa(c),xg(l),_g(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function xg(l){if(l.G=0,l.ka=[],l.l){const c=ng(l.h);(c.length!=0||l.i.length!=0)&&(R(l.ka,c),R(l.ka,l.i),l.h.i.length=0,M(l.i),l.i.length=0),l.l.ra()}}function wg(l,c,d){var E=d instanceof Ui?Sn(d):new Ui(d);if(E.g!="")c&&(E.g=c+"."+E.g),Nl(E,E.s);else{var O=o.location;E=O.protocol,c=c?c+"."+O.hostname:O.hostname,O=+O.port;var V=new Ui(null);E&&wl(V,E),c&&(V.g=c),O&&Nl(V,O),d&&(V.l=d),E=V}return d=l.D,c=l.ya,d&&c&&Nt(E,d,c),Nt(E,"VER",l.la),Kr(l,E),E}function Ng(l,c,d){if(c&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Ca&&!l.pa?new Ut(new Rl({eb:d})):new Ut(l.pa),c.Ha(l.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ig(){}e=Ig.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function kl(){}kl.prototype.g=function(l,c){return new Le(l,c)};function Le(l,c){ge.call(this),this.g=new yg(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(l?l["X-WebChannel-Client-Profile"]=c.va:l={"X-WebChannel-Client-Profile":c.va}),this.g.S=l,(l=c&&c.Sb)&&!A(l)&&(this.g.m=l),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!A(c)&&(this.g.D=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new Aa(this)}N(Le,ge),Le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Le.prototype.close=function(){Sc(this.g)},Le.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var d={};d.__data__=l,l=d}else this.u&&(d={},d.__data__=fc(l),l=d);c.i.push(new IA(c.Ya++,l)),c.G==3&&Ml(c)},Le.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,Le.aa.N.call(this)};function Rg(l){mc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const d in c){l=d;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}N(Rg,mc);function Cg(){gc.call(this),this.status=1}N(Cg,gc);function Aa(l){this.g=l}N(Aa,Ig),Aa.prototype.ua=function(){Te(this.g,"a")},Aa.prototype.ta=function(l){Te(this.g,new Rg(l))},Aa.prototype.sa=function(l){Te(this.g,new Cg)},Aa.prototype.ra=function(){Te(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Le.prototype.send=Le.prototype.o,Le.prototype.open=Le.prototype.m,Le.prototype.close=Le.prototype.close,ib=function(){return new kl},nb=function(){return bl()},eb=Vi,Vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Al.NO_ERROR=0,Al.TIMEOUT=8,Al.HTTP_ERROR=6,Ro=Al,Ym.COMPLETE="complete",tb=Ym,zm.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",ge.prototype.listen=ge.prototype.K,cs=zm,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,WT=Ut}).apply(typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ee.UNAUTHENTICATED=new Ee(null),Ee.GOOGLE_CREDENTIALS=new Ee("google-credentials-uid"),Ee.FIRST_PARTY=new Ee("first-party-uid"),Ee.MOCK_USER=new Ee("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new YT("@firebase/firestore");function ns(){return ca.logLevel}function q(e,...t){if(ca.logLevel<=dt.DEBUG){const n=t.map(em);ca.debug(`Firestore (${Cr}): ${e}`,...n)}}function qn(e,...t){if(ca.logLevel<=dt.ERROR){const n=t.map(em);ca.error(`Firestore (${Cr}): ${e}`,...n)}}function mr(e,...t){if(ca.logLevel<=dt.WARN){const n=t.map(em);ca.warn(`Firestore (${Cr}): ${e}`,...n)}}function em(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e="Unexpected state"){const t=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+e;throw qn(t),new Error(t)}function vt(e,t){e||tt()}function nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class EN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ee.UNAUTHENTICATED))}shutdown(){}}class vN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TN{constructor(t){this.t=t,this.currentUser=Ee.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){vt(this.o===void 0);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new na;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new na,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new na)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string"),new ab(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string"),new Ee(t)}}class bN{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Ee.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class AN{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new bN(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ee.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){vt(this.o===void 0);const i=r=>{r.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const s=r.token!==this.R;return this.R=r.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const a=r=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>a(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?a(r):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new SN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const a=wN(40);for(let r=0;r<a.length;++r)i.length<20&&a[r]<n&&(i+=t.charAt(a[r]%t.length))}return i}}function gt(e,t){return e<t?-1:e>t?1:0}function gr(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $t.fromMillis(Date.now())}static fromDate(t){return $t.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new $t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gt(this.nanoseconds,t.nanoseconds):gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new et(t)}static min(){return new et(new $t(0,0))}static max(){return new et(new $t(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n,i){n===void 0?n=0:n>t.length&&tt(),i===void 0?i=t.length-n:i>t.length-n&&tt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Xs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const r=t.get(a),s=n.get(a);if(r<s)return-1;if(r>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Bt extends Xs{construct(t,n,i){return new Bt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Q(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const NN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oe extends Xs{construct(t,n,i){return new oe(t,n,i)}static isValidIdentifier(t){return NN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new oe(["__name__"])}static fromServerFormat(t){const n=[];let i="",a=0;const r=()=>{if(i.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(i+=o,a++):(r(),a++)}if(r(),s)throw new Q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new oe(n)}static emptyPath(){return new oe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(Bt.fromString(t))}static fromName(t){return new X(Bt.fromString(t).popFirst(5))}static empty(){return new X(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Bt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Bt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new Bt(t.slice()))}}function IN(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=et.fromTimestamp(i===1e9?new $t(n+1,0):new $t(n,i));return new Ii(a,X.empty(),t)}function RN(e){return new Ii(e.readTime,e.key,-1)}class Ii{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ii(et.min(),X.empty(),-1)}static max(){return new Ii(et.max(),X.empty(),-1)}}function CN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:gt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==DN)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((i,a)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,a)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,i)=>{n(t)})}static reject(t){return new j((n,i)=>{i(t)})}static waitFor(t){return new j((n,i)=>{let a=0,r=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++r,s&&r===a&&n()},u=>i(u))}),s=!0,r===a&&n()})}static or(t){let n=j.resolve(!1);for(const i of t)n=n.next(a=>a?j.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,r)=>{i.push(n.call(this,a,r))}),this.waitFor(i)}static mapArray(t,n){return new j((i,a)=>{const r=t.length,s=new Array(r);let o=0;for(let u=0;u<r;u++){const h=u;n(t[h]).next(m=>{s[h]=m,++o,o===r&&i(s)},m=>a(m))}})}static doWhile(t,n){return new j((i,a)=>{const r=()=>{t()===!0?n().next(()=>{r()},a):i()};r()})}}function MN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}nm.oe=-1;function qu(e){return e==null}function mu(e){return e===0&&1/e==-1/0}function VN(e){return typeof e=="number"&&Number.isInteger(e)&&!mu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _a(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t,n){this.comparator=t,this.root=n||re.EMPTY}insert(t,n){return new kt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,re.BLACK,null,null))}remove(t){return new kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,re.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ro(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ro(this.root,t,this.comparator,!1)}getReverseIterator(){return new ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ro(this.root,t,this.comparator,!0)}}class ro{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&a&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class re{constructor(t,n,i,a,r){this.key=t,this.value=n,this.color=i??re.RED,this.left=a??re.EMPTY,this.right=r??re.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,r){return new re(t??this.key,n??this.value,i??this.color,a??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const r=i(t,a.key);return a=r<0?a.copy(null,null,null,a.left.insert(t,n,i),null):r===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return re.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return re.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,re.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const t=this.left.check();if(t!==this.right.check())throw tt();return t+(this.isRed()?0:1)}}re.EMPTY=null,re.RED=!0,re.BLACK=!1;re.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(t,n,i,a,r){return this}insert(t,n,i){return new re(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.comparator=t,this.data=new kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Oy(this.data.getIterator())}getIteratorFrom(t){return new Oy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof he)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(this.comparator(a,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new he(this.comparator);return n.data=t,n}}class Oy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.fields=t,t.sort(oe.comparator)}static empty(){return new He([])}unionWith(t){let n=new he(oe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new He(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return gr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new lb("Invalid base64 string: "+r):r}}(t);return new fe(n)}static fromUint8Array(t){const n=function(a){let r="";for(let s=0;s<a.length;++s)r+=String.fromCharCode(a[s]);return r}(t);return new fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fe.EMPTY_BYTE_STRING=new fe("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(e){if(vt(!!e),typeof e=="string"){let t=0;const n=kN.exec(e);if(vt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pt(e.seconds),nanos:Pt(e.nanos)}}function Pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ha(e){return typeof e=="string"?fe.fromBase64String(e):fe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function am(e){const t=e.mapValue.fields.__previous_value__;return im(t)?am(t):t}function $s(e){const t=Ri(e.mapValue.fields.__local_write_time__.timestampValue);return new $t(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,n,i,a,r,s,o,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h}}class Js{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Js("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Js&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so={mapValue:{}};function fa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?im(e)?4:jN(e)?9007199254740991:LN(e)?10:11:tt()}function vn(e,t){if(e===t)return!0;const n=fa(e);if(n!==fa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $s(e).isEqual($s(t));case 3:return function(a,r){if(typeof a.timestampValue=="string"&&typeof r.timestampValue=="string"&&a.timestampValue.length===r.timestampValue.length)return a.timestampValue===r.timestampValue;const s=Ri(a.timestampValue),o=Ri(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,r){return ha(a.bytesValue).isEqual(ha(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,r){return Pt(a.geoPointValue.latitude)===Pt(r.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(r.geoPointValue.longitude)}(e,t);case 2:return function(a,r){if("integerValue"in a&&"integerValue"in r)return Pt(a.integerValue)===Pt(r.integerValue);if("doubleValue"in a&&"doubleValue"in r){const s=Pt(a.doubleValue),o=Pt(r.doubleValue);return s===o?mu(s)===mu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return gr(e.arrayValue.values||[],t.arrayValue.values||[],vn);case 10:case 11:return function(a,r){const s=a.mapValue.fields||{},o=r.mapValue.fields||{};if(Dy(s)!==Dy(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!vn(s[u],o[u])))return!1;return!0}(e,t);default:return tt()}}function Zs(e,t){return(e.values||[]).find(n=>vn(n,t))!==void 0}function pr(e,t){if(e===t)return 0;const n=fa(e),i=fa(t);if(n!==i)return gt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(e.booleanValue,t.booleanValue);case 2:return function(r,s){const o=Pt(r.integerValue||r.doubleValue),u=Pt(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return My(e.timestampValue,t.timestampValue);case 4:return My($s(e),$s(t));case 5:return gt(e.stringValue,t.stringValue);case 6:return function(r,s){const o=ha(r),u=ha(s);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const m=gt(o[h],u[h]);if(m!==0)return m}return gt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){const o=gt(Pt(r.latitude),Pt(s.latitude));return o!==0?o:gt(Pt(r.longitude),Pt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Vy(e.arrayValue,t.arrayValue);case 10:return function(r,s){var o,u,h,m;const p=r.fields||{},g=s.fields||{},y=(o=p.value)===null||o===void 0?void 0:o.arrayValue,N=(u=g.value)===null||u===void 0?void 0:u.arrayValue,M=gt(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0);return M!==0?M:Vy(y,N)}(e.mapValue,t.mapValue);case 11:return function(r,s){if(r===so.mapValue&&s===so.mapValue)return 0;if(r===so.mapValue)return 1;if(s===so.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),h=s.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let p=0;p<u.length&&p<m.length;++p){const g=gt(u[p],m[p]);if(g!==0)return g;const y=pr(o[u[p]],h[m[p]]);if(y!==0)return y}return gt(u.length,m.length)}(e.mapValue,t.mapValue);default:throw tt()}}function My(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return gt(e,t);const n=Ri(e),i=Ri(t),a=gt(n.seconds,i.seconds);return a!==0?a:gt(n.nanos,i.nanos)}function Vy(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const r=pr(n[a],i[a]);if(r)return r}return gt(n.length,i.length)}function yr(e){return kf(e)}function kf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ri(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ha(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const r of n.values||[])a?a=!1:i+=",",i+=kf(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",r=!0;for(const s of i)r?r=!1:a+=",",a+=`${s}:${kf(n.fields[s])}`;return a+"}"}(e.mapValue):tt()}function Uf(e){return!!e&&"integerValue"in e}function rm(e){return!!e&&"arrayValue"in e}function ky(e){return!!e&&"nullValue"in e}function Uy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Co(e){return!!e&&"mapValue"in e}function LN(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _a(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Rs(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.value=t}static empty(){return new Me({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Co(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rs(n)}setAll(t){let n=oe.emptyPath(),i={},a=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}s?i[o.lastSegment()]=Rs(s):a.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,a)}delete(t){const n=this.field(t.popLast());Co(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];Co(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){_a(n,(a,r)=>t[a]=r);for(const a of i)delete t[a]}clone(){return new Me(Rs(this.value))}}function ob(e){const t=[];return _a(e.fields,(n,i)=>{const a=new oe([n]);if(Co(i)){const r=ob(i.mapValue).fields;if(r.length===0)t.push(a);else for(const s of r)t.push(a.child(s))}else t.push(a)}),new He(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n,i,a,r,s,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ve(t,0,et.min(),et.min(),et.min(),Me.empty(),0)}static newFoundDocument(t,n,i,a){return new ve(t,1,n,et.min(),i,a,0)}static newNoDocument(t,n){return new ve(t,2,n,et.min(),et.min(),Me.empty(),0)}static newUnknownDocument(t,n){return new ve(t,3,n,et.min(),et.min(),Me.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Me.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Me.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ve&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n){this.position=t,this.inclusive=n}}function Ly(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const r=t[a],s=e.position[a];if(r.field.isKeyField()?i=X.comparator(X.fromName(s.referenceValue),n.key):i=pr(s,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function jy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n="asc"){this.field=t,this.dir=n}}function BN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{}class Xt extends ub{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new zN(t,n,i):n==="array-contains"?new FN(t,i):n==="in"?new qN(t,i):n==="not-in"?new YN(t,i):n==="array-contains-any"?new KN(t,i):new Xt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new HN(t,i):new GN(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pr(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(pr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends ub{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Tn(t,n)}matches(t){return cb(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cb(e){return e.op==="and"}function hb(e){return PN(e)&&cb(e)}function PN(e){for(const t of e.filters)if(t instanceof Tn)return!1;return!0}function Lf(e){if(e instanceof Xt)return e.field.canonicalString()+e.op.toString()+yr(e.value);if(hb(e))return e.filters.map(t=>Lf(t)).join(",");{const t=e.filters.map(n=>Lf(n)).join(",");return`${e.op}(${t})`}}function fb(e,t){return e instanceof Xt?function(i,a){return a instanceof Xt&&i.op===a.op&&i.field.isEqual(a.field)&&vn(i.value,a.value)}(e,t):e instanceof Tn?function(i,a){return a instanceof Tn&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((r,s,o)=>r&&fb(s,a.filters[o]),!0):!1}(e,t):void tt()}function db(e){return e instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${yr(n.value)}`}(e):e instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(db).join(" ,")+"}"}(e):"Filter"}class zN extends Xt{constructor(t,n,i){super(t,n,i),this.key=X.fromName(i.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class HN extends Xt{constructor(t,n){super(t,"in",n),this.keys=mb("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class GN extends Xt{constructor(t,n){super(t,"not-in",n),this.keys=mb("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mb(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>X.fromName(i.referenceValue))}class FN extends Xt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return rm(n)&&Zs(n.arrayValue,this.value)}}class qN extends Xt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Zs(this.value.arrayValue,n)}}class YN extends Xt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Zs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Zs(this.value.arrayValue,n)}}class KN extends Xt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Zs(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t,n=null,i=[],a=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function By(e,t=null,n=[],i=[],a=null,r=null,s=null){return new QN(e,t,n,i,a,r,s)}function sm(e){const t=nt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Lf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),qu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>yr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>yr(i)).join(",")),t.ue=n}return t.ue}function lm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!BN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jy(e.startAt,t.startAt)&&jy(e.endAt,t.endAt)}function jf(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n=null,i=[],a=[],r=null,s="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XN(e,t,n,i,a,r,s,o){return new Yu(e,t,n,i,a,r,s,o)}function om(e){return new Yu(e)}function Py(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $N(e){return e.collectionGroup!==null}function Cs(e){const t=nt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new he(oe.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.ce.push(new pu(r,i))}),n.has(oe.keyField().canonicalString())||t.ce.push(new pu(oe.keyField(),i))}return t.ce}function yn(e){const t=nt(e);return t.le||(t.le=JN(t,Cs(e))),t.le}function JN(e,t){if(e.limitType==="F")return By(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const r=a.dir==="desc"?"asc":"desc";return new pu(a.field,r)});const n=e.endAt?new gu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gu(e.startAt.position,e.startAt.inclusive):null;return By(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Bf(e,t,n){return new Yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ku(e,t){return lm(yn(e),yn(t))&&e.limitType===t.limitType}function gb(e){return`${sm(yn(e))}|lt:${e.limitType}`}function Da(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>db(a)).join(", ")}]`),qu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>yr(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>yr(a)).join(",")),`Target(${i})`}(yn(e))}; limitType=${e.limitType})`}function Qu(e,t){return t.isFoundDocument()&&function(i,a){const r=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):X.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,a){for(const r of Cs(i))if(!r.field.isKeyField()&&a.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const r of i.filters)if(!r.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(s,o,u){const h=Ly(s,o,u);return s.inclusive?h<=0:h<0}(i.startAt,Cs(i),a)||i.endAt&&!function(s,o,u){const h=Ly(s,o,u);return s.inclusive?h>=0:h>0}(i.endAt,Cs(i),a))}(e,t)}function ZN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pb(e){return(t,n)=>{let i=!1;for(const a of Cs(e)){const r=WN(a,t,n);if(r!==0)return r;i=i||a.field.isKeyField()}return 0}}function WN(e,t,n){const i=e.field.isKeyField()?X.comparator(t.key,n.key):function(r,s,o){const u=s.data.field(r),h=o.data.field(r);return u!==null&&h!==null?pr(u,h):tt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,r]of i)if(this.equalsFn(a,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<a.length;r++)if(this.equalsFn(a[r][0],t))return void(a[r]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){_a(this.inner,(n,i)=>{for(const[a,r]of i)t(a,r)})}isEmpty(){return sb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new kt(X.comparator);function Yn(){return tI}const yb=new kt(X.comparator);function hs(...e){let t=yb;for(const n of e)t=t.insert(n.key,n);return t}function _b(e){let t=yb;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Xi(){return Ds()}function Eb(){return Ds()}function Ds(){return new Dr(e=>e.toString(),(e,t)=>e.isEqual(t))}const eI=new kt(X.comparator),nI=new he(X.comparator);function ot(...e){let t=nI;for(const n of e)t=t.add(n);return t}const iI=new he(gt);function aI(){return iI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(t)?"-0":t}}function vb(e){return{integerValue:""+e}}function rI(e,t){return VN(t)?vb(t):um(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this._=void 0}}function sI(e,t,n){return e instanceof yu?function(a,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return r&&im(r)&&(r=am(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Ws?bb(e,t):e instanceof tl?Ab(e,t):function(a,r){const s=Tb(a,r),o=zy(s)+zy(a.Pe);return Uf(s)&&Uf(a.Pe)?vb(o):um(a.serializer,o)}(e,t)}function lI(e,t,n){return e instanceof Ws?bb(e,t):e instanceof tl?Ab(e,t):n}function Tb(e,t){return e instanceof _u?function(i){return Uf(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class yu extends Xu{}class Ws extends Xu{constructor(t){super(),this.elements=t}}function bb(e,t){const n=Sb(t);for(const i of e.elements)n.some(a=>vn(a,i))||n.push(i);return{arrayValue:{values:n}}}class tl extends Xu{constructor(t){super(),this.elements=t}}function Ab(e,t){let n=Sb(t);for(const i of e.elements)n=n.filter(a=>!vn(a,i));return{arrayValue:{values:n}}}class _u extends Xu{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function zy(e){return Pt(e.integerValue||e.doubleValue)}function Sb(e){return rm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function oI(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof Ws&&a instanceof Ws||i instanceof tl&&a instanceof tl?gr(i.elements,a.elements,vn):i instanceof _u&&a instanceof _u?vn(i.Pe,a.Pe):i instanceof yu&&a instanceof yu}(e.transform,t.transform)}class uI{constructor(t,n){this.version=t,this.transformResults=n}}class _n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _n}static exists(t){return new _n(void 0,t)}static updateTime(t){return new _n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Do(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $u{}function xb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Nb(e.key,_n.none()):new yl(e.key,e.data,_n.none());{const n=e.data,i=Me.empty();let a=new he(oe.comparator);for(let r of t.fields)if(!a.has(r)){let s=n.field(r);s===null&&r.length>1&&(r=r.popLast(),s=n.field(r)),s===null?i.delete(r):i.set(r,s),a=a.add(r)}return new Mi(e.key,i,new He(a.toArray()),_n.none())}}function cI(e,t,n){e instanceof yl?function(a,r,s){const o=a.value.clone(),u=Gy(a.fieldTransforms,r,s.transformResults);o.setAll(u),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Mi?function(a,r,s){if(!Do(a.precondition,r))return void r.convertToUnknownDocument(s.version);const o=Gy(a.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(wb(a)),u.setAll(o),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(a,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Os(e,t,n,i){return e instanceof yl?function(r,s,o,u){if(!Do(r.precondition,s))return o;const h=r.value.clone(),m=Fy(r.fieldTransforms,u,s);return h.setAll(m),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Mi?function(r,s,o,u){if(!Do(r.precondition,s))return o;const h=Fy(r.fieldTransforms,u,s),m=s.data;return m.setAll(wb(r)),m.setAll(h),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(r,s,o){return Do(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function hI(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),r=Tb(i.transform,a||null);r!=null&&(n===null&&(n=Me.empty()),n.set(i.field,r))}return n||null}function Hy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&gr(i,a,(r,s)=>oI(r,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yl extends $u{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mi extends $u{constructor(t,n,i,a,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function wb(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Gy(e,t,n){const i=new Map;vt(e.length===n.length);for(let a=0;a<n.length;a++){const r=e[a],s=r.transform,o=t.data.field(r.field);i.set(r.field,lI(s,o,n[a]))}return i}function Fy(e,t,n){const i=new Map;for(const a of e){const r=a.transform,s=n.data.field(a.field);i.set(a.field,sI(r,s,t))}return i}class Nb extends $u{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fI extends $u{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const r=this.mutations[a];r.key.isEqual(t.key)&&cI(r,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Os(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Os(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=Eb();return this.mutations.forEach(a=>{const r=t.get(a.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=n.has(a.key)?null:o;const u=xb(s,o);u!==null&&i.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(et.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ot())}isEqual(t){return this.batchId===t.batchId&&gr(this.mutations,t.mutations,(n,i)=>Hy(n,i))&&gr(this.baseMutations,t.baseMutations,(n,i)=>Hy(n,i))}}class cm{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){vt(t.mutations.length===i.length);let a=function(){return eI}();const r=t.mutations;for(let s=0;s<r.length;s++)a=a.insert(r[s].key,i[s].version);return new cm(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,ft;function pI(e){switch(e){default:return tt();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Ib(e){if(e===void 0)return qn("GRPC error has no .code"),B.UNKNOWN;switch(e){case Gt.OK:return B.OK;case Gt.CANCELLED:return B.CANCELLED;case Gt.UNKNOWN:return B.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return B.INTERNAL;case Gt.UNAVAILABLE:return B.UNAVAILABLE;case Gt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Gt.NOT_FOUND:return B.NOT_FOUND;case Gt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Gt.ABORTED:return B.ABORTED;case Gt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Gt.DATA_LOSS:return B.DATA_LOSS;default:return tt()}}(ft=Gt||(Gt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new ea([4294967295,4294967295],0);function qy(e){const t=yI().encode(e),n=new ZT;return n.update(t),new Uint8Array(n.digest())}function Yy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new ea([n,i],0),new ea([a,r],0)]}class hm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new fs(`Invalid padding: ${n}`);if(i<0)throw new fs(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new fs(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new fs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=ea.fromNumber(this.Ie)}Ee(t,n,i){let a=t.add(n.multiply(ea.fromNumber(i)));return a.compare(_I)===1&&(a=new ea([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=qy(t),[i,a]=Yy(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);if(!this.de(s))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new hm(r,a,n);return i.forEach(o=>s.insert(o)),s}insert(t){if(this.Ie===0)return;const n=qy(t),[i,a]=Yy(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class fs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n,i,a,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,_l.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ju(et.min(),a,new kt(gt),Yn(),ot())}}class _l{constructor(t,n,i,a,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new _l(i,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n,i,a){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=a}}class Rb{constructor(t,n){this.targetId=t,this.me=n}}class Cb{constructor(t,n,i=fe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Ky{constructor(){this.fe=0,this.ge=Xy(),this.pe=fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ot(),n=ot(),i=ot();return this.ge.forEach((a,r)=>{switch(r){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:tt()}}),new _l(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=Xy()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EI{constructor(t){this.Le=t,this.Be=new Map,this.ke=Yn(),this.qe=Qy(),this.Qe=new kt(gt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:tt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,a)=>{this.ze(a)&&n(a)})}He(t){const n=t.targetId,i=t.me.count,a=this.Je(n);if(a){const r=a.target;if(jf(r))if(i===0){const s=new X(r.path);this.Ue(n,s,ve.newNoDocument(s,et.min()))}else vt(i===1);else{const s=this.Ye(n);if(s!==i){const o=this.Ze(t),u=o?this.Xe(o,t,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:r=0}=n;let s,o;try{s=ha(i).toUint8Array()}catch(u){if(u instanceof lb)return mr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new hm(s,a,r)}catch(u){return mr(u instanceof fs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ie===0?null:o}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let a=0;return i.forEach(r=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.Ue(n,r,null),a++)}),a}rt(t){const n=new Map;this.Be.forEach((r,s)=>{const o=this.Je(s);if(o){if(r.current&&jf(o.target)){const u=new X(o.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ve.newNoDocument(u,t))}r.be&&(n.set(s,r.ve()),r.Ce())}});let i=ot();this.qe.forEach((r,s)=>{let o=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ke.forEach((r,s)=>s.setReadTime(t));const a=new Ju(t,n,this.Qe,this.ke,i);return this.ke=Yn(),this.qe=Qy(),this.Qe=new kt(gt),a}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const a=this.Ge(t);this.it(t,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Ky,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new he(gt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Ky),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Qy(){return new kt(X.comparator)}function Xy(){return new kt(X.comparator)}const vI={asc:"ASCENDING",desc:"DESCENDING"},TI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class AI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pf(e,t){return e.useProto3Json||qu(t)?t:{value:t}}function Eu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Db(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function SI(e,t){return Eu(e,t.toTimestamp())}function En(e){return vt(!!e),et.fromTimestamp(function(n){const i=Ri(n);return new $t(i.seconds,i.nanos)}(e))}function fm(e,t){return zf(e,t).canonicalString()}function zf(e,t){const n=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ob(e){const t=Bt.fromString(e);return vt(Lb(t)),t}function Hf(e,t){return fm(e.databaseId,t.path)}function Eh(e,t){const n=Ob(t);if(n.get(1)!==e.databaseId.projectId)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(Vb(n))}function Mb(e,t){return fm(e.databaseId,t)}function xI(e){const t=Ob(e);return t.length===4?Bt.emptyPath():Vb(t)}function Gf(e){return new Bt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vb(e){return vt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $y(e,t,n){return{name:Hf(e,t),fields:n.value.mapValue.fields}}function wI(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],r=function(h,m){return h.useProto3Json?(vt(m===void 0||typeof m=="string"),fe.fromBase64String(m||"")):(vt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),fe.fromUint8Array(m||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(h){const m=h.code===void 0?B.UNKNOWN:Ib(h.code);return new Q(m,h.message||"")}(s);n=new Cb(i,a,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Eh(e,i.document.name),r=En(i.document.updateTime),s=i.document.createTime?En(i.document.createTime):et.min(),o=new Me({mapValue:{fields:i.document.fields}}),u=ve.newFoundDocument(a,r,s,o),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Oo(h,m,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Eh(e,i.document),r=i.readTime?En(i.readTime):et.min(),s=ve.newNoDocument(a,r),o=i.removedTargetIds||[];n=new Oo([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Eh(e,i.document),r=i.removedTargetIds||[];n=new Oo([],r,a,null)}else{if(!("filter"in t))return tt();{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:r}=i,s=new gI(a,r),o=i.targetId;n=new Rb(o,s)}}return n}function NI(e,t){let n;if(t instanceof yl)n={update:$y(e,t.key,t.value)};else if(t instanceof Nb)n={delete:Hf(e,t.key)};else if(t instanceof Mi)n={update:$y(e,t.key,t.data),updateMask:UI(t.fieldMask)};else{if(!(t instanceof fI))return tt();n={verify:Hf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof yu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ws)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof tl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof _u)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw tt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,r){return r.updateTime!==void 0?{updateTime:SI(a,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:tt()}(e,t.precondition)),n}function II(e,t){return e&&e.length>0?(vt(t!==void 0),e.map(n=>function(a,r){let s=a.updateTime?En(a.updateTime):En(r);return s.isEqual(et.min())&&(s=En(r)),new uI(s,a.transformResults||[])}(n,t))):[]}function RI(e,t){return{documents:[Mb(e,t.path)]}}function CI(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Mb(e,a);const r=function(h){if(h.length!==0)return Ub(Tn.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:Oa(g.field),direction:MI(g.dir)}}(m))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Pf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{_t:n,parent:a}}function DI(e){let t=xI(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){vt(i===1);const m=n.from[0];m.allDescendants?a=m.collectionId:t=t.child(m.collectionId)}let r=[];n.where&&(r=function(p){const g=kb(p);return g instanceof Tn&&hb(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(N){return new pu(Ma(N.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,qu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new gu(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new gu(y,g)}(n.endAt)),XN(t,a,s,r,o,"F",u,h)}function OI(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function kb(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ma(n.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ma(n.unaryFilter.field);return Xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ma(n.unaryFilter.field);return Xt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ma(n.unaryFilter.field);return Xt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(e):e.fieldFilter!==void 0?function(n){return Xt.create(Ma(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(i=>kb(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return tt()}}(n.compositeFilter.op))}(e):tt()}function MI(e){return vI[e]}function VI(e){return TI[e]}function kI(e){return bI[e]}function Oa(e){return{fieldPath:e.canonicalString()}}function Ma(e){return oe.fromServerFormat(e.fieldPath)}function Ub(e){return e instanceof Xt?function(n){if(n.op==="=="){if(Uy(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(ky(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uy(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(ky(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:VI(n.op),value:n.value}}}(e):e instanceof Tn?function(n){const i=n.getFilters().map(a=>Ub(a));return i.length===1?i[0]:{compositeFilter:{op:kI(n.op),filters:i}}}(e):tt()}function UI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Lb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n,i,a,r=et.min(),s=et.min(),o=fe.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new ci(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.ct=t}}function jI(e){const t=DI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Bf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.un=new PI}addToCollectionParentIndex(t,n){return this.un.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(Ii.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(Ii.min())}updateCollectionGroup(t,n,i){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class PI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new he(Bt.comparator),r=!a.has(i);return this.index[n]=a.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new he(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new _r(0)}static kn(){return new _r(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.changes=new Dr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ve.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&Os(i.mutation,a,He.empty(),$t.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ot()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ot()){const a=Xi();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(r=>{let s=hs();return r.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=Xi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ot()))}populateOverlays(t,n,i){const a=[];return i.forEach(r=>{n.has(r)||a.push(r)}),this.documentOverlayCache.getOverlays(t,a).next(r=>{r.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,i,a){let r=Yn();const s=Ds(),o=function(){return Ds()}();return n.forEach((u,h)=>{const m=i.get(h.key);a.has(h.key)&&(m===void 0||m.mutation instanceof Mi)?r=r.insert(h.key,h):m!==void 0?(s.set(h.key,m.mutation.getFieldMask()),Os(m.mutation,h,m.mutation.getFieldMask(),$t.now())):s.set(h.key,He.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((h,m)=>s.set(h,m)),n.forEach((h,m)=>{var p;return o.set(h,new HI(m,(p=s.get(h))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(t,n){const i=Ds();let a=new kt((s,o)=>s-o),r=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let m=i.get(u)||He.empty();m=o.applyToLocalView(h,m),i.set(u,m);const p=(a.get(o.batchId)||ot()).add(u);a=a.insert(o.batchId,p)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,m=u.value,p=Eb();m.forEach(g=>{if(!r.has(g)){const y=xb(n.get(g),i.get(g));y!==null&&p.set(g,y),r=r.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,h,p))}return j.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$N(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(r=>{const s=a-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-r.size):j.resolve(Xi());let o=-1,u=r;return s.next(h=>j.forEach(h,(m,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),r.get(m)?j.resolve():this.remoteDocumentCache.getEntry(t,m).next(g=>{u=u.insert(m,g)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,u,h,ot())).next(m=>({batchId:o,changes:_b(m)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(i=>{let a=hs();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const r=n.collectionGroup;let s=hs();return this.indexManager.getCollectionParents(t,r).next(o=>j.forEach(o,u=>{const h=function(p,g){return new Yu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,a).next(m=>{m.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,a){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,a))).next(s=>{r.forEach((u,h)=>{const m=h.getKey();s.get(m)===null&&(s=s.insert(m,ve.newInvalidDocument(m)))});let o=hs();return s.forEach((u,h)=>{const m=r.get(u);m!==void 0&&Os(m.mutation,h,He.empty(),$t.now()),Qu(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:En(a.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:jI(a.bundledQuery),readTime:En(a.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.overlays=new kt(X.comparator),this.Ir=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Xi();return j.forEach(n,a=>this.getOverlay(t,a).next(r=>{r!==null&&i.set(a,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,r)=>{this.ht(t,n,r)}),j.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),j.resolve()}getOverlaysForCollection(t,n,i){const a=Xi(),r=n.length+1,s=new X(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&a.set(u.getKey(),u)}return j.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let r=new kt((h,m)=>h-m);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=r.get(h.largestBatchId);m===null&&(m=Xi(),r=r.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const o=Xi(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,m)=>o.set(h,m)),!(o.size()>=a)););return j.resolve(o)}ht(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new mI(n,i));let r=this.Ir.get(n);r===void 0&&(r=ot(),this.Ir.set(n,r)),this.Ir.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.sessionToken=fe.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.Tr=new he(Zt.Er),this.dr=new he(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new Zt(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new Zt(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new X(new Bt([])),i=new Zt(n,t),a=new Zt(n,t+1),r=[];return this.dr.forEachInRange([i,a],s=>{this.Vr(s),r.push(s.key)}),r}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new X(new Bt([])),i=new Zt(n,t),a=new Zt(n,t+1);let r=ot();return this.dr.forEachInRange([i,a],s=>{r=r.add(s.key)}),r}containsKey(t){const n=new Zt(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Zt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return X.comparator(t.key,n.key)||gt(t.wr,n.wr)}static Ar(t,n){return gt(t.wr,n.wr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new he(Zt.Er)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new dI(r,n,i,a);this.mutationQueue.push(s);for(const o of a)this.br=this.br.add(new Zt(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return j.resolve(s)}lookupMutationBatch(t,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.vr(i),r=a<0?0:a;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,a],s=>{const o=this.Dr(s.wr);r.push(o)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new he(gt);return n.forEach(a=>{const r=new Zt(a,0),s=new Zt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,s],o=>{i=i.add(o.wr)})}),j.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let r=i;X.isDocumentKey(r)||(r=r.child(""));const s=new Zt(new X(r),0);let o=new he(gt);return this.br.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.wr)),!0)},s),j.resolve(this.Cr(o))}Cr(t){const n=[];return t.forEach(i=>{const a=this.Dr(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return j.forEach(n.mutations,a=>{const r=new Zt(a.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new Zt(n,0),a=this.br.firstAfterOrEqual(i);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.Mr=t,this.docs=function(){return new kt(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),r=a?a.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():ve.newInvalidDocument(n))}getEntries(t,n){let i=Yn();return n.forEach(a=>{const r=this.docs.get(a);i=i.insert(a,r?r.document.mutableCopy():ve.newInvalidDocument(a))}),j.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let r=Yn();const s=n.path,o=new X(s.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||CN(RN(m),i)<=0||(a.has(m.key)||Qu(n,m))&&(r=r.insert(m.key,m.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,n,i,a){tt()}Or(t,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new XI(this)}getSize(t){return j.resolve(this.size)}}class XI extends zI{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(t,a)):this.cr.removeEntry(i)}),j.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.persistence=t,this.Nr=new Dr(n=>sm(n),lm),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new dm,this.targetCount=0,this.kr=_r.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,a)=>n(a)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new _r(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.Kn(n),j.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,i){let a=0;const r=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Nr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),j.waitFor(r).next(()=>a)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return j.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),j.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const a=this.persistence.referenceDelegate,r=[];return a&&n.forEach(s=>{r.push(a.markPotentiallyOrphaned(t,s))}),j.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return j.resolve(i)}containsKey(t,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n){this.qr={},this.overlays={},this.Qr=new nm(0),this.Kr=!1,this.Kr=!0,this.$r=new YI,this.referenceDelegate=t(this),this.Ur=new $I(this),this.indexManager=new BI,this.remoteDocumentCache=function(a){return new QI(a)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new LI(n),this.Gr=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new KI(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const a=new ZI(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(r=>this.referenceDelegate.jr(a).next(()=>r)).toPromise().then(r=>(a.raiseOnCommittedEvent(),r))}Hr(t,n){return j.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class ZI extends ON{constructor(t){super(),this.currentSequenceNumber=t}}class mm{constructor(t){this.persistence=t,this.Jr=new dm,this.Yr=null}static Zr(t){return new mm(t)}get Xr(){if(this.Yr)return this.Yr;throw tt()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),j.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,i=>{const a=X.fromPath(i);return this.ei(t,a).next(r=>{r||n.removeEntry(a,et.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=a}static Wi(t,n){let i=ot(),a=ot();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:a=a.add(r.doc.key)}return new gm(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return e2()?8:MN(Ww())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,a){const r={result:null};return this.Yi(t,n).next(s=>{r.result=s}).next(()=>{if(!r.result)return this.Zi(t,n,a,i).next(s=>{r.result=s})}).next(()=>{if(r.result)return;const s=new WI;return this.Xi(t,n,s).next(o=>{if(r.result=o,this.zi)return this.es(t,n,s,o.size)})}).next(()=>r.result)}es(t,n,i,a){return i.documentReadCount<this.ji?(ns()<=dt.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(ns()<=dt.DEBUG&&q("QueryEngine","Query:",Da(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(ns()<=dt.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yn(n))):j.resolve())}Yi(t,n){if(Py(n))return j.resolve(null);let i=yn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Bf(n,null,"F"),i=yn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const s=ot(...r);return this.Ji.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.ts(n,o);return this.ns(n,h,s,u.readTime)?this.Yi(t,Bf(n,null,"F")):this.rs(t,h,n,u)}))})))}Zi(t,n,i,a){return Py(n)||a.isEqual(et.min())?j.resolve(null):this.Ji.getDocuments(t,i).next(r=>{const s=this.ts(n,r);return this.ns(n,s,i,a)?j.resolve(null):(ns()<=dt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Da(n)),this.rs(t,s,n,IN(a,-1)).next(o=>o))})}ts(t,n){let i=new he(pb(t));return n.forEach((a,r)=>{Qu(t,r)&&(i=i.add(r))}),i}ns(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(a)>0)}Xi(t,n,i){return ns()<=dt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Da(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ii.min(),i)}rs(t,n,i,a){return this.Ji.getDocumentsMatchingQuery(t,i,a).next(r=>(n.forEach(s=>{r=r.insert(s.key,s)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,n,i,a){this.persistence=t,this.ss=n,this.serializer=a,this.os=new kt(gt),this._s=new Dr(r=>sm(r),lm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function nR(e,t,n,i){return new eR(e,t,n,i)}async function jb(e,t){const n=nt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(r=>(a=r,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const s=[],o=[];let u=ot();for(const h of a){s.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of r){o.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(i,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:o}))})})}function iR(e,t){const n=nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),r=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,m){const p=h.batch,g=p.keys();let y=j.resolve();return g.forEach(N=>{y=y.next(()=>m.getEntry(u,N)).next(M=>{const R=h.docVersions.get(N);vt(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),m.addEntry(M)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,p))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=ot();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function Bb(e){const t=nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function aR(e,t){const n=nt(e),i=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const o=[];t.targetChanges.forEach((m,p)=>{const g=a.get(p);if(!g)return;o.push(n.Ur.removeMatchingKeys(r,m.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(r,m.addedDocuments,p)));let y=g.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(fe.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,i)),a=a.insert(p,y),function(M,R,T){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,y,m)&&o.push(n.Ur.updateTargetData(r,y))});let u=Yn(),h=ot();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,m))}),o.push(rR(r,s,t.documentUpdates).next(m=>{u=m.Ps,h=m.Is})),!i.isEqual(et.min())){const m=n.Ur.getLastRemoteSnapshotVersion(r).next(p=>n.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(m)}return j.waitFor(o).next(()=>s.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.os=a,r))}function rR(e,t,n){let i=ot(),a=ot();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let s=Yn();return n.forEach((o,u)=>{const h=r.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(et.min())?(t.removeEntry(o,u.readTime),s=s.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),s=s.insert(o,u)):q("LocalStore","Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Ps:s,Is:a}})}function sR(e,t){const n=nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function lR(e,t){const n=nt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Ur.getTargetData(i,t).next(r=>r?(a=r,j.resolve(a)):n.Ur.allocateTargetId(i).next(s=>(a=new ci(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function Ff(e,t,n){const i=nt(e),a=i.os.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,s=>i.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!pl(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(a.target)}function Jy(e,t,n){const i=nt(e);let a=et.min(),r=ot();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,m){const p=nt(u),g=p._s.get(m);return g!==void 0?j.resolve(p.os.get(g)):p.Ur.getTargetData(h,m)}(i,s,yn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,o.targetId).next(u=>{r=u})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,n?a:et.min(),n?r:ot())).next(o=>(oR(i,ZN(t),o),{documents:o,Ts:r})))}function oR(e,t,n){let i=e.us.get(t)||et.min();n.forEach((a,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.us.set(t,i)}class Zy{constructor(){this.activeTargetIds=aI()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uR{constructor(){this.so=new Zy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Zy,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo=null;function vh(){return lo===null?lo=function(){return 268435456+Math.round(2147483648*Math.random())}():lo++,"0x"+lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e="WebChannelConnection";class dR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${a}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${r}`}get Fo(){return!1}Mo(n,i,a,r,s){const o=vh(),u=this.xo(n,i.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${o}:`,u,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,r,s),this.No(n,u,h,a).then(m=>(q("RestConnection",`Received RPC '${n}' ${o}: `,m),m),m=>{throw mr("RestConnection",`RPC '${n}' ${o} failed with error: `,m,"url: ",u,"request:",a),m})}Lo(n,i,a,r,s,o){return this.Mo(n,i,a,r,s)}Oo(n,i,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,s)=>n[s]=r),a&&a.headers.forEach((r,s)=>n[s]=r)}xo(n,i){const a=hR[n];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,a){const r=vh();return new Promise((s,o)=>{const u=new WT;u.setWithCredentials(!0),u.listenOnce(tb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ro.NO_ERROR:const m=u.getResponseJson();q(_e,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(m)),s(m);break;case Ro.TIMEOUT:q(_e,`RPC '${t}' ${r} timed out`),o(new Q(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const p=u.getStatus();if(q(_e,`RPC '${t}' ${r} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const N=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(y.status);o(new Q(N,y.message))}else o(new Q(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Q(B.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{q(_e,`RPC '${t}' ${r} completed.`)}});const h=JSON.stringify(a);q(_e,`RPC '${t}' ${r} sending request:`,a),u.send(n,"POST",h,i,15)})}Bo(t,n,i){const a=vh(),r=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=ib(),o=nb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const m=r.join("");q(_e,`Creating RPC '${t}' stream ${a}: ${m}`,u);const p=s.createWebChannel(m,u);let g=!1,y=!1;const N=new fR({Io:R=>{y?q(_e,`Not sending because RPC '${t}' stream ${a} is closed:`,R):(g||(q(_e,`Opening RPC '${t}' stream ${a} transport.`),p.open(),g=!0),q(_e,`RPC '${t}' stream ${a} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,T,A)=>{R.listen(T,x=>{try{A(x)}catch(C){setTimeout(()=>{throw C},0)}})};return M(p,cs.EventType.OPEN,()=>{y||(q(_e,`RPC '${t}' stream ${a} transport opened.`),N.yo())}),M(p,cs.EventType.CLOSE,()=>{y||(y=!0,q(_e,`RPC '${t}' stream ${a} transport closed`),N.So())}),M(p,cs.EventType.ERROR,R=>{y||(y=!0,mr(_e,`RPC '${t}' stream ${a} transport errored:`,R),N.So(new Q(B.UNAVAILABLE,"The operation could not be completed")))}),M(p,cs.EventType.MESSAGE,R=>{var T;if(!y){const A=R.data[0];vt(!!A);const x=A,C=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(C){q(_e,`RPC '${t}' stream ${a} received error:`,C);const P=C.status;let H=function(b){const S=Gt[b];if(S!==void 0)return Ib(S)}(P),v=C.message;H===void 0&&(H=B.INTERNAL,v="Unknown error status: "+P+" with message "+C.message),y=!0,N.So(new Q(H,v)),p.close()}else q(_e,`RPC '${t}' stream ${a} received:`,A),N.bo(A)}}),M(o,eb.STAT_EVENT,R=>{R.stat===Vf.PROXY?q(_e,`RPC '${t}' stream ${a} detected buffering proxy`):R.stat===Vf.NOPROXY&&q(_e,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function Th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(e){return new AI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,n,i=1e3,a=1.5,r=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=a,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-i);a>0&&q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,n,i,a,r,s,o,u){this.ui=t,this.Ho=i,this.Jo=a,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Pb(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===n&&this.P_(i,a)},i=>{t(()=>{const a=new Q(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mR extends zb{constructor(t,n,i,a,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=wI(this.serializer,t),i=function(r){if(!("targetChange"in r))return et.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?et.min():s.readTime?En(s.readTime):et.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Gf(this.serializer),n.addTarget=function(r,s){let o;const u=s.target;if(o=jf(u)?{documents:RI(r,u)}:{query:CI(r,u)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Db(r,s.resumeToken);const h=Pf(r,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(et.min())>0){o.readTime=Eu(r,s.snapshotVersion.toTimestamp());const h=Pf(r,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=OI(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Gf(this.serializer),n.removeTarget=t,this.a_(n)}}class gR extends zb{constructor(t,n,i,a,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return vt(!!t.streamToken),this.lastStreamToken=t.streamToken,vt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=II(t.writeResults,t.commitTime),i=En(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Gf(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>NI(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR extends class{}{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Mo(t,zf(n,i),a,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Q(B.UNKNOWN,r.toString())})}Lo(t,n,i,a,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(t,zf(n,i),a,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qn(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n,i,a,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(s=>{i.enqueueAndForget(async()=>{Ea(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=nt(u);h.L_.add(4),await El(h),h.q_.set("Unknown"),h.L_.delete(4),await Wu(h)}(this))})}),this.q_=new yR(i,a)}}async function Wu(e){if(Ea(e))for(const t of e.B_)await t(!0)}async function El(e){for(const t of e.B_)await t(!1)}function Hb(e,t){const n=nt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Em(n)?_m(n):Or(n).r_()&&ym(n,t))}function pm(e,t){const n=nt(e),i=Or(n);n.N_.delete(t),i.r_()&&Gb(n,t),n.N_.size===0&&(i.r_()?i.o_():Ea(n)&&n.q_.set("Unknown"))}function ym(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(et.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Or(e).A_(t)}function Gb(e,t){e.Q_.xe(t),Or(e).R_(t)}function _m(e){e.Q_=new EI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Or(e).start(),e.q_.v_()}function Em(e){return Ea(e)&&!Or(e).n_()&&e.N_.size>0}function Ea(e){return nt(e).L_.size===0}function Fb(e){e.Q_=void 0}async function ER(e){e.q_.set("Online")}async function vR(e){e.N_.forEach((t,n)=>{ym(e,t)})}async function TR(e,t){Fb(e),Em(e)?(e.q_.M_(t),_m(e)):e.q_.set("Unknown")}async function bR(e,t,n){if(e.q_.set("Online"),t instanceof Cb&&t.state===2&&t.cause)try{await async function(a,r){const s=r.cause;for(const o of r.targetIds)a.N_.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.N_.delete(o),a.Q_.removeTarget(o))}(e,t)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await vu(e,i)}else if(t instanceof Oo?e.Q_.Ke(t):t instanceof Rb?e.Q_.He(t):e.Q_.We(t),!n.isEqual(et.min()))try{const i=await Bb(e.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.Q_.rt(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=r.N_.get(h);m&&r.N_.set(h,m.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,h)=>{const m=r.N_.get(u);if(!m)return;r.N_.set(u,m.withResumeToken(fe.EMPTY_BYTE_STRING,m.snapshotVersion)),Gb(r,u);const p=new ci(m.target,u,h,m.sequenceNumber);ym(r,p)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){q("RemoteStore","Failed to raise snapshot:",i),await vu(e,i)}}async function vu(e,t,n){if(!pl(t))throw t;e.L_.add(1),await El(e),e.q_.set("Offline"),n||(n=()=>Bb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Wu(e)})}function qb(e,t){return t().catch(n=>vu(e,n,t))}async function tc(e){const t=nt(e),n=Ci(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;AR(t);)try{const a=await sR(t.localStore,i);if(a===null){t.O_.length===0&&n.o_();break}i=a.batchId,SR(t,a)}catch(a){await vu(t,a)}Yb(t)&&Kb(t)}function AR(e){return Ea(e)&&e.O_.length<10}function SR(e,t){e.O_.push(t);const n=Ci(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Yb(e){return Ea(e)&&!Ci(e).n_()&&e.O_.length>0}function Kb(e){Ci(e).start()}async function xR(e){Ci(e).p_()}async function wR(e){const t=Ci(e);for(const n of e.O_)t.m_(n.mutations)}async function NR(e,t,n){const i=e.O_.shift(),a=cm.from(i,t,n);await qb(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await tc(e)}async function IR(e,t){t&&Ci(e).V_&&await async function(i,a){if(function(s){return pI(s)&&s!==B.ABORTED}(a.code)){const r=i.O_.shift();Ci(i).s_(),await qb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,a)),await tc(i)}}(e,t),Yb(e)&&Kb(e)}async function t_(e,t){const n=nt(e);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const i=Ea(n);n.L_.add(3),await El(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Wu(n)}async function RR(e,t){const n=nt(e);t?(n.L_.delete(2),await Wu(n)):t||(n.L_.add(2),await El(n),n.q_.set("Unknown"))}function Or(e){return e.K_||(e.K_=function(n,i,a){const r=nt(n);return r.w_(),new mR(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:ER.bind(null,e),Ro:vR.bind(null,e),mo:TR.bind(null,e),d_:bR.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Em(e)?_m(e):e.q_.set("Unknown")):(await e.K_.stop(),Fb(e))})),e.K_}function Ci(e){return e.U_||(e.U_=function(n,i,a){const r=nt(n);return r.w_(),new gR(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xR.bind(null,e),mo:IR.bind(null,e),f_:wR.bind(null,e),g_:NR.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await tc(e)):(await e.U_.stop(),e.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n,i,a,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=r,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,r){const s=Date.now()+i,o=new vm(t,n,s,a,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(e,t){if(qn("AsyncQueue",`${t}: ${e}`),pl(e))return new Q(B.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||X.comparator(n.key,i.key):(n,i)=>X.comparator(n.key,i.key),this.keyedMap=hs(),this.sortedSet=new kt(this.comparator)}static emptySet(t){return new nr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof nr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(!a.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new nr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.W_=new kt(X.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):tt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Er{constructor(t,n,i,a,r,s,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,a,r){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Er(t,n,nr.emptySet(n),s,i,a,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ku(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class DR{constructor(){this.queries=n_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const a=nt(n),r=a.queries;a.queries=n_(),r.forEach((s,o)=>{for(const u of o.j_)u.onError(i)})})(this,new Q(B.ABORTED,"Firestore shutting down"))}}function n_(){return new Dr(e=>gb(e),Ku)}async function OR(e,t){const n=nt(e);let i=3;const a=t.query;let r=n.queries.get(a);r?!r.H_()&&t.J_()&&(i=2):(r=new CR,i=t.J_()?0:1);try{switch(i){case 0:r.z_=await n.onListen(a,!0);break;case 1:r.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=Tm(s,`Initialization of query '${Da(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,r),r.j_.push(t),t.Z_(n.onlineState),r.z_&&t.X_(r.z_)&&bm(n)}async function MR(e,t){const n=nt(e),i=t.query;let a=3;const r=n.queries.get(i);if(r){const s=r.j_.indexOf(t);s>=0&&(r.j_.splice(s,1),r.j_.length===0?a=t.J_()?0:1:!r.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function VR(e,t){const n=nt(e);let i=!1;for(const a of t){const r=a.query,s=n.queries.get(r);if(s){for(const o of s.j_)o.X_(a)&&(i=!0);s.z_=a}}i&&bm(n)}function kR(e,t,n){const i=nt(e),a=i.queries.get(t);if(a)for(const r of a.j_)r.onError(n);i.queries.delete(t)}function bm(e){e.Y_.forEach(t=>{t.next()})}var qf,i_;(i_=qf||(qf={})).ea="default",i_.Cache="cache";class UR{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Er(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Er.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t){this.key=t}}class Xb{constructor(t){this.key=t}}class LR{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ot(),this.mutatedKeys=ot(),this.Aa=pb(t),this.Ra=new nr(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new e_,a=n?n.Ra:this.Ra;let r=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((m,p)=>{const g=a.get(m),y=Qu(this.query,p)?p:null,N=!!g&&this.mutatedKeys.has(g.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;g&&y?g.data.isEqual(y.data)?N!==M&&(i.track({type:3,doc:y}),R=!0):this.ga(g,y)||(i.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||h&&this.Aa(y,h)<0)&&(o=!0)):!g&&y?(i.track({type:0,doc:y}),R=!0):g&&!y&&(i.track({type:1,doc:g}),R=!0,(u||h)&&(o=!0)),R&&(y?(s=s.add(y),r=M?r.add(m):r.delete(m)):(s=s.delete(m),r=r.delete(m)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),r=r.delete(m.key),i.track({type:1,doc:m})}return{Ra:s,fa:i,ns:o,mutatedKeys:r}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const r=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((m,p)=>function(y,N){const M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return M(y)-M(N)}(m.type,p.type)||this.Aa(m.doc,p.doc)),this.pa(i),a=a!=null&&a;const o=n&&!a?this.ya():[],u=this.da.size===0&&this.current&&!a?1:0,h=u!==this.Ea;return this.Ea=u,s.length!==0||h?{snapshot:new Er(this.query,t.Ra,r,s,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new e_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=ot(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new Xb(i))}),this.da.forEach(i=>{t.has(i)||n.push(new Qb(i))}),n}ba(t){this.Ta=t.Ts,this.da=ot();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Er.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jR{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class BR{constructor(t){this.key=t,this.va=!1}}class PR{constructor(t,n,i,a,r,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Dr(o=>gb(o),Ku),this.Ma=new Map,this.xa=new Set,this.Oa=new kt(X.comparator),this.Na=new Map,this.La=new dm,this.Ba={},this.ka=new Map,this.qa=_r.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function zR(e,t,n=!0){const i=eA(e);let a;const r=i.Fa.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),a=r.view.Da()):a=await $b(i,t,n,!0),a}async function HR(e,t){const n=eA(e);await $b(n,t,!0,!1)}async function $b(e,t,n,i){const a=await lR(e.localStore,yn(t)),r=a.targetId,s=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await GR(e,t,r,s==="current",a.resumeToken)),e.isPrimaryClient&&n&&Hb(e.remoteStore,a),o}async function GR(e,t,n,i,a){e.Ka=(p,g,y)=>async function(M,R,T,A){let x=R.view.ma(T);x.ns&&(x=await Jy(M.localStore,R.query,!1).then(({documents:v})=>R.view.ma(v,x)));const C=A&&A.targetChanges.get(R.targetId),P=A&&A.targetMismatches.get(R.targetId)!=null,H=R.view.applyChanges(x,M.isPrimaryClient,C,P);return r_(M,R.targetId,H.wa),H.snapshot}(e,p,g,y);const r=await Jy(e.localStore,t,!0),s=new LR(t,r.Ts),o=s.ma(r.documents),u=_l.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),h=s.applyChanges(o,e.isPrimaryClient,u);r_(e,n,h.wa);const m=new jR(t,n,s);return e.Fa.set(t,m),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),h.snapshot}async function FR(e,t,n){const i=nt(e),a=i.Fa.get(t),r=i.Ma.get(a.targetId);if(r.length>1)return i.Ma.set(a.targetId,r.filter(s=>!Ku(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ff(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&pm(i.remoteStore,a.targetId),Yf(i,a.targetId)}).catch(gl)):(Yf(i,a.targetId),await Ff(i.localStore,a.targetId,!0))}async function qR(e,t){const n=nt(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),pm(n.remoteStore,i.targetId))}async function YR(e,t,n){const i=WR(e);try{const a=await function(s,o){const u=nt(s),h=$t.now(),m=o.reduce((y,N)=>y.add(N.key),ot());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let N=Yn(),M=ot();return u.cs.getEntries(y,m).next(R=>{N=R,N.forEach((T,A)=>{A.isValidDocument()||(M=M.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,N)).next(R=>{p=R;const T=[];for(const A of o){const x=hI(A,p.get(A.key).overlayedDocument);x!=null&&T.push(new Mi(A.key,x,ob(x.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,T,o)}).next(R=>{g=R;const T=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,T)})}).then(()=>({batchId:g.batchId,changes:_b(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new kt(gt)),h=h.insert(o,u),s.Ba[s.currentUser.toKey()]=h}(i,a.batchId,n),await vl(i,a.changes),await tc(i.remoteStore)}catch(a){const r=Tm(a,"Failed to persist write");n.reject(r)}}async function Jb(e,t){const n=nt(e);try{const i=await aR(n.localStore,t);t.targetChanges.forEach((a,r)=>{const s=n.Na.get(r);s&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?vt(s.va):a.removedDocuments.size>0&&(vt(s.va),s.va=!1))}),await vl(n,i,t)}catch(i){await gl(i)}}function a_(e,t,n){const i=nt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Fa.forEach((r,s)=>{const o=s.view.Z_(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=nt(s);u.onlineState=o;let h=!1;u.queries.forEach((m,p)=>{for(const g of p.j_)g.Z_(o)&&(h=!0)}),h&&bm(u)}(i.eventManager,t),a.length&&i.Ca.d_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function KR(e,t,n){const i=nt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Na.get(t),r=a&&a.key;if(r){let s=new kt(X.comparator);s=s.insert(r,ve.newNoDocument(r,et.min()));const o=ot().add(r),u=new Ju(et.min(),new Map,new kt(gt),s,o);await Jb(i,u),i.Oa=i.Oa.remove(r),i.Na.delete(t),Am(i)}else await Ff(i.localStore,t,!1).then(()=>Yf(i,t,n)).catch(gl)}async function QR(e,t){const n=nt(e),i=t.batch.batchId;try{const a=await iR(n.localStore,t);Wb(n,i,null),Zb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await vl(n,a)}catch(a){await gl(a)}}async function XR(e,t,n){const i=nt(e);try{const a=await function(s,o){const u=nt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return u.mutationQueue.lookupMutationBatch(h,o).next(p=>(vt(p!==null),m=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>u.localDocuments.getDocuments(h,m))})}(i.localStore,t);Wb(i,t,n),Zb(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await vl(i,a)}catch(a){await gl(a)}}function Zb(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function Wb(e,t,n){const i=nt(e);let a=i.Ba[i.currentUser.toKey()];if(a){const r=a.get(t);r&&(n?r.reject(n):r.resolve(),a=a.remove(t)),i.Ba[i.currentUser.toKey()]=a}}function Yf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||tA(e,i)})}function tA(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(pm(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Am(e))}function r_(e,t,n){for(const i of n)i instanceof Qb?(e.La.addReference(i.key,t),$R(e,i)):i instanceof Xb?(q("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||tA(e,i.key)):tt()}function $R(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(q("SyncEngine","New document in limbo: "+n),e.xa.add(i),Am(e))}function Am(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new X(Bt.fromString(t)),i=e.qa.next();e.Na.set(i,new BR(n)),e.Oa=e.Oa.insert(n,i),Hb(e.remoteStore,new ci(yn(om(n.path)),i,"TargetPurposeLimboResolution",nm.oe))}}async function vl(e,t,n){const i=nt(e),a=[],r=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((o,u)=>{s.push(i.Ka(u,t,n).then(h=>{var m;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){a.push(h);const p=gm.Wi(u.targetId,h);r.push(p)}}))}),await Promise.all(s),i.Ca.d_(a),await async function(u,h){const m=nt(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(h,g=>j.forEach(g.$i,y=>m.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>j.forEach(g.Ui,y=>m.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!pl(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=m.os.get(g),N=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(N);m.os=m.os.insert(g,M)}}}(i.localStore,r))}async function JR(e,t){const n=nt(e);if(!n.currentUser.isEqual(t)){q("SyncEngine","User change. New user:",t.toKey());const i=await jb(n.localStore,t);n.currentUser=t,function(r,s){r.ka.forEach(o=>{o.forEach(u=>{u.reject(new Q(B.CANCELLED,s))})}),r.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await vl(n,i.hs)}}function ZR(e,t){const n=nt(e),i=n.Na.get(t);if(i&&i.va)return ot().add(i.key);{let a=ot();const r=n.Ma.get(t);if(!r)return a;for(const s of r){const o=n.Fa.get(s);a=a.unionWith(o.view.Va)}return a}}function eA(e){const t=nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KR.bind(null,t),t.Ca.d_=VR.bind(null,t.eventManager),t.Ca.$a=kR.bind(null,t.eventManager),t}function WR(e){const t=nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XR.bind(null,t),t}class Tu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zu(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return nR(this.persistence,new tR,t.initialUser,this.serializer)}Ga(t){return new JI(mm.Zr,this.serializer)}Wa(t){return new uR}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tu.provider={build:()=>new Tu};class Kf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>a_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new DR}()}createDatastore(t){const n=Zu(t.databaseInfo.databaseId),i=function(r){return new dR(r)}(t.databaseInfo);return function(r,s,o,u){return new pR(r,s,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,r,s,o){return new _R(i,a,r,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return Wy.D()?new Wy:new cR}())}createSyncEngine(t,n){return function(a,r,s,o,u,h,m){const p=new PR(a,r,s,o,u,h);return m&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const r=nt(a);q("RemoteStore","RemoteStore shutting down."),r.L_.add(5),await El(r),r.k_.shutdown(),r.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):qn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,n,i,a,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Ee.UNAUTHENTICATED,this.clientId=rb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Tm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function bh(e,t){e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await jb(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function s_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await nC(e);q("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>t_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>t_(t.remoteStore,a)),e._onlineComponents=t}async function nC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await bh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===B.FAILED_PRECONDITION||a.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;mr("Error using user provided cache. Falling back to memory cache: "+n),await bh(e,new Tu)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await bh(e,new Tu);return e._offlineComponents}async function nA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await s_(e,e._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await s_(e,new Kf))),e._onlineComponents}function iC(e){return nA(e).then(t=>t.syncEngine)}async function l_(e){const t=await nA(e),n=t.eventManager;return n.onListen=zR.bind(null,t.syncEngine),n.onUnlisten=FR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qR.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(e,t,n){if(!n)throw new Q(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rC(e,t,n,i){if(t===!0&&i===!0)throw new Q(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function u_(e){if(!X.isDocumentKey(e))throw new Q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Sm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":tt()}function bi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sm(e);throw new Q(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xm{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new EN;switch(i.type){case"firstParty":return new AN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=o_.get(n);i&&(q("ComponentProvider","Removing Datastore"),o_.delete(n),i.terminate())}(this),Promise.resolve()}}function sC(e,t,n,i={}){var a;const r=(e=bi(e,xm))._getSettings(),s=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==s&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:s,ssl:!1})),i.mockUserToken){let o,u;if(typeof i.mockUserToken=="string")o=i.mockUserToken,u=Ee.MOCK_USER;else{o=Zw(i.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ee(h)}e._authCredentials=new vN(new ab(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ec(this.firestore,t,this._query)}}class Ke{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}}class el extends ec{constructor(t,n,i){super(t,n,om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new X(t))}withConverter(t){return new el(this.firestore,t,this._path)}}function Bi(e,t,...n){if(e=Ni(e),arguments.length===1&&(t=rb.newId()),aC("doc","path",t),e instanceof xm){const i=Bt.fromString(t,...n);return u_(i),new Ke(e,null,new X(i))}{if(!(e instanceof Ke||e instanceof el))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Bt.fromString(t,...n));return u_(i),new Ke(e.firestore,e instanceof el?e.converter:null,new X(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Pb(this,"async_queue_retry"),this.Vu=()=>{const i=Th();i&&q("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new na;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!pl(t))throw t;q("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const a=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw qn("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const a=vm.createAndSchedule(this,t,n,i,r=>this.yu(r));return this.Tu.push(a),a}fu(){this.Eu&&tt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function f_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const r of i)if(r in a&&typeof a[r]=="function")return!0;return!1}(e,["next","error","complete"])}class nl extends xm{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new h_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new h_(t),this._firestoreClient=void 0,await t}}}function lC(e,t){const n=typeof e=="object"?e:lN(),i=typeof e=="string"?e:"(default)",a=iN(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const r=$w("firestore");r&&sC(a,...r)}return a}function aA(e){if(e._terminated)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||oC(e),e._firestoreClient}function oC(e){var t,n,i;const a=e._freezeSettings(),r=function(o,u,h,m){return new UN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,iA(m.experimentalLongPollingOptions),m.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new eC(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vr(fe.fromBase64String(t))}catch(n){throw new Q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vr(fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gt(this._lat,t._lat)||gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==a[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^__.*__$/;class cC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Mi(t,this.data,this.fieldMask,n,this.fieldTransforms):new yl(t,this.data,n,this.fieldTransforms)}}class rA{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Mi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function sA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Rm{constructor(t,n,i,a,r,s){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,r===void 0&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Rm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.Ou(t),a}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return bu(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(sA(this.Cu)&&uC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class hC{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Zu(t)}Qu(t,n,i,a=!1){return new Rm({Cu:t,methodName:n,qu:i,path:oe.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lA(e){const t=e._freezeSettings(),n=Zu(e._databaseId);return new hC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fC(e,t,n,i,a,r={}){const s=e.Qu(r.merge||r.mergeFields?2:0,t,n,a);Cm("Data must be an object, but it was:",s,i);const o=oA(i,s);let u,h;if(r.merge)u=new He(s.fieldMask),h=s.fieldTransforms;else if(r.mergeFields){const m=[];for(const p of r.mergeFields){const g=Qf(t,p,n);if(!s.contains(g))throw new Q(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);cA(m,g)||m.push(g)}u=new He(m),h=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=s.fieldTransforms;return new cC(new Me(o),u,h)}class ic extends wm{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ic}}function dC(e,t,n,i){const a=e.Qu(1,t,n);Cm("Data must be an object, but it was:",a,i);const r=[],s=Me.empty();_a(i,(u,h)=>{const m=Dm(t,u,n);h=Ni(h);const p=a.Nu(m);if(h instanceof ic)r.push(m);else{const g=ac(h,p);g!=null&&(r.push(m),s.set(m,g))}});const o=new He(r);return new rA(s,o,a.fieldTransforms)}function mC(e,t,n,i,a,r){const s=e.Qu(1,t,n),o=[Qf(t,i,n)],u=[a];if(r.length%2!=0)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)o.push(Qf(t,r[g])),u.push(r[g+1]);const h=[],m=Me.empty();for(let g=o.length-1;g>=0;--g)if(!cA(h,o[g])){const y=o[g];let N=u[g];N=Ni(N);const M=s.Nu(y);if(N instanceof ic)h.push(y);else{const R=ac(N,M);R!=null&&(h.push(y),m.set(y,R))}}const p=new He(h);return new rA(m,p,s.fieldTransforms)}function ac(e,t){if(uA(e=Ni(e)))return Cm("Unsupported field value:",t,e),oA(e,t);if(e instanceof wm)return function(i,a){if(!sA(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(a);r&&a.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,a){const r=[];let s=0;for(const o of i){let u=ac(o,a.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(e,t)}return function(i,a){if((i=Ni(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=$t.fromDate(i);return{timestampValue:Eu(a.serializer,r)}}if(i instanceof $t){const r=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eu(a.serializer,r)}}if(i instanceof Nm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vr)return{bytesValue:Db(a.serializer,i._byteString)};if(i instanceof Ke){const r=a.databaseId,s=i.firestore._databaseId;if(!s.isEqual(r))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:fm(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Im)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Bu("VectorValues must only contain numeric values.");return um(o.serializer,u)})}}}}}}(i,a);throw a.Bu(`Unsupported field value: ${Sm(i)}`)}(e,t)}function oA(e,t){const n={};return sb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(e,(i,a)=>{const r=ac(a,t.Mu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function uA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof $t||e instanceof Nm||e instanceof vr||e instanceof Ke||e instanceof wm||e instanceof Im)}function Cm(e,t,n){if(!uA(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Sm(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function Qf(e,t,n){if((t=Ni(t))instanceof nc)return t._internalPath;if(typeof t=="string")return Dm(e,t);throw bu("Field path arguments must be of type string or ",e,!1,void 0,n)}const gC=new RegExp("[~\\*/\\[\\]]");function Dm(e,t,n){if(t.search(gC)>=0)throw bu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new nc(...t.split("."))._internalPath}catch{throw bu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bu(e,t,n,i,a){const r=i&&!i.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||s)&&(u+=" (found",r&&(u+=` in field ${i}`),s&&(u+=` in document ${a}`),u+=")"),new Q(B.INVALID_ARGUMENT,o+e+u)}function cA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,n,i,a,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(fA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pC extends hA{data(){return super.data()}}function fA(e,t){return typeof t=="string"?Dm(e,t):t instanceof nc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _C{convertValue(t,n="none"){switch(fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ha(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw tt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return _a(t,(a,r)=>{i[a]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(s=>Pt(s.doubleValue));return new Im(r)}convertGeoPoint(t){return new Nm(Pt(t.latitude),Pt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=am(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp($s(t));default:return null}}convertTimestamp(t){const n=Ri(t);return new $t(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Bt.fromString(t);vt(Lb(i));const a=new Js(i.get(1),i.get(3)),r=new X(i.popFirst(5));return a.isEqual(n)||qn(`Document ${r} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dA extends hA{constructor(t,n,i,a,r,s){super(t,n,i,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(fA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Mo extends dA{data(t={}){return super.data(t)}}class vC{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new ds(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Mo(this._firestore,this._userDataWriter,i.key,i,new ds(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,r){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Mo(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ds(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Mo(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ds(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,m=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),m=s.indexOf(o.doc.key)),{type:TC(o.type),doc:u,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}class mA extends _C{constructor(t){super(),this.firestore=t}convertBytes(t){return new vr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function bC(e,t,n){e=bi(e,Ke);const i=bi(e.firestore,nl),a=EC(e.converter,t);return gA(i,[fC(lA(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,_n.none())])}function Pi(e,t,n,...i){e=bi(e,Ke);const a=bi(e.firestore,nl),r=lA(a);let s;return s=typeof(t=Ni(t))=="string"||t instanceof nc?mC(r,"updateDoc",e._key,t,n,i):dC(r,"updateDoc",e._key,t),gA(a,[s.toMutation(e._key,_n.exists(!0))])}function AC(e,...t){var n,i,a;e=Ni(e);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||f_(t[s])||(r=t[s],s++);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(f_(t[s])){const p=t[s];t[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),t[s+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),t[s+2]=(a=p.complete)===null||a===void 0?void 0:a.bind(p)}let u,h,m;if(e instanceof Ke)h=bi(e.firestore,nl),m=om(e._key.path),u={next:p=>{t[s]&&t[s](SC(h,e,p))},error:t[s+1],complete:t[s+2]};else{const p=bi(e,ec);h=bi(p.firestore,nl),m=p._query;const g=new mA(h);u={next:y=>{t[s]&&t[s](new vC(h,g,p,y))},error:t[s+1],complete:t[s+2]},yC(e._query)}return function(g,y,N,M){const R=new tC(M),T=new UR(y,R,N);return g.asyncQueue.enqueueAndForget(async()=>OR(await l_(g),T)),()=>{R.Za(),g.asyncQueue.enqueueAndForget(async()=>MR(await l_(g),T))}}(aA(h),m,o,u)}function gA(e,t){return function(i,a){const r=new na;return i.asyncQueue.enqueueAndForget(async()=>YR(await iC(i),a,r)),r.promise}(aA(e),t)}function SC(e,t,n){const i=n.docs.get(t._key),a=new mA(e);return new dA(e,a,t._key,i,new ds(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Cr=a})(sN),du(new Ks("firestore",(i,{instanceIdentifier:a,options:r})=>{const s=i.getProvider("app").getImmediate(),o=new nl(new TN(i.getProvider("auth-internal")),new xN(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(h.options.projectId,m)}(s,a),s);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),er(Cy,"4.7.3",t),er(Cy,"4.7.3","esm2017")})();const xC={apiKey:"AIzaSyDhdfcG6ONFjii9sZdMn9zLoOA2oaiACG8",authDomain:"mel-trip-95837.firebaseapp.com",projectId:"mel-trip-95837",storageBucket:"mel-trip-95837.firebasestorage.app",messagingSenderId:"201385610606",appId:"1:201385610606:web:57ab03c06c24fe9ae9057f"},wC=XT(xC),zi=lC(wC),oo=2,is=[{day:1,date:"2026-01-21",weekday:"",weather:"sunny",temp:24,tips:" 4  T1 ",events:[{id:"1-0",time:"01:45",title:"(TPE)  (SIN)",location:"Taoyuan Intl Airport (TPE)",type:"flight",notes:`Scoot TR 897
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 897",airline:"Scoot B787-9",departCode:"TPE",arriveCode:"SIN",departTerminal:"1",arriveTerminal:"1",duration:"4h 40m"}},{id:"1-1",time:"10:20",title:"(SIN)  (MEL)",location:"Changi Airport (SIN)",type:"flight",notes:`Scoot TR 24
Layover: 3h 55m`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 24",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"MEL",departTerminal:"1",arriveTerminal:"2",duration:"7h 30m"}},{id:"1-2",time:"20:50",title:"",location:"Melbourne Airport",lat:-37.669,lng:144.841,type:"transport",notes:""},{id:"1-3",time:"21:40",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:""},{id:"1-4",time:"22:30",title:": Inner CBD Apartment",location:"Melbourne CBD (Near Southern Cross)",lat:-37.815,lng:144.955,type:"hotel",notes:"HDSS07/InnerCBD/1Min->Station"}]},{day:2,date:"2026-01-22",weekday:"",weather:"sunny",temp:28,tips:"",events:[{id:"2-1",time:"10:00",title:": ",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"2-2",time:"12:00",title:"",location:"Melbourne Park Outdoor Courts",lat:-37.822,lng:144.979,type:"activity",notes:""},{id:"2-3",time:"15:00",title:"John Cain / KIA Arena",location:"John Cain Arena",lat:-37.823,lng:144.98,type:"activity",notes:"Ground Pass "},{id:"2-4",time:"18:00",title:"Garden Square ",location:"Garden Square",lat:-37.821,lng:144.978,type:"food",notes:""}]},{day:3,date:"2026-01-23",weekday:"",weather:"partly-cloudy",temp:26,tips:"",events:[{id:"3-1",time:"10:00",title:" &  Day 2",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"3-2",time:"13:00",title:"Grand Slam Oval ",location:"Grand Slam Oval",lat:-37.8225,lng:144.9795,type:"food",notes:""},{id:"3-3",time:"16:00",title:"",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:" 70 "},{id:"3-4",time:"20:00",title:": ",location:"300 Spencer St, Melbourne",lat:-37.8119,lng:144.9536,type:"hotel",notes:"Atlantis Hotel Melbourne",bookingUrl:"https://www.agoda.com/zh-tw/account/editbooking.html?bookingId=Z8C4Kfulw2iR33s2tqaz9g%3D%3D&landFrom=TripDetail&sort=BookingStartDate&state=Upcoming&page=1&ds=xCyHKy4CaORlQkTX"}]},{day:4,date:"2026-01-24",weekday:"",weather:"sunny",temp:25,tips:`
 Marengo Beach`,events:[{id:"4-0",time:"11:00",title:": ",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"transport",notes:"Geelong Waterfront"},{id:"4-1",time:"12:15",title:" (Geelong) ",location:"Geelong Waterfront",lat:-38.1499,lng:144.3617,type:"food",notes:`: Wah Wah Gee 
`},{id:"4-2",time:"14:15",title:"",location:"Great Ocean Road Memorial Arch",lat:-38.4396,lng:144.0175,type:"activity",notes:" 15 "},{id:"4-3",time:"15:00",title:" (Lorne) ",location:"Lorne Beach",lat:-38.5415,lng:143.9754,type:"food",notes:""},{id:"4-4",time:"16:15",title:"",location:"Kennett River Nature Walk",lat:-38.6677,lng:143.8596,type:"activity",notes:`: Kafe Koala
 Grey River Rd `},{id:"4-5",time:"17:30",title:": Apollo Stay",location:"38 Thomson Street, Apollo Bay",lat:-38.756,lng:143.656,type:"hotel",notes:"Check-in "},{id:"4-6",time:"18:00",title:"",location:"Apollo Bay Fishermen's Co-Op",lat:-38.757,lng:143.668,type:"food",notes:`/ ()
: Great Ocean Road Brewhouse`},{id:"4-7",time:"19:45",title:"",location:"Marriner's Lookout",lat:-38.7408,lng:143.6669,type:"activity",notes:"10+5"},{id:"4-8",time:"21:00",title:" ",location:"Marengo Beach",lat:-38.775,lng:143.66,type:"activity",notes:" 5 "}]},{day:5,date:"2026-01-25",weekday:"",weather:"partly-cloudy",temp:23,tips:"08:00 ",events:[{id:"5-0",time:"07:00",title:": ",location:"Apollo Bay Bakery",lat:-38.755,lng:143.655,type:"food",notes:" Scallop Pie"},{id:"5-1",time:"09:20",title:"",location:"Twelve Apostles",lat:-38.6621,lng:143.1051,type:"activity",notes:""},{id:"5-2",time:"10:30",title:"",location:"Loch Ard Gorge",lat:-38.6477,lng:143.0697,type:"activity",notes:""},{id:"5-3",time:"12:00",title:"",location:"Port Campbell",lat:-38.6186,lng:142.9961,type:"food",notes:""},{id:"5-4",time:"13:00",title:" (Halls Gap)",location:"C172 to Halls Gap",lat:-37.5,lng:142.6,type:"transport",notes:" 2.5 "},{id:"5-5",time:"16:00",title:": Mountain View Motor Inn",location:"4236 Ararat-Halls Gap Road, Halls Gap",lat:-37.155,lng:142.535,type:"hotel",notes:"Check-in"},{id:"5-6",time:"16:30",title:" (The Balconies)",location:"The Balconies Carpark",lat:-37.1084,lng:142.4842,type:"activity",notes:' "Jaws of Death"'},{id:"5-7",time:"17:45",title:" ()",location:"Boroka Lookout",lat:-37.1235,lng:142.5028,type:"activity",notes:""},{id:"5-8",time:"19:00",title:"",location:"Halls Gap",lat:-37.1376,lng:142.5186,type:"food",notes:""}]},{day:6,date:"2026-01-26",weekday:"",weather:"cloudy",temp:22,tips:' "Sundial Carpark" ',events:[{id:"6-0",time:"08:30",title:" & ",location:"Halls Gap Bakery",lat:-37.1376,lng:142.5186,type:"food",notes:""},{id:"6-1",time:"09:00",title:" (The Pinnacle)",location:"Sundial Carpark",lat:-37.1648,lng:142.5076,type:"activity",notes:`: Sundial Carpark ( Wonderland)
 4.2km (2)`},{id:"6-2",time:"11:30",title:" & ",location:"Grampians National Park",type:"food",notes:""},{id:"6-3",time:"12:30",title:"",location:"MacKenzie Falls",lat:-37.1105,lng:142.4132,type:"activity",notes:""},{id:"6-4",time:"14:30",title:"",location:"Halls Gap Recreation Reserve",lat:-37.135,lng:142.515,type:"activity",notes:""},{id:"6-5",time:"15:00",title:"",location:"Western Highway",lat:-37.5,lng:143.5,type:"transport",notes:" 3~3.5 "},{id:"6-6",time:"18:30",title:": City Apartment (Bozhu)",location:"371 Little Lonsdale Street",lat:-37.8115,lng:144.959,type:"hotel",notes:""}]},{day:7,date:"2026-01-27",weekday:"",weather:"sunny",temp:27,tips:"",events:[{id:"7-0",time:"10:00",title:"",location:"Footscray",lat:-37.803,lng:144.902,type:"transport",notes:""},{id:"7-1",time:"11:00",title:"SIXT ",location:"SIXT Car Rental Footscray",lat:-37.803,lng:144.902,type:"transport",notes:" 11:00 AM"},{id:"7-2",time:"11:30",title:"",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"transport",notes:" Uber"},{id:"7-3",time:"12:00",title:":  Day 1",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"7-4",time:"19:00",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"food",notes:""}]},{day:8,date:"2026-01-28",weekday:"",weather:"sunny",temp:29,tips:"",events:[{id:"8-1",time:"11:00",title:":  Day 2",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"8-2",time:"16:00",title:"",location:"Royal Arcade",lat:-37.8143,lng:144.9644,type:"activity",notes:""},{id:"8-3",time:"19:00",title:"Yarra River ",location:"Southbank",lat:-37.82,lng:144.965,type:"activity",notes:""}]},{day:9,date:"2026-01-29",weekday:"",weather:"partly-cloudy",temp:24,tips:"",events:[{id:"9-1",time:"12:30",title:"",location:"Federation Square",lat:-37.8179,lng:144.9691,type:"transport",notes:" ()"},{id:"9-2",time:"15:00",title:"Moonlit Sanctuary",location:"Moonlit Sanctuary",lat:-38.2173,lng:145.253,type:"activity",notes:""},{id:"9-3",time:"19:30",title:"",location:"Penguin Parade",lat:-38.5089,lng:145.1485,type:"activity",notes:""},{id:"9-4",time:"22:30",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"transport",notes:""}]},{day:10,date:"2026-01-30",weekday:"",weather:"cloudy",temp:21,tips:"3",events:[{id:"10-1",time:"09:00",title:"",location:"Degraves Street",lat:-37.8166,lng:144.966,type:"food",notes:""},{id:"10-2",time:"10:30",title:"",location:"Queen Victoria Market",lat:-37.8076,lng:144.9568,type:"activity",notes:""},{id:"10-3",time:"13:00",title:"Bratwurst ",location:"QVM Deli Hall",lat:-37.8076,lng:144.9568,type:"food",notes:""},{id:"10-4",time:"15:00",title:"",location:"CBD",lat:-37.8136,lng:144.9631,type:"activity",notes:""}]},{day:11,date:"2026-01-31",weekday:"",weather:"sunny",temp:23,tips:"",events:[{id:"11-1",time:"10:00",title:"",location:"Spencer Outlet Centre",lat:-37.8155,lng:144.953,type:"activity",notes:""},{id:"11-2",time:"13:00",title:"",location:"Southbank Promenade",lat:-37.8205,lng:144.9654,type:"activity",notes:""},{id:"11-3",time:"19:00",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:" T2 "},{id:"11-4",time:"22:35",title:"(MEL)  (SIN)",location:"Tullamarine Airport (MEL)",type:"flight",notes:`Scoot TR 25
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 25",airline:"Scoot B787-9",departCode:"MEL",arriveCode:"SIN",departTerminal:"2",arriveTerminal:"1",duration:"7h 45m"}}]},{day:12,date:"2026-02-01",weekday:"",weather:"partly-cloudy",temp:20,tips:"",events:[{id:"12-1",time:"03:20",title:" ()",location:"Changi Airport (SIN)",type:"transport",notes:"Layover: 4h 50m"},{id:"12-2",time:"08:10",title:"(SIN)  (TPE)",location:"Changi Airport (SIN)",type:"flight",notes:"Scoot TR 874",bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 874",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"TPE",departTerminal:"1",arriveTerminal:"1",duration:"4h 35m"}},{id:"12-3",time:"12:45",title:"",location:"Taoyuan Intl Airport",type:"transport",notes:""}]}],Ah=[{id:"1",title:"SkyBus ",type:"transport",url:"https://www.skybus.com.au/",details:""},{id:"2",title:" 2026 ",type:"ticket",url:"https://www.ticketmaster.com.au/australian-open-tickets/artist/1154563",details:"Ground Pass / RLA"},{id:"4",title:"",type:"ticket",url:"https://www.penguins.org.au/",details:" QR Code"}],uo=[{id:"todo",label:"",color:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",isDefault:!0},{id:"packing",label:"",color:"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",isDefault:!0},{id:"shopping",label:"",color:"bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",isDefault:!0},{id:"gift",label:"",color:"bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300",isDefault:!0},{id:"docs",label:"",color:"bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",isDefault:!0}],co=[{id:"food",label:"",color:"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300",isDefault:!0},{id:"transport",label:"",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300",isDefault:!0},{id:"shopping",label:"",color:"bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300",isDefault:!0},{id:"ticket",label:"",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",isDefault:!0},{id:"hotel",label:"",color:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300",isDefault:!0},{id:"other",label:"",color:"bg-gray-100 text-gray-700 dark:bg-slate-700 dark:text-gray-300",isDefault:!0}],ho=[{id:"1",text:"",isCompleted:!1,category:"docs"},{id:"2",text:" ETA ",isCompleted:!1,category:"docs"},{id:"3",text:" ()",isCompleted:!1,category:"packing"}],Hi="melbourne-trip-2026",Sh="melb_auth_token",xh="porter",$e=e=>JSON.parse(JSON.stringify(e)),NC=()=>{const[e,t]=K.useState("itinerary"),[n,i]=K.useState([]),[a,r]=K.useState([]),[s,o]=K.useState([]),[u,h]=K.useState([]),[m,p]=K.useState([]),[g,y]=K.useState([]),[N,M]=K.useState(!0),[R,T]=K.useState("offline"),[A,x]=K.useState(!1),[C,P]=K.useState(!1),[H,v]=K.useState(""),[_,b]=K.useState(!1);K.useEffect(()=>{localStorage.getItem(Sh)===xh&&x(!0)},[]);const S=F=>{F.preventDefault(),H===xh?(localStorage.setItem(Sh,xh),x(!0),P(!1),b(!1),v("")):b(!0)},I=()=>{window.confirm("")&&(localStorage.removeItem(Sh),x(!1))};K.useEffect(()=>{const F=Bi(zi,"trips",Hi),Y=AC(F,async At=>{if(T("connected"),At.exists()){const W=At.data();!W.version||W.version<oo?(console.log("Updating DB to version "+oo),await Pi(F,{days:$e(is),version:oo}),i(is)):W.days&&i(W.days),W.expenses&&r(W.expenses),W.links&&o(W.links),W.todoCategories?p(W.todoCategories):p(uo),W.expenseCategories?y(W.expenseCategories):y(co),W.todos?h(W.todos):h(ho)}else await bC(F,{days:$e(is),expenses:[],links:$e(Ah),todos:$e(ho),todoCategories:$e(uo),expenseCategories:$e(co),version:oo}),i(is),o(Ah),h(ho),p(uo),y(co);M(!1)},At=>{console.error("Firebase sync error:",At),T("offline"),n.length===0&&(i(is),o(Ah),h(ho),p(uo),y(co),M(!1))});return()=>Y()},[]);const D=F=>{if(!A)return;let Y;typeof F=="function"?Y=F(n):Y=F,i(Y);const At=Bi(zi,"trips",Hi);Pi(At,{days:$e(Y)}).catch(W=>console.error("Update failed",W))},w=F=>{if(!A)return;let Y;typeof F=="function"?Y=F(a):Y=F,r(Y);const At=Bi(zi,"trips",Hi);Pi(At,{expenses:$e(Y)}).catch(W=>console.error("Update failed",W))},ne=F=>{if(!A)return;let Y;typeof F=="function"?Y=F(s):Y=F,o(Y);const At=Bi(zi,"trips",Hi);Pi(At,{links:$e(Y)}).catch(W=>console.error("Update failed",W))},me=F=>{if(!A)return;let Y;typeof F=="function"?Y=F(u):Y=F,h(Y);const At=Bi(zi,"trips",Hi);Pi(At,{todos:$e(Y)}).catch(W=>console.error("Update failed",W))},G=F=>{if(!A)return;let Y;typeof F=="function"?Y=F(m):Y=F,p(Y);const At=Bi(zi,"trips",Hi);Pi(At,{todoCategories:$e(Y)}).catch(W=>console.error("Update failed",W))},J=F=>{if(!A)return;let Y;typeof F=="function"?Y=F(g):Y=F,y(Y);const At=Bi(zi,"trips",Hi);Pi(At,{expenseCategories:$e(Y)}).catch(W=>console.error("Update failed",W))},$=()=>{alert("")};return N?f.jsx("div",{className:"bg-slate-900 min-h-screen flex items-center justify-center text-white",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-accent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-sm font-medium",children:"..."})]})}):f.jsx("div",{className:"min-h-screen flex justify-center font-sans bg-gradient-to-br from-slate-100 to-blue-50 dark:from-slate-900 dark:to-slate-800 transition-colors duration-500",children:f.jsxs("div",{className:"w-full max-w-md bg-surface dark:bg-darkSurface h-screen flex flex-col shadow-2xl overflow-hidden relative transition-colors duration-500",children:[f.jsxs("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm pt-12 pb-3 px-6 flex justify-between items-center z-20 border-b border-gray-100 dark:border-slate-800 transition-colors",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-black text-primary dark:text-white tracking-tight",children:[e==="itinerary"&&"MelbGo ",e==="expenses"&&" ",e==="links"&&" ",e==="todo"&&" "]}),f.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[f.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium tracking-widest uppercase",children:e==="itinerary"?"Melbourne Trip":e==="expenses"?"Split Bills":e==="links"?"Bookings":"Checklist"}),R==="connected"?f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.5)]",title:""}):f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400",title:""})]})]}),f.jsx("button",{onClick:()=>A?I():P(!0),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",title:A?" ()":" ()",children:A?f.jsx(Wx,{className:"w-5 h-5 text-green-500"}):f.jsx(r0,{className:"w-5 h-5 text-gray-400"})})]}),f.jsxs("main",{className:"flex-1 overflow-hidden relative",children:[e==="itinerary"&&f.jsx(Lw,{days:n,setDays:D,onMapClick:$,isReadOnly:!A}),e==="expenses"&&f.jsx(jw,{expenses:a,setExpenses:w,categories:g,setCategories:J,isReadOnly:!A}),e==="links"&&f.jsx(Bw,{links:s,setLinks:ne,days:n,setDays:D,isReadOnly:!A}),e==="todo"&&f.jsx(Pw,{todos:u,setTodos:me,categories:m,setCategories:G,isReadOnly:!A})]}),f.jsxs("nav",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border-t border-gray-100 dark:border-slate-800 px-6 py-2 pb-6 flex justify-between items-center z-30 shadow-[0_-5px_15px_rgba(0,0,0,0.02)]",children:[f.jsxs("button",{onClick:()=>t("itinerary"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="itinerary"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx(qx,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),f.jsxs("button",{onClick:()=>t("todo"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="todo"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx(Io,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),f.jsxs("button",{onClick:()=>t("expenses"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="expenses"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx(Yx,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),f.jsxs("button",{onClick:()=>t("links"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="links"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx($d,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]})]}),C&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-xs rounded-3xl p-6 shadow-2xl animate-in zoom-in-95",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(r0,{className:"w-6 h-6 text-gray-500 dark:text-gray-300"})}),f.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]}),f.jsxs("form",{onSubmit:S,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("input",{type:"password",value:H,onChange:F=>{v(F.target.value),b(!1)},placeholder:"",className:`w-full p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border-none outline-none focus:ring-2 focus:ring-primary text-center tracking-widest ${_?"ring-2 ring-red-500 bg-red-50 dark:bg-red-900/20":""}`,autoFocus:!0}),_&&f.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:""})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{P(!1),b(!1),v("")},className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl text-sm",children:""}),f.jsx("button",{type:"submit",className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-bold rounded-xl shadow-lg shadow-primary/20 dark:shadow-blue-900/30 text-sm",children:""})]})]})]})})]})})},pA=document.getElementById("root");if(!pA)throw new Error("Could not find root element to mount to");const IC=Fx.createRoot(pA);IC.render(f.jsx(c1.StrictMode,{children:f.jsx(NC,{})}));
