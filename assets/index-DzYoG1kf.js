(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function u_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c_={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA=Symbol.for("react.transitional.element"),GA=Symbol.for("react.fragment");function h_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:HA,type:e,key:i,ref:t!==void 0?t:null,props:n}}Tu.Fragment=GA;Tu.jsx=h_;Tu.jsxs=h_;c_.exports=Tu;var d=c_.exports,f_={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=Symbol.for("react.transitional.element"),FA=Symbol.for("react.portal"),qA=Symbol.for("react.fragment"),YA=Symbol.for("react.strict_mode"),KA=Symbol.for("react.profiler"),QA=Symbol.for("react.consumer"),XA=Symbol.for("react.context"),$A=Symbol.for("react.forward_ref"),JA=Symbol.for("react.suspense"),ZA=Symbol.for("react.memo"),d_=Symbol.for("react.lazy"),WA=Symbol.for("react.activity"),Ig=Symbol.iterator;function tS(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var m_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g_=Object.assign,p_={};function vr(e,t,n){this.props=e,this.context=t,this.refs=p_,this.updater=n||m_}vr.prototype.isReactComponent={};vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y_(){}y_.prototype=vr.prototype;function Kf(e,t,n){this.props=e,this.context=t,this.refs=p_,this.updater=n||m_}var Qf=Kf.prototype=new y_;Qf.constructor=Kf;g_(Qf,vr.prototype);Qf.isPureReactComponent=!0;var Rg=Array.isArray;function Ah(){}var Nt={H:null,A:null,T:null,S:null},__=Object.prototype.hasOwnProperty;function Xf(e,t,n){var i=n.ref;return{$$typeof:Yf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function eS(e,t){return Xf(e.type,t,e.props)}function $f(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yf}function nS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cg=/\/+/g;function wc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nS(""+e.key):t.toString(36)}function iS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ah,Ah):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function wa(e,t,n,i,a){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Yf:case FA:s=!0;break;case d_:return s=e._init,wa(s(e._payload),t,n,i,a)}}if(s)return a=a(e),s=i===""?"."+wc(e,0):i,Rg(a)?(n="",s!=null&&(n=s.replace(Cg,"$&/")+"/"),wa(a,t,n,"",function(h){return h})):a!=null&&($f(a)&&(a=eS(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Cg,"$&/")+"/")+s)),t.push(a)),1;s=0;var o=i===""?".":i+":";if(Rg(e))for(var u=0;u<e.length;u++)i=e[u],r=o+wc(i,u),s+=wa(i,t,n,r,a);else if(u=tS(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+wc(i,u++),s+=wa(i,t,n,r,a);else if(r==="object"){if(typeof e.then=="function")return wa(iS(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ll(e,t,n){if(e==null)return e;var i=[],a=0;return wa(e,i,"","",function(r){return t.call(n,r,a++)}),i}function aS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rS={map:Ll,forEach:function(e,t,n){Ll(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ll(e,function(){t++}),t},toArray:function(e){return Ll(e,function(t){return t})||[]},only:function(e){if(!$f(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Activity=WA;tt.Children=rS;tt.Component=vr;tt.Fragment=qA;tt.Profiler=KA;tt.PureComponent=Kf;tt.StrictMode=YA;tt.Suspense=JA;tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Nt;tt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Nt.H.useMemoCache(e)}};tt.cache=function(e){return function(){return e.apply(null,arguments)}};tt.cacheSignal=function(){return null};tt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=g_({},e.props),a=e.key;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)!__.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var s=Array(r),o=0;o<r;o++)s[o]=arguments[o+2];i.children=s}return Xf(e.type,a,i)};tt.createContext=function(e){return e={$$typeof:XA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:QA,_context:e},e};tt.createElement=function(e,t,n){var i,a={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)__.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return Xf(e,r,a)};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:$A,render:e}};tt.isValidElement=$f;tt.lazy=function(e){return{$$typeof:d_,_payload:{_status:-1,_result:e},_init:aS}};tt.memo=function(e,t){return{$$typeof:ZA,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Nt.T,n={};Nt.T=n;try{var i=e(),a=Nt.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Ah,Dg)}catch(r){Dg(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),Nt.T=t}};tt.unstable_useCacheRefresh=function(){return Nt.H.useCacheRefresh()};tt.use=function(e){return Nt.H.use(e)};tt.useActionState=function(e,t,n){return Nt.H.useActionState(e,t,n)};tt.useCallback=function(e,t){return Nt.H.useCallback(e,t)};tt.useContext=function(e){return Nt.H.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e,t){return Nt.H.useDeferredValue(e,t)};tt.useEffect=function(e,t){return Nt.H.useEffect(e,t)};tt.useEffectEvent=function(e){return Nt.H.useEffectEvent(e)};tt.useId=function(){return Nt.H.useId()};tt.useImperativeHandle=function(e,t,n){return Nt.H.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return Nt.H.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return Nt.H.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return Nt.H.useMemo(e,t)};tt.useOptimistic=function(e,t){return Nt.H.useOptimistic(e,t)};tt.useReducer=function(e,t,n){return Nt.H.useReducer(e,t,n)};tt.useRef=function(e){return Nt.H.useRef(e)};tt.useState=function(e){return Nt.H.useState(e)};tt.useSyncExternalStore=function(e,t,n){return Nt.H.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return Nt.H.useTransition()};tt.version="19.2.3";f_.exports=tt;var X=f_.exports;const sS=u_(X);var E_={exports:{}},bu={},v_={exports:{}},T_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,q){var $=H.length;H.push(q);t:for(;0<$;){var vt=$-1>>>1,Ct=H[vt];if(0<a(Ct,q))H[vt]=q,H[$]=Ct,$=vt;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var q=H[0],$=H.pop();if($!==q){H[0]=$;t:for(var vt=0,Ct=H.length,hn=Ct>>>1;vt<hn;){var Yt=2*(vt+1)-1,Dt=H[Yt],L=Yt+1,nt=H[L];if(0>a(Dt,$))L<Ct&&0>a(nt,Dt)?(H[vt]=nt,H[L]=$,vt=L):(H[vt]=Dt,H[Yt]=$,vt=Yt);else if(L<Ct&&0>a(nt,$))H[vt]=nt,H[L]=$,vt=L;else break t}}return q}function a(H,q){var $=H.sortIndex-q.sortIndex;return $!==0?$:H.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],h=[],m=1,p=null,g=3,y=!1,R=!1,I=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var q=n(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=H)i(h),q.sortIndex=q.expirationTime,t(u,q);else break;q=n(h)}}function z(H){if(I=!1,M(H),!R)if(n(u)!==null)R=!0,U||(U=!0,D());else{var q=n(h);q!==null&&ft(z,q.startTime-H)}}var U=!1,b=-1,E=5,v=-1;function A(){return C?!0:!(e.unstable_now()-v<E)}function N(){if(C=!1,U){var H=e.unstable_now();v=H;var q=!0;try{t:{R=!1,I&&(I=!1,T(b),b=-1),y=!0;var $=g;try{e:{for(M(H),p=n(u);p!==null&&!(p.expirationTime>H&&A());){var vt=p.callback;if(typeof vt=="function"){p.callback=null,g=p.priorityLevel;var Ct=vt(p.expirationTime<=H);if(H=e.unstable_now(),typeof Ct=="function"){p.callback=Ct,M(H),q=!0;break e}p===n(u)&&i(u),M(H)}else i(u);p=n(u)}if(p!==null)q=!0;else{var hn=n(h);hn!==null&&ft(z,hn.startTime-H),q=!1}}break t}finally{p=null,g=$,y=!1}q=void 0}}finally{q?D():U=!1}}}var D;if(typeof w=="function")D=function(){w(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,B=x.port2;x.port1.onmessage=N,D=function(){B.postMessage(null)}}else D=function(){S(N,0)};function ft(H,q){b=S(function(){H(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var $=g;g=q;try{return H()}finally{g=$}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=g;g=H;try{return q()}finally{g=$}},e.unstable_scheduleCallback=function(H,q,$){var vt=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?vt+$:vt):$=vt,H){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=$+Ct,H={id:m++,callback:q,priorityLevel:H,startTime:$,expirationTime:Ct,sortIndex:-1},$>vt?(H.sortIndex=$,t(h,H),n(u)===null&&H===n(h)&&(I?(T(b),b=-1):I=!0,ft(z,$-vt))):(H.sortIndex=Ct,t(u,H),R||y||(R=!0,U||(U=!0,D()))),H},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(H){var q=g;return function(){var $=g;g=q;try{return H.apply(this,arguments)}finally{g=$}}}})(T_);v_.exports=T_;var lS=v_.exports,b_={exports:{}},xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS=X;function A_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Jn(){}var Ae={d:{f:Jn,r:function(){throw Error(A_(522))},D:Jn,C:Jn,L:Jn,m:Jn,X:Jn,S:Jn,M:Jn},p:0,findDOMNode:null},uS=Symbol.for("react.portal");function cS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var fs=oS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Au(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(A_(299));return cS(e,t,null,n)};xe.flushSync=function(e){var t=fs.T,n=Ae.p;try{if(fs.T=null,Ae.p=2,e)return e()}finally{fs.T=t,Ae.p=n,Ae.d.f()}};xe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ae.d.C(e,t))};xe.prefetchDNS=function(e){typeof e=="string"&&Ae.d.D(e)};xe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Au(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ae.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:r}):n==="script"&&Ae.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};xe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Au(t.as,t.crossOrigin);Ae.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ae.d.M(e)};xe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Au(n,t.crossOrigin);Ae.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};xe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Au(t.as,t.crossOrigin);Ae.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ae.d.m(e)};xe.requestFormReset=function(e){Ae.d.r(e)};xe.unstable_batchedUpdates=function(e,t){return e(t)};xe.useFormState=function(e,t,n){return fs.H.useFormState(e,t,n)};xe.useFormStatus=function(){return fs.H.useHostTransitionStatus()};xe.version="19.2.3";function S_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S_)}catch(e){console.error(e)}}S_(),b_.exports=xe;var hS=b_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=lS,x_=X,fS=hS;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function el(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function N_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Og(e){if(el(e)!==e)throw Error(k(188))}function dS(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return Og(a),e;if(r===i)return Og(a),t;r=r.sibling}throw Error(k(188))}if(n.return!==i.return)n=a,i=r;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s){for(o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function R_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R_(e),t!==null)return t;e=e.sibling}return null}var It=Object.assign,mS=Symbol.for("react.element"),kl=Symbol.for("react.transitional.element"),ns=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),D_=Symbol.for("react.consumer"),On=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Nh=Symbol.for("react.activity"),gS=Symbol.for("react.memo_cache_sentinel"),Mg=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=Mg&&e[Mg]||e["@@iterator"],typeof e=="function"?e:null)}var pS=Symbol.for("react.client.reference");function Ih(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ma:return"Fragment";case Sh:return"Profiler";case C_:return"StrictMode";case xh:return"Suspense";case wh:return"SuspenseList";case Nh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ns:return"Portal";case On:return e.displayName||"Context";case D_:return(e._context.displayName||"Context")+".Consumer";case Jf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zf:return t=e.displayName||null,t!==null?t:Ih(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return Ih(e(t))}catch{}}return null}var is=Array.isArray,Q=x_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt=fS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qi={pending:!1,data:null,method:null,action:null},Rh=[],Va=-1;function Tn(e){return{current:e}}function te(e){0>Va||(e.current=Rh[Va],Rh[Va]=null,Va--)}function At(e,t){Va++,Rh[Va]=e.current,e.current=t}var gn=Tn(null),Ds=Tn(null),ci=Tn(null),Oo=Tn(null);function Mo(e,t){switch(At(ci,t),At(Ds,e),At(gn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bp(t),e=Jv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(gn),At(gn,e)}function nr(){te(gn),te(Ds),te(ci)}function Ch(e){e.memoizedState!==null&&At(Oo,e);var t=gn.current,n=Jv(t,e.type);t!==n&&(At(Ds,e),At(gn,n))}function Vo(e){Ds.current===e&&(te(gn),te(Ds)),Oo.current===e&&(te(Oo),Hs._currentValue=Qi)}var Nc,Vg;function zi(e){if(Nc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nc=t&&t[1]||"",Vg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+e+Vg}var Ic=!1;function Rc(e,t){if(!e||Ic)return"";Ic=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(y){var g=y}Reflect.construct(e,[],p)}else{try{p.call()}catch(y){g=y}e.call(p.prototype)}}else{try{throw Error()}catch(y){g=y}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],o=r[1];if(s&&o){var u=s.split(`
`),h=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===h.length)for(i=u.length-1,a=h.length-1;1<=i&&0<=a&&u[i]!==h[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==h[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==h[a]){var m=`
`+u[i].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=i&&0<=a);break}}}finally{Ic=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?zi(n):""}function yS(e,t){switch(e.tag){case 26:case 27:case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return e.child!==t&&t!==null?zi("Suspense Fallback"):zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Rc(e.type,!1);case 11:return Rc(e.type.render,!1);case 1:return Rc(e.type,!0);case 31:return zi("Activity");default:return""}}function Ug(e){try{var t="",n=null;do t+=yS(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Dh=Object.prototype.hasOwnProperty,Wf=$t.unstable_scheduleCallback,Cc=$t.unstable_cancelCallback,_S=$t.unstable_shouldYield,ES=$t.unstable_requestPaint,ze=$t.unstable_now,vS=$t.unstable_getCurrentPriorityLevel,O_=$t.unstable_ImmediatePriority,M_=$t.unstable_UserBlockingPriority,Uo=$t.unstable_NormalPriority,TS=$t.unstable_LowPriority,V_=$t.unstable_IdlePriority,bS=$t.log,AS=$t.unstable_setDisableYieldValue,nl=null,He=null;function ai(e){if(typeof bS=="function"&&AS(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(nl,e)}catch{}}var Ge=Math.clz32?Math.clz32:wS,SS=Math.log,xS=Math.LN2;function wS(e){return e>>>=0,e===0?32:31-(SS(e)/xS|0)|0}var jl=256,Bl=262144,Pl=4194304;function Hi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Su(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?a=Hi(i):(s&=o,s!==0?a=Hi(s):n||(n=o&~e,n!==0&&(a=Hi(n))))):(o=i&~r,o!==0?a=Hi(o):s!==0?a=Hi(s):n||(n=i&~e,n!==0&&(a=Hi(n)))),a===0?0:t!==0&&t!==a&&!(t&r)&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function il(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function NS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U_(){var e=Pl;return Pl<<=1,!(Pl&62914560)&&(Pl=4194304),e}function Dc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function al(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function IS(e,t,n,i,a,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=s&~n;0<n;){var m=31-Ge(n),p=1<<m;o[m]=0,u[m]=-1;var g=h[m];if(g!==null)for(h[m]=null,m=0;m<g.length;m++){var y=g[m];y!==null&&(y.lane&=-536870913)}n&=~p}i!==0&&L_(e,i,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function L_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ge(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function k_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ge(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function j_(e,t){var n=t&-t;return n=n&42?1:td(n),n&(e.suspendedLanes|t)?0:n}function td(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ed(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function B_(){var e=mt.p;return e!==0?e:(e=window.event,e===void 0?32:oT(e.type))}function Lg(e,t){var n=mt.p;try{return mt.p=e,t()}finally{mt.p=n}}var Ci=Math.random().toString(36).slice(2),re="__reactFiber$"+Ci,Me="__reactProps$"+Ci,Tr="__reactContainer$"+Ci,Oh="__reactEvents$"+Ci,RS="__reactListeners$"+Ci,CS="__reactHandles$"+Ci,kg="__reactResources$"+Ci,rl="__reactMarker$"+Ci;function nd(e){delete e[re],delete e[Me],delete e[Oh],delete e[RS],delete e[CS]}function Ua(e){var t=e[re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tr]||n[re]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fp(e);e!==null;){if(n=e[re])return n;e=Fp(e)}return t}e=n,n=e.parentNode}return null}function br(e){if(e=e[re]||e[Tr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function as(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function Ya(e){var t=e[kg];return t||(t=e[kg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Wt(e){e[rl]=!0}var P_=new Set,z_={};function ha(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(z_[e]=t,e=0;e<t.length;e++)P_.add(t[e])}var DS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jg={},Bg={};function OS(e){return Dh.call(Bg,e)?!0:Dh.call(jg,e)?!1:DS.test(e)?Bg[e]=!0:(jg[e]=!0,!1)}function co(e,t,n){if(OS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function zl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function xn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MS(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mh(e){if(!e._valueTracker){var t=H_(e)?"checked":"value";e._valueTracker=MS(e,t,""+e[t])}}function G_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var VS=/[\n"\\]/g;function Ze(e){return e.replace(VS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vh(e,t,n,i,a,r,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xe(t)):e.value!==""+Xe(t)&&(e.value=""+Xe(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Uh(e,s,Xe(t)):n!=null?Uh(e,s,Xe(n)):i!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Xe(o):e.removeAttribute("name")}function F_(e,t,n,i,a,r,s,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Mh(e);return}n=n!=null?""+Xe(n):"",t=t!=null?""+Xe(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Mh(e)}function Uh(e,t,n){t==="number"&&Lo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ka(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Xe(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function q_(e,t,n){if(t!=null&&(t=""+Xe(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Xe(n):""}function Y_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(k(92));if(is(i)){if(1<i.length)throw Error(k(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Xe(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Mh(e)}function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var US=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||US.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function K_(e,t,n){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Pg(e,a,i)}else for(var r in t)t.hasOwnProperty(r)&&Pg(e,r,t[r])}function id(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return kS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var Lh=null;function ad(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,Qa=null;function zg(e){var t=br(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;t:switch(e=t.stateNode,t.type){case"input":if(Vh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ze(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Me]||null;if(!a)throw Error(k(90));Vh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&G_(i)}break t;case"textarea":q_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ka(e,!!n.multiple,t,!1)}}}var Oc=!1;function Q_(e,t,n){if(Oc)return e(t,n);Oc=!0;try{var i=e(t);return i}finally{if(Oc=!1,(La!==null||Qa!==null)&&(Lu(),La&&(t=La,e=Qa,Qa=La=null,zg(t),e)))for(t=0;t<e.length;t++)zg(e[t])}}function Os(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Me]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=!1;if(jn)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){kh=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{kh=!1}var ri=null,rd=null,fo=null;function X_(){if(fo)return fo;var e,t=rd,n=t.length,i,a="value"in ri?ri.value:ri.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===a[r-i];i++);return fo=a.slice(e,1<i?1-i:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function Hg(){return!1}function Ve(e){function t(n,i,a,r,s){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Hl:Hg,this.isPropagationStopped=Hg,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Ve(fa),sl=It({},fa,{view:0,detail:0}),jS=Ve(sl),Mc,Vc,Xr,wu=It({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(Mc=e.screenX-Xr.screenX,Vc=e.screenY-Xr.screenY):Vc=Mc=0,Xr=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Vc}}),Gg=Ve(wu),BS=It({},wu,{dataTransfer:0}),PS=Ve(BS),zS=It({},sl,{relatedTarget:0}),Uc=Ve(zS),HS=It({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),GS=Ve(HS),FS=It({},fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qS=Ve(FS),YS=It({},fa,{data:0}),Fg=Ve(YS),KS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $S(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XS[e])?!!t[e]:!1}function sd(){return $S}var JS=It({},sl,{key:function(e){if(e.key){var t=KS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZS=Ve(JS),WS=It({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qg=Ve(WS),t1=It({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),e1=Ve(t1),n1=It({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),i1=Ve(n1),a1=It({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r1=Ve(a1),s1=It({},fa,{newState:0,oldState:0}),l1=Ve(s1),o1=[9,13,27,32],ld=jn&&"CompositionEvent"in window,ds=null;jn&&"documentMode"in document&&(ds=document.documentMode);var u1=jn&&"TextEvent"in window&&!ds,$_=jn&&(!ld||ds&&8<ds&&11>=ds),Yg=" ",Kg=!1;function J_(e,t){switch(e){case"keyup":return o1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function c1(e,t){switch(e){case"compositionend":return Z_(t);case"keypress":return t.which!==32?null:(Kg=!0,Yg);case"textInput":return e=t.data,e===Yg&&Kg?null:e;default:return null}}function h1(e,t){if(ka)return e==="compositionend"||!ld&&J_(e,t)?(e=X_(),fo=rd=ri=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $_&&t.locale!=="ko"?null:t.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f1[e.type]:t==="textarea"}function W_(e,t,n,i){La?Qa?Qa.push(i):Qa=[i]:La=i,t=tu(t,"onChange"),0<t.length&&(n=new xu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ms=null,Ms=null;function d1(e){Qv(e,0)}function Nu(e){var t=as(e);if(G_(t))return e}function Xg(e,t){if(e==="change")return t}var tE=!1;if(jn){var Lc;if(jn){var kc="oninput"in document;if(!kc){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),kc=typeof $g.oninput=="function"}Lc=kc}else Lc=!1;tE=Lc&&(!document.documentMode||9<document.documentMode)}function Jg(){ms&&(ms.detachEvent("onpropertychange",eE),Ms=ms=null)}function eE(e){if(e.propertyName==="value"&&Nu(Ms)){var t=[];W_(t,Ms,e,ad(e)),Q_(d1,t)}}function m1(e,t,n){e==="focusin"?(Jg(),ms=t,Ms=n,ms.attachEvent("onpropertychange",eE)):e==="focusout"&&Jg()}function g1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Ms)}function p1(e,t){if(e==="click")return Nu(t)}function y1(e,t){if(e==="input"||e==="change")return Nu(t)}function _1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:_1;function Vs(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Dh.call(t,a)||!Ye(e[a],t[a]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wg(e,t){var n=Zg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Zg(n)}}function nE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lo(e.document)}return t}function od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var E1=jn&&"documentMode"in document&&11>=document.documentMode,ja=null,jh=null,gs=null,Bh=!1;function tp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bh||ja==null||ja!==Lo(i)||(i=ja,"selectionStart"in i&&od(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gs&&Vs(gs,i)||(gs=i,i=tu(jh,"onSelect"),0<i.length&&(t=new xu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ja)))}function ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ba={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},jc={},aE={};jn&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function da(e){if(jc[e])return jc[e];if(!Ba[e])return e;var t=Ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aE)return jc[e]=t[n];return e}var rE=da("animationend"),sE=da("animationiteration"),lE=da("animationstart"),v1=da("transitionrun"),T1=da("transitionstart"),b1=da("transitioncancel"),oE=da("transitionend"),uE=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function cn(e,t){uE.set(e,t),ha(t,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qe=[],Pa=0,ud=0;function Iu(){for(var e=Pa,t=ud=Pa=0;t<e;){var n=Qe[t];Qe[t++]=null;var i=Qe[t];Qe[t++]=null;var a=Qe[t];Qe[t++]=null;var r=Qe[t];if(Qe[t++]=null,i!==null&&a!==null){var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}r!==0&&cE(n,a,r)}}function Ru(e,t,n,i){Qe[Pa++]=e,Qe[Pa++]=t,Qe[Pa++]=n,Qe[Pa++]=i,ud|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function cd(e,t,n,i){return Ru(e,t,n,i),jo(e)}function ma(e,t){return Ru(e,null,null,t),jo(e)}function cE(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-Ge(n),e=r.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),r):null}function jo(e){if(50<Ss)throw Ss=0,of=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var za={};function A1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,t,n,i){return new A1(e,t,n,i)}function hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,t){var n=e.alternate;return n===null?(n=je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function hE(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function go(e,t,n,i,a,r){var s=0;if(i=e,typeof e=="function")hd(e)&&(s=1);else if(typeof e=="string")s=Ix(e,n,gn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Nh:return e=je(31,n,t,a),e.elementType=Nh,e.lanes=r,e;case Ma:return Xi(n.children,a,r,t);case C_:s=8,a|=24;break;case Sh:return e=je(12,n,t,a|2),e.elementType=Sh,e.lanes=r,e;case xh:return e=je(13,n,t,a),e.elementType=xh,e.lanes=r,e;case wh:return e=je(19,n,t,a),e.elementType=wh,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case On:s=10;break t;case D_:s=9;break t;case Jf:s=11;break t;case Zf:s=14;break t;case Zn:s=16,i=null;break t}s=29,n=Error(k(130,e===null?"null":typeof e,"")),i=null}return t=je(s,n,t,a),t.elementType=e,t.type=i,t.lanes=r,t}function Xi(e,t,n,i){return e=je(7,e,i,t),e.lanes=n,e}function Bc(e,t,n){return e=je(6,e,null,t),e.lanes=n,e}function fE(e){var t=je(18,null,null,0);return t.stateNode=e,t}function Pc(e,t,n){return t=je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ep=new WeakMap;function We(e,t){if(typeof e=="object"&&e!==null){var n=ep.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ug(t)},ep.set(e,t),t)}return{value:e,source:t,stack:Ug(t)}}var Ha=[],Ga=0,Bo=null,Us=0,$e=[],Je=0,bi=null,fn=1,dn="";function Cn(e,t){Ha[Ga++]=Us,Ha[Ga++]=Bo,Bo=e,Us=t}function dE(e,t,n){$e[Je++]=fn,$e[Je++]=dn,$e[Je++]=bi,bi=e;var i=fn;e=dn;var a=32-Ge(i)-1;i&=~(1<<a),n+=1;var r=32-Ge(t)+a;if(30<r){var s=a-a%5;r=(i&(1<<s)-1).toString(32),i>>=s,a-=s,fn=1<<32-Ge(t)+a|n<<a|i,dn=r+e}else fn=1<<r|n<<a|i,dn=e}function fd(e){e.return!==null&&(Cn(e,1),dE(e,1,0))}function dd(e){for(;e===Bo;)Bo=Ha[--Ga],Ha[Ga]=null,Us=Ha[--Ga],Ha[Ga]=null;for(;e===bi;)bi=$e[--Je],$e[Je]=null,dn=$e[--Je],$e[Je]=null,fn=$e[--Je],$e[Je]=null}function mE(e,t){$e[Je++]=fn,$e[Je++]=dn,$e[Je++]=bi,fn=t.id,dn=t.overflow,bi=e}var se=null,wt=null,lt=!1,hi=null,tn=!1,zh=Error(k(519));function Ai(e){var t=Error(k(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(We(t,e)),zh}function np(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[re]=e,t[Me]=i,n){case"dialog":it("cancel",t),it("close",t);break;case"iframe":case"object":case"embed":it("load",t);break;case"video":case"audio":for(n=0;n<Ps.length;n++)it(Ps[n],t);break;case"source":it("error",t);break;case"img":case"image":case"link":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"input":it("invalid",t),F_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":it("invalid",t);break;case"textarea":it("invalid",t),Y_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||$v(t.textContent,n)?(i.popover!=null&&(it("beforetoggle",t),it("toggle",t)),i.onScroll!=null&&it("scroll",t),i.onScrollEnd!=null&&it("scrollend",t),i.onClick!=null&&(t.onclick=Mn),t=!0):t=!1,t||Ai(e,!0)}function ip(e){for(se=e.return;se;)switch(se.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:se=se.return}}function Aa(e){if(e!==se)return!1;if(!lt)return ip(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||df(e.type,e.memoizedProps)),n=!n),n&&wt&&Ai(e),ip(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));wt=Gp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));wt=Gp(e)}else t===27?(t=wt,Di(e.type)?(e=yf,yf=null,wt=e):wt=t):wt=se?nn(e.stateNode.nextSibling):null;return!0}function ea(){wt=se=null,lt=!1}function zc(){var e=hi;return e!==null&&(Ce===null?Ce=e:Ce.push.apply(Ce,e),hi=null),e}function Ls(e){hi===null?hi=[e]:hi.push(e)}var Hh=Tn(null),ga=null,Vn=null;function ti(e,t,n){At(Hh,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=Hh.current,te(Hh)}function Gh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Fh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var s=a.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Gh(r.return,n,e),i||(s=null);break t}r=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(k(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),Gh(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Ar(e,t,n,i){e=null;for(var a=t,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(k(387));if(s=s.memoizedProps,s!==null){var o=a.type;Ye(a.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(a===Oo.current){if(s=a.alternate,s===null)throw Error(k(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Hs):e=[Hs])}a=a.return}e!==null&&Fh(t,e,n,i),t.flags|=262144}function Po(e){for(e=e.firstContext;e!==null;){if(!Ye(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ga=e,Vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function oe(e){return gE(ga,e)}function Gl(e,t){return ga===null&&na(e),gE(e,t)}function gE(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Vn===null){if(e===null)throw Error(k(308));Vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Vn=Vn.next=t;return n}var S1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},x1=$t.unstable_scheduleCallback,w1=$t.unstable_NormalPriority,Ft={$$typeof:On,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new S1,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&x1(w1,function(){e.controller.abort()})}var ps=null,qh=0,rr=0,Xa=null;function N1(e,t){if(ps===null){var n=ps=[];qh=0,rr=Bd(),Xa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return qh++,t.then(ap,ap),t}function ap(){if(--qh===0&&ps!==null){Xa!==null&&(Xa.status="fulfilled");var e=ps;ps=null,rr=0,Xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function I1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var rp=Q.S;Q.S=function(e,t){Rv=ze(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&N1(e,t),rp!==null&&rp(e,t)};var $i=Tn(null);function gd(){var e=$i.current;return e!==null?e:bt.pooledCache}function po(e,t){t===null?At($i,$i.current):At($i,t.pool)}function pE(){var e=gd();return e===null?null:{parent:Ft._currentValue,pool:e}}var Sr=Error(k(460)),pd=Error(k(474)),Cu=Error(k(542)),zo={then:function(){}};function sp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yE(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Mn,Mn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,op(e),e;default:if(typeof t.status=="string")t.then(Mn,Mn);else{if(e=bt,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,op(e),e}throw Ji=t,Sr}}function Gi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ji=n,Sr):n}}var Ji=null;function lp(){if(Ji===null)throw Error(k(459));var e=Ji;return Ji=null,e}function op(e){if(e===Sr||e===Cu)throw Error(k(483))}var $a=null,ks=0;function Fl(e){var t=ks;return ks+=1,$a===null&&($a=[]),yE($a,e,t)}function $r(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ql(e,t){throw t.$$typeof===mS?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function _E(e){function t(S,T){if(e){var w=S.deletions;w===null?(S.deletions=[T],S.flags|=16):w.push(T)}}function n(S,T){if(!e)return null;for(;T!==null;)t(S,T),T=T.sibling;return null}function i(S){for(var T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function a(S,T){return S=Un(S,T),S.index=0,S.sibling=null,S}function r(S,T,w){return S.index=w,e?(w=S.alternate,w!==null?(w=w.index,w<T?(S.flags|=67108866,T):w):(S.flags|=67108866,T)):(S.flags|=1048576,T)}function s(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function o(S,T,w,M){return T===null||T.tag!==6?(T=Bc(w,S.mode,M),T.return=S,T):(T=a(T,w),T.return=S,T)}function u(S,T,w,M){var z=w.type;return z===Ma?m(S,T,w.props.children,M,w.key):T!==null&&(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Zn&&Gi(z)===T.type)?(T=a(T,w.props),$r(T,w),T.return=S,T):(T=go(w.type,w.key,w.props,null,S.mode,M),$r(T,w),T.return=S,T)}function h(S,T,w,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=Pc(w,S.mode,M),T.return=S,T):(T=a(T,w.children||[]),T.return=S,T)}function m(S,T,w,M,z){return T===null||T.tag!==7?(T=Xi(w,S.mode,M,z),T.return=S,T):(T=a(T,w),T.return=S,T)}function p(S,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Bc(""+T,S.mode,w),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kl:return w=go(T.type,T.key,T.props,null,S.mode,w),$r(w,T),w.return=S,w;case ns:return T=Pc(T,S.mode,w),T.return=S,T;case Zn:return T=Gi(T),p(S,T,w)}if(is(T)||Kr(T))return T=Xi(T,S.mode,w,null),T.return=S,T;if(typeof T.then=="function")return p(S,Fl(T),w);if(T.$$typeof===On)return p(S,Gl(S,T),w);ql(S,T)}return null}function g(S,T,w,M){var z=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return z!==null?null:o(S,T,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:return w.key===z?u(S,T,w,M):null;case ns:return w.key===z?h(S,T,w,M):null;case Zn:return w=Gi(w),g(S,T,w,M)}if(is(w)||Kr(w))return z!==null?null:m(S,T,w,M,null);if(typeof w.then=="function")return g(S,T,Fl(w),M);if(w.$$typeof===On)return g(S,T,Gl(S,w),M);ql(S,w)}return null}function y(S,T,w,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return S=S.get(w)||null,o(T,S,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case kl:return S=S.get(M.key===null?w:M.key)||null,u(T,S,M,z);case ns:return S=S.get(M.key===null?w:M.key)||null,h(T,S,M,z);case Zn:return M=Gi(M),y(S,T,w,M,z)}if(is(M)||Kr(M))return S=S.get(w)||null,m(T,S,M,z,null);if(typeof M.then=="function")return y(S,T,w,Fl(M),z);if(M.$$typeof===On)return y(S,T,w,Gl(T,M),z);ql(T,M)}return null}function R(S,T,w,M){for(var z=null,U=null,b=T,E=T=0,v=null;b!==null&&E<w.length;E++){b.index>E?(v=b,b=null):v=b.sibling;var A=g(S,b,w[E],M);if(A===null){b===null&&(b=v);break}e&&b&&A.alternate===null&&t(S,b),T=r(A,T,E),U===null?z=A:U.sibling=A,U=A,b=v}if(E===w.length)return n(S,b),lt&&Cn(S,E),z;if(b===null){for(;E<w.length;E++)b=p(S,w[E],M),b!==null&&(T=r(b,T,E),U===null?z=b:U.sibling=b,U=b);return lt&&Cn(S,E),z}for(b=i(b);E<w.length;E++)v=y(b,S,E,w[E],M),v!==null&&(e&&v.alternate!==null&&b.delete(v.key===null?E:v.key),T=r(v,T,E),U===null?z=v:U.sibling=v,U=v);return e&&b.forEach(function(N){return t(S,N)}),lt&&Cn(S,E),z}function I(S,T,w,M){if(w==null)throw Error(k(151));for(var z=null,U=null,b=T,E=T=0,v=null,A=w.next();b!==null&&!A.done;E++,A=w.next()){b.index>E?(v=b,b=null):v=b.sibling;var N=g(S,b,A.value,M);if(N===null){b===null&&(b=v);break}e&&b&&N.alternate===null&&t(S,b),T=r(N,T,E),U===null?z=N:U.sibling=N,U=N,b=v}if(A.done)return n(S,b),lt&&Cn(S,E),z;if(b===null){for(;!A.done;E++,A=w.next())A=p(S,A.value,M),A!==null&&(T=r(A,T,E),U===null?z=A:U.sibling=A,U=A);return lt&&Cn(S,E),z}for(b=i(b);!A.done;E++,A=w.next())A=y(b,S,E,A.value,M),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?E:A.key),T=r(A,T,E),U===null?z=A:U.sibling=A,U=A);return e&&b.forEach(function(D){return t(S,D)}),lt&&Cn(S,E),z}function C(S,T,w,M){if(typeof w=="object"&&w!==null&&w.type===Ma&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case kl:t:{for(var z=w.key;T!==null;){if(T.key===z){if(z=w.type,z===Ma){if(T.tag===7){n(S,T.sibling),M=a(T,w.props.children),M.return=S,S=M;break t}}else if(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Zn&&Gi(z)===T.type){n(S,T.sibling),M=a(T,w.props),$r(M,w),M.return=S,S=M;break t}n(S,T);break}else t(S,T);T=T.sibling}w.type===Ma?(M=Xi(w.props.children,S.mode,M,w.key),M.return=S,S=M):(M=go(w.type,w.key,w.props,null,S.mode,M),$r(M,w),M.return=S,S=M)}return s(S);case ns:t:{for(z=w.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){n(S,T.sibling),M=a(T,w.children||[]),M.return=S,S=M;break t}else{n(S,T);break}else t(S,T);T=T.sibling}M=Pc(w,S.mode,M),M.return=S,S=M}return s(S);case Zn:return w=Gi(w),C(S,T,w,M)}if(is(w))return R(S,T,w,M);if(Kr(w)){if(z=Kr(w),typeof z!="function")throw Error(k(150));return w=z.call(w),I(S,T,w,M)}if(typeof w.then=="function")return C(S,T,Fl(w),M);if(w.$$typeof===On)return C(S,T,Gl(S,w),M);ql(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(n(S,T.sibling),M=a(T,w),M.return=S,S=M):(n(S,T),M=Bc(w,S.mode,M),M.return=S,S=M),s(S)):n(S,T)}return function(S,T,w,M){try{ks=0;var z=C(S,T,w,M);return $a=null,z}catch(b){if(b===Sr||b===Cu)throw b;var U=je(29,b,null,S.mode);return U.lanes=M,U.return=S,U}finally{}}}var ia=_E(!0),EE=_E(!1),Wn=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function di(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=jo(e),cE(e,null,n),t}return Ru(e,i,t,n),jo(e)}function ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,k_(e,n)}}function Hc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Kh=!1;function _s(){if(Kh){var e=Xa;if(e!==null)throw e}}function Es(e,t,n,i){Kh=!1;var a=e.updateQueue;Wn=!1;var r=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,s===null?r=h:s.next=h,s=u;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==s&&(o===null?m.firstBaseUpdate=h:o.next=h,m.lastBaseUpdate=u))}if(r!==null){var p=a.baseState;s=0,m=h=u=null,o=r;do{var g=o.lane&-536870913,y=g!==o.lane;if(y?(st&g)===g:(i&g)===g){g!==0&&g===rr&&(Kh=!0),m!==null&&(m=m.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var R=e,I=o;g=t;var C=n;switch(I.tag){case 1:if(R=I.payload,typeof R=="function"){p=R.call(C,p,g);break t}p=R;break t;case 3:R.flags=R.flags&-65537|128;case 0:if(R=I.payload,g=typeof R=="function"?R.call(C,p,g):R,g==null)break t;p=It({},p,g);break t;case 2:Wn=!0}}g=o.callback,g!==null&&(e.flags|=64,y&&(e.flags|=8192),y=a.callbacks,y===null?a.callbacks=[g]:y.push(g))}else y={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(h=m=y,u=p):m=m.next=y,s|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;y=o,o=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);m===null&&(u=p),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=m,r===null&&(a.shared.lanes=0),xi|=s,e.lanes=s,e.memoizedState=p}}function vE(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function TE(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vE(n[e],t)}var sr=Tn(null),Ho=Tn(0);function up(e,t){e=Hn,At(Ho,e),At(sr,t),Hn=e|t.baseLanes}function Qh(){At(Ho,Hn),At(sr,sr.current)}function _d(){Hn=Ho.current,te(sr),te(Ho)}var Ke=Tn(null),en=null;function ei(e){var t=e.alternate;At(Bt,Bt.current&1),At(Ke,e),en===null&&(t===null||sr.current!==null||t.memoizedState!==null)&&(en=e)}function Xh(e){At(Bt,Bt.current),At(Ke,e),en===null&&(en=e)}function bE(e){e.tag===22?(At(Bt,Bt.current),At(Ke,e),en===null&&(en=e)):ni()}function ni(){At(Bt,Bt.current),At(Ke,Ke.current)}function ke(e){te(Ke),en===e&&(en=null),te(Bt)}var Bt=Tn(0);function Go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||gf(n)||pf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bn=0,et=null,Et=null,Ht=null,Fo=!1,Ja=!1,aa=!1,qo=0,js=0,Za=null,R1=0;function Ut(){throw Error(k(321))}function Ed(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function vd(e,t,n,i,a,r){return Bn=r,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?WE:Dd,aa=!1,r=n(i,a),aa=!1,Ja&&(r=SE(t,n,i,a)),AE(e),r}function AE(e){Q.H=Bs;var t=Et!==null&&Et.next!==null;if(Bn=0,Ht=Et=et=null,Fo=!1,js=0,Za=null,t)throw Error(k(300));e===null||qt||(e=e.dependencies,e!==null&&Po(e)&&(qt=!0))}function SE(e,t,n,i){et=e;var a=0;do{if(Ja&&(Za=null),js=0,Ja=!1,25<=a)throw Error(k(301));if(a+=1,Ht=Et=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Q.H=tv,r=t(n,i)}while(Ja);return r}function C1(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?ol(t):t,e=e.useState()[0],(Et!==null?Et.memoizedState:null)!==e&&(et.flags|=1024),t}function Td(){var e=qo!==0;return qo=0,e}function bd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ad(e){if(Fo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fo=!1}Bn=0,Ht=Et=et=null,Ja=!1,js=qo=0,Za=null}function Te(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?et.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Pt(){if(Et===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Ht===null?et.memoizedState:Ht.next;if(t!==null)Ht=t,Et=e;else{if(e===null)throw et.alternate===null?Error(k(467)):Error(k(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ht===null?et.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var t=js;return js+=1,Za===null&&(Za=[]),e=yE(Za,e,t),t=et,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?WE:Dd),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===On)return oe(e)}throw Error(k(438,String(e)))}function Sd(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Du(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=gS;return t.index++,n}function Pn(e,t){return typeof t=="function"?t(e):t}function yo(e){var t=Pt();return xd(t,Et,e)}function xd(e,t,n){var i=e.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=n;var a=e.baseQueue,r=i.pending;if(r!==null){if(a!==null){var s=a.next;a.next=r.next,r.next=s}t.baseQueue=a=r,i.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var o=s=null,u=null,h=t,m=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(st&p)===p:(Bn&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===rr&&(m=!0);else if((Bn&g)===g){h=h.next,g===rr&&(m=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,s=r):u=u.next=p,et.lanes|=g,xi|=g;p=h.action,aa&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else g={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,s=r):u=u.next=g,et.lanes|=p,xi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?s=r:u.next=o,!Ye(r,e.memoizedState)&&(qt=!0,m&&(n=Xa,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=u,i.lastRenderedState=r}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gc(e){var t=Pt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do r=e(r,s.action),s=s.next;while(s!==a);Ye(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function xE(e,t,n){var i=et,a=Pt(),r=lt;if(r){if(n===void 0)throw Error(k(407));n=n()}else n=t();var s=!Ye((Et||a).memoizedState,n);if(s&&(a.memoizedState=n,qt=!0),a=a.queue,wd(IE.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||Ht!==null&&Ht.memoizedState.tag&1){if(i.flags|=2048,lr(9,{destroy:void 0},NE.bind(null,i,a,n,t),null),bt===null)throw Error(k(349));r||Bn&127||wE(i,t,n)}return n}function wE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=Du(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function NE(e,t,n,i){t.value=n,t.getSnapshot=i,RE(t)&&CE(e)}function IE(e,t,n){return n(function(){RE(t)&&CE(e)})}function RE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function CE(e){var t=ma(e,2);t!==null&&Oe(t,e,2)}function $h(e){var t=Te();if(typeof e=="function"){var n=e;if(e=n(),aa){ai(!0);try{n()}finally{ai(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},t}function DE(e,t,n,i){return e.baseState=n,xd(e,Et,typeof i=="function"?i:Pn)}function D1(e,t,n,i,a){if(Vu(e))throw Error(k(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};Q.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,OE(t,r)):(r.next=n.next,t.pending=n.next=r)}}function OE(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var r=Q.T,s={};Q.T=s;try{var o=n(a,i),u=Q.S;u!==null&&u(s,o),cp(e,t,o)}catch(h){Jh(e,t,h)}finally{r!==null&&s.types!==null&&(r.types=s.types),Q.T=r}}else try{r=n(a,i),cp(e,t,r)}catch(h){Jh(e,t,h)}}function cp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){hp(e,t,i)},function(i){return Jh(e,t,i)}):hp(e,t,n)}function hp(e,t,n){t.status="fulfilled",t.value=n,ME(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,OE(e,n)))}function Jh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,ME(t),t=t.next;while(t!==i)}e.action=null}function ME(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function VE(e,t){return t}function fp(e,t){if(lt){var n=bt.formState;if(n!==null){t:{var i=et;if(lt){if(wt){e:{for(var a=wt,r=tn;a.nodeType!==8;){if(!r){a=null;break e}if(a=nn(a.nextSibling),a===null){a=null;break e}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){wt=nn(a.nextSibling),i=a.data==="F!";break t}}Ai(i)}i=!1}i&&(t=n[0])}}return n=Te(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VE,lastRenderedState:t},n.queue=i,n=$E.bind(null,et,i),i.dispatch=n,i=$h(!1),r=Cd.bind(null,et,!1,i.queue),i=Te(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=D1.bind(null,et,a,r,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function dp(e){var t=Pt();return UE(t,Et,e)}function UE(e,t,n){if(t=xd(e,t,VE)[0],e=yo(Pn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ol(t)}catch(s){throw s===Sr?Cu:s}else i=t;t=Pt();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(et.flags|=2048,lr(9,{destroy:void 0},O1.bind(null,a,n),null)),[i,r,e]}function O1(e,t){e.action=t}function mp(e){var t=Pt(),n=Et;if(n!==null)return UE(t,n,e);Pt(),t=t.memoizedState,n=Pt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function lr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=et.updateQueue,t===null&&(t=Du(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function LE(){return Pt().memoizedState}function _o(e,t,n,i){var a=Te();et.flags|=e,a.memoizedState=lr(1|t,{destroy:void 0},n,i===void 0?null:i)}function Mu(e,t,n,i){var a=Pt();i=i===void 0?null:i;var r=a.memoizedState.inst;Et!==null&&i!==null&&Ed(i,Et.memoizedState.deps)?a.memoizedState=lr(t,r,n,i):(et.flags|=e,a.memoizedState=lr(1|t,r,n,i))}function gp(e,t){_o(8390656,8,e,t)}function wd(e,t){Mu(2048,8,e,t)}function M1(e){et.flags|=4;var t=et.updateQueue;if(t===null)t=Du(),et.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function kE(e){var t=Pt().memoizedState;return M1({ref:t,nextImpl:e}),function(){if(dt&2)throw Error(k(440));return t.impl.apply(void 0,arguments)}}function jE(e,t){return Mu(4,2,e,t)}function BE(e,t){return Mu(4,4,e,t)}function PE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zE(e,t,n){n=n!=null?n.concat([e]):null,Mu(4,4,PE.bind(null,t,e),n)}function Nd(){}function HE(e,t){var n=Pt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Ed(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function GE(e,t){var n=Pt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Ed(t,i[1]))return i[0];if(i=e(),aa){ai(!0);try{e()}finally{ai(!1)}}return n.memoizedState=[i,t],i}function Id(e,t,n){return n===void 0||Bn&1073741824&&!(st&261930)?e.memoizedState=t:(e.memoizedState=n,e=Dv(),et.lanes|=e,xi|=e,n)}function FE(e,t,n,i){return Ye(n,t)?n:sr.current!==null?(e=Id(e,n,i),Ye(e,t)||(qt=!0),e):!(Bn&42)||Bn&1073741824&&!(st&261930)?(qt=!0,e.memoizedState=n):(e=Dv(),et.lanes|=e,xi|=e,t)}function qE(e,t,n,i,a){var r=mt.p;mt.p=r!==0&&8>r?r:8;var s=Q.T,o={};Q.T=o,Cd(e,!1,t,n);try{var u=a(),h=Q.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=I1(u,i);vs(e,t,m,Fe(e))}else vs(e,t,i,Fe(e))}catch(p){vs(e,t,{then:function(){},status:"rejected",reason:p},Fe())}finally{mt.p=r,s!==null&&o.types!==null&&(s.types=o.types),Q.T=s}}function V1(){}function Zh(e,t,n,i){if(e.tag!==5)throw Error(k(476));var a=YE(e).queue;qE(e,a,t,Qi,n===null?V1:function(){return KE(e),n(i)})}function YE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Qi,baseState:Qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:Qi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function KE(e){var t=YE(e);t.next===null&&(t=e.alternate.memoizedState),vs(e,t.next.queue,{},Fe())}function Rd(){return oe(Hs)}function QE(){return Pt().memoizedState}function XE(){return Pt().memoizedState}function U1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Fe();e=fi(n);var i=di(t,e,n);i!==null&&(Oe(i,t,n),ys(i,t,n)),t={cache:md()},e.payload=t;return}t=t.return}}function L1(e,t,n){var i=Fe();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vu(e)?JE(t,n):(n=cd(e,t,n,i),n!==null&&(Oe(n,e,i),ZE(n,t,i)))}function $E(e,t,n){var i=Fe();vs(e,t,n,i)}function vs(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))JE(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,o=r(s,n);if(a.hasEagerState=!0,a.eagerState=o,Ye(o,s))return Ru(e,t,a,0),bt===null&&Iu(),!1}catch{}finally{}if(n=cd(e,t,a,i),n!==null)return Oe(n,e,i),ZE(n,t,i),!0}return!1}function Cd(e,t,n,i){if(i={lane:2,revertLane:Bd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(t)throw Error(k(479))}else t=cd(e,n,i,2),t!==null&&Oe(t,e,2)}function Vu(e){var t=e.alternate;return e===et||t!==null&&t===et}function JE(e,t){Ja=Fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ZE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,k_(e,n)}}var Bs={readContext:oe,use:Ou,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Bs.useEffectEvent=Ut;var WE={readContext:oe,use:Ou,useCallback:function(e,t){return Te().memoizedState=[e,t===void 0?null:t],e},useContext:oe,useEffect:gp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_o(4194308,4,PE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){_o(4,2,e,t)},useMemo:function(e,t){var n=Te();t=t===void 0?null:t;var i=e();if(aa){ai(!0);try{e()}finally{ai(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Te();if(n!==void 0){var a=n(t);if(aa){ai(!0);try{n(t)}finally{ai(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=L1.bind(null,et,e),[i.memoizedState,e]},useRef:function(e){var t=Te();return e={current:e},t.memoizedState=e},useState:function(e){e=$h(e);var t=e.queue,n=$E.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Nd,useDeferredValue:function(e,t){var n=Te();return Id(n,e,t)},useTransition:function(){var e=$h(!1);return e=qE.bind(null,et,e.queue,!0,!1),Te().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=et,a=Te();if(lt){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),bt===null)throw Error(k(349));st&127||wE(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,gp(IE.bind(null,i,r,e),[e]),i.flags|=2048,lr(9,{destroy:void 0},NE.bind(null,i,r,n,t),null),n},useId:function(){var e=Te(),t=bt.identifierPrefix;if(lt){var n=dn,i=fn;n=(i&~(1<<32-Ge(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=R1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Rd,useFormState:fp,useActionState:fp,useOptimistic:function(e){var t=Te();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Cd.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:Sd,useCacheRefresh:function(){return Te().memoizedState=U1.bind(null,et)},useEffectEvent:function(e){var t=Te(),n={impl:e};return t.memoizedState=n,function(){if(dt&2)throw Error(k(440));return n.impl.apply(void 0,arguments)}}},Dd={readContext:oe,use:Ou,useCallback:HE,useContext:oe,useEffect:wd,useImperativeHandle:zE,useInsertionEffect:jE,useLayoutEffect:BE,useMemo:GE,useReducer:yo,useRef:LE,useState:function(){return yo(Pn)},useDebugValue:Nd,useDeferredValue:function(e,t){var n=Pt();return FE(n,Et.memoizedState,e,t)},useTransition:function(){var e=yo(Pn)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:ol(e),t]},useSyncExternalStore:xE,useId:QE,useHostTransitionStatus:Rd,useFormState:dp,useActionState:dp,useOptimistic:function(e,t){var n=Pt();return DE(n,Et,e,t)},useMemoCache:Sd,useCacheRefresh:XE};Dd.useEffectEvent=kE;var tv={readContext:oe,use:Ou,useCallback:HE,useContext:oe,useEffect:wd,useImperativeHandle:zE,useInsertionEffect:jE,useLayoutEffect:BE,useMemo:GE,useReducer:Gc,useRef:LE,useState:function(){return Gc(Pn)},useDebugValue:Nd,useDeferredValue:function(e,t){var n=Pt();return Et===null?Id(n,e,t):FE(n,Et.memoizedState,e,t)},useTransition:function(){var e=Gc(Pn)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:ol(e),t]},useSyncExternalStore:xE,useId:QE,useHostTransitionStatus:Rd,useFormState:mp,useActionState:mp,useOptimistic:function(e,t){var n=Pt();return Et!==null?DE(n,Et,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:XE};tv.useEffectEvent=kE;function Fc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:It({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Fe(),a=fi(i);a.payload=t,n!=null&&(a.callback=n),t=di(e,a,i),t!==null&&(Oe(t,e,i),ys(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Fe(),a=fi(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=di(e,a,i),t!==null&&(Oe(t,e,i),ys(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),i=fi(n);i.tag=2,t!=null&&(i.callback=t),t=di(e,i,n),t!==null&&(Oe(t,e,n),ys(t,e,n))}};function pp(e,t,n,i,a,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,s):t.prototype&&t.prototype.isPureReactComponent?!Vs(n,i)||!Vs(a,r):!0}function yp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Wh.enqueueReplaceState(t,t.state,null)}function ra(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=It({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function ev(e){ko(e)}function nv(e){console.error(e)}function iv(e){ko(e)}function Yo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function _p(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function tf(e,t,n){return n=fi(n),n.tag=3,n.payload={element:null},n.callback=function(){Yo(e,t)},n}function av(e){return e=fi(e),e.tag=3,e}function rv(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;e.payload=function(){return a(r)},e.callback=function(){_p(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){_p(t,n,i),typeof a!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function k1(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ar(t,n,a,!0),n=Ke.current,n!==null){switch(n.tag){case 31:case 13:return en===null?Jo():n.alternate===null&&Lt===0&&(Lt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===zo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),eh(e,i,a)),!1;case 22:return n.flags|=65536,i===zo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),eh(e,i,a)),!1}throw Error(k(435,n.tag))}return eh(e,i,a),Jo(),!1}if(lt)return t=Ke.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==zh&&(e=Error(k(422),{cause:i}),Ls(We(e,n)))):(i!==zh&&(t=Error(k(423),{cause:i}),Ls(We(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=We(i,n),a=tf(e.stateNode,i,a),Hc(e,a),Lt!==4&&(Lt=2)),!1;var r=Error(k(520),{cause:i});if(r=We(r,n),As===null?As=[r]:As.push(r),Lt!==4&&(Lt=2),t===null)return!0;i=We(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=tf(n.stateNode,i,e),Hc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=av(a),rv(a,e,n,i),Hc(n,a),!1}n=n.return}while(n!==null);return!1}var Od=Error(k(461)),qt=!1;function ie(e,t,n,i){t.child=e===null?EE(t,null,n,i):ia(t,e.child,n,i)}function Ep(e,t,n,i,a){n=n.render;var r=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return na(t),i=vd(e,t,n,s,r,a),o=Td(),e!==null&&!qt?(bd(e,t,a),zn(e,t,a)):(lt&&o&&fd(t),t.flags|=1,ie(e,t,i,a),t.child)}function vp(e,t,n,i,a){if(e===null){var r=n.type;return typeof r=="function"&&!hd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,sv(e,t,r,i,a)):(e=go(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Md(e,a)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(s,i)&&e.ref===t.ref)return zn(e,t,a)}return t.flags|=1,e=Un(r,i),e.ref=t.ref,e.return=t,t.child=e}function sv(e,t,n,i,a){if(e!==null){var r=e.memoizedProps;if(Vs(r,i)&&e.ref===t.ref)if(qt=!1,t.pendingProps=i=r,Md(e,a))e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,zn(e,t,a)}return ef(e,t,n,i,a)}function lv(e,t,n,i){var a=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,t.child=null;return Tp(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&po(t,r!==null?r.cachePool:null),r!==null?up(t,r):Qh(),bE(t);else return i=t.lanes=536870912,Tp(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(po(t,r.cachePool),up(t,r),ni(),t.memoizedState=null):(e!==null&&po(t,null),Qh(),ni());return ie(e,t,a,n),t.child}function rs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Tp(e,t,n,i,a){var r=gd();return r=r===null?null:{parent:Ft._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&po(t,null),Qh(),bE(t),e!==null&&Ar(e,t,i,!0),t.childLanes=a,null}function Eo(e,t){return t=Ko({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bp(e,t,n){return ia(t,e.child,null,n),e=Eo(t,t.pendingProps),e.flags|=2,ke(t),t.memoizedState=null,e}function j1(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(lt){if(i.mode==="hidden")return e=Eo(t,i),t.lanes=536870912,rs(null,e);if(Xh(t),(e=wt)?(e=Wv(e,tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bi!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=fE(e),n.return=t,t.child=n,se=t,wt=null)):e=null,e===null)throw Ai(t);return t.lanes=536870912,null}return Eo(t,i)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(Xh(t),a)if(t.flags&256)t.flags&=-257,t=bp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(k(558));else if(qt||Ar(e,t,n,!1),a=(n&e.childLanes)!==0,qt||a){if(i=bt,i!==null&&(s=j_(i,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,ma(e,s),Oe(i,e,s),Od;Jo(),t=bp(e,t,n)}else e=r.treeContext,wt=nn(s.nextSibling),se=t,lt=!0,hi=null,tn=!1,e!==null&&mE(t,e),t=Eo(t,i),t.flags|=4096;return t}return e=Un(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(k(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ef(e,t,n,i,a){return na(t),n=vd(e,t,n,i,void 0,a),i=Td(),e!==null&&!qt?(bd(e,t,a),zn(e,t,a)):(lt&&i&&fd(t),t.flags|=1,ie(e,t,n,a),t.child)}function Ap(e,t,n,i,a,r){return na(t),t.updateQueue=null,n=SE(t,i,n,a),AE(e),i=Td(),e!==null&&!qt?(bd(e,t,r),zn(e,t,r)):(lt&&i&&fd(t),t.flags|=1,ie(e,t,n,r),t.child)}function Sp(e,t,n,i,a){if(na(t),t.stateNode===null){var r=za,s=n.contextType;typeof s=="object"&&s!==null&&(r=oe(s)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Wh,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},yd(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?oe(s):za,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Fc(t,n,s,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&Wh.enqueueReplaceState(r,r.state,null),Es(t,i,r,a),_s(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=ra(n,o);r.props=u;var h=r.context,m=n.contextType;s=za,typeof m=="object"&&m!==null&&(s=oe(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,m||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||h!==s)&&yp(t,r,i,s),Wn=!1;var g=t.memoizedState;r.state=g,Es(t,i,r,a),_s(),h=t.memoizedState,o||g!==h||Wn?(typeof p=="function"&&(Fc(t,n,p,i),h=t.memoizedState),(u=Wn||pp(t,n,u,i,g,h,s))?(m||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=s,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Yh(e,t),s=t.memoizedProps,m=ra(n,s),r.props=m,p=t.pendingProps,g=r.context,h=n.contextType,u=za,typeof h=="object"&&h!==null&&(u=oe(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==p||g!==u)&&yp(t,r,i,u),Wn=!1,g=t.memoizedState,r.state=g,Es(t,i,r,a),_s();var y=t.memoizedState;s!==p||g!==y||Wn||e!==null&&e.dependencies!==null&&Po(e.dependencies)?(typeof o=="function"&&(Fc(t,n,o,i),y=t.memoizedState),(m=Wn||pp(t,n,m,i,g,y,u)||e!==null&&e.dependencies!==null&&Po(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,y,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,y,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),r.props=i,r.state=y,r.context=u,i=m):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,vo(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=ia(t,e.child,null,a),t.child=ia(t,null,n,a)):ie(e,t,n,a),t.memoizedState=r.state,e=t.child):e=zn(e,t,a),e}function xp(e,t,n,i){return ea(),t.flags|=256,ie(e,t,n,i),t.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(e){return{baseLanes:e,cachePool:pE()}}function Kc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Be),e}function ov(e,t,n){var i=t.pendingProps,a=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(Bt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(a?ei(t):ni(),(e=wt)?(e=Wv(e,tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bi!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=fE(e),n.return=t,t.child=n,se=t,wt=null)):e=null,e===null)throw Ai(t);return pf(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,a?(ni(),a=t.mode,o=Ko({mode:"hidden",children:o},a),i=Xi(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Yc(n),i.childLanes=Kc(e,s,n),t.memoizedState=qc,rs(null,i)):(ei(t),nf(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(ei(t),t.flags&=-257,t=Qc(e,t,n)):t.memoizedState!==null?(ni(),t.child=e.child,t.flags|=128,t=null):(ni(),o=i.fallback,a=t.mode,i=Ko({mode:"visible",children:i.children},a),o=Xi(o,a,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ia(t,e.child,null,n),i=t.child,i.memoizedState=Yc(n),i.childLanes=Kc(e,s,n),t.memoizedState=qc,t=rs(null,i));else if(ei(t),pf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,i=Error(k(419)),i.stack="",i.digest=s,Ls({value:i,source:null,stack:null}),t=Qc(e,t,n)}else if(qt||Ar(e,t,n,!1),s=(n&e.childLanes)!==0,qt||s){if(s=bt,s!==null&&(i=j_(s,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,ma(e,i),Oe(s,e,i),Od;gf(o)||Jo(),t=Qc(e,t,n)}else gf(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,wt=nn(o.nextSibling),se=t,lt=!0,hi=null,tn=!1,e!==null&&mE(t,e),t=nf(t,i.children),t.flags|=4096);return t}return a?(ni(),o=i.fallback,a=t.mode,u=e.child,h=u.sibling,i=Un(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Un(h,o):(o=Xi(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,rs(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Yc(n):(a=o.cachePool,a!==null?(u=Ft._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=pE(),o={baseLanes:o.baseLanes|n,cachePool:a}),i.memoizedState=o,i.childLanes=Kc(e,s,n),t.memoizedState=qc,rs(e.child,i)):(ei(t),n=e.child,e=n.sibling,n=Un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function nf(e,t){return t=Ko({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ko(e,t){return e=je(22,e,null,t),e.lanes=0,e}function Qc(e,t,n){return ia(t,e.child,null,n),e=nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Gh(e.return,t,n)}function Xc(e,t,n,i,a,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a,s.treeForkCount=r)}function uv(e,t,n){var i=t.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var s=Bt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,At(Bt,s),ie(e,t,i,n),i=lt?Us:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,n,t);else if(e.tag===19)wp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Go(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Xc(t,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Go(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Xc(t,!0,n,null,r,i);break;case"together":Xc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ar(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Md(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Po(e)))}function B1(e,t,n){switch(t.tag){case 3:Mo(t,t.stateNode.containerInfo),ti(t,Ft,e.memoizedState.cache),ea();break;case 27:case 5:Ch(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:ti(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ei(t),t.flags|=128,null):n&t.child.childLanes?ov(e,t,n):(ei(t),e=zn(e,t,n),e!==null?e.sibling:null);ei(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ar(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return uv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),At(Bt,Bt.current),i)break;return null;case 22:return t.lanes=0,lv(e,t,n,t.pendingProps);case 24:ti(t,Ft,e.memoizedState.cache)}return zn(e,t,n)}function cv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)qt=!0;else{if(!Md(e,n)&&!(t.flags&128))return qt=!1,B1(e,t,n);qt=!!(e.flags&131072)}else qt=!1,lt&&t.flags&1048576&&dE(t,Us,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Gi(t.elementType),t.type=e,typeof e=="function")hd(e)?(i=ra(e,i),t.tag=1,t=Sp(null,t,e,i,n)):(t.tag=0,t=ef(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===Jf){t.tag=11,t=Ep(null,t,e,i,n);break t}else if(a===Zf){t.tag=14,t=vp(null,t,e,i,n);break t}}throw t=Ih(e)||e,Error(k(306,t,""))}}return t;case 0:return ef(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=ra(i,t.pendingProps),Sp(e,t,i,a,n);case 3:t:{if(Mo(t,t.stateNode.containerInfo),e===null)throw Error(k(387));i=t.pendingProps;var r=t.memoizedState;a=r.element,Yh(e,t),Es(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ti(t,Ft,i),i!==r.cache&&Fh(t,[Ft],n,!0),_s(),i=s.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=xp(e,t,i,n);break t}else if(i!==a){a=We(Error(k(424)),t),Ls(a),t=xp(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(wt=nn(e.firstChild),se=t,lt=!0,hi=null,tn=!0,n=EE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ea(),i===a){t=zn(e,t,n);break t}ie(e,t,i,n)}t=t.child}return t;case 26:return vo(e,t),e===null?(n=Yp(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=eu(ci.current).createElement(n),i[re]=t,i[Me]=e,ue(i,n,e),Wt(i),t.stateNode=i):t.memoizedState=Yp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ch(t),e===null&&lt&&(i=t.stateNode=tT(t.type,t.pendingProps,ci.current),se=t,tn=!0,a=wt,Di(t.type)?(yf=a,wt=nn(i.firstChild)):wt=a),ie(e,t,t.pendingProps.children,n),vo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((a=i=wt)&&(i=gx(i,t.type,t.pendingProps,tn),i!==null?(t.stateNode=i,se=t,wt=nn(i.firstChild),tn=!1,a=!0):a=!1),a||Ai(t)),Ch(t),a=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,i=r.children,df(a,r)?i=null:s!==null&&df(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=vd(e,t,C1,null,null,n),Hs._currentValue=a),vo(e,t),ie(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=wt)&&(n=px(n,t.pendingProps,tn),n!==null?(t.stateNode=n,se=t,wt=null,e=!0):e=!1),e||Ai(t)),null;case 13:return ov(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ia(t,null,i,n):ie(e,t,i,n),t.child;case 11:return Ep(e,t,t.type,t.pendingProps,n);case 7:return ie(e,t,t.pendingProps,n),t.child;case 8:return ie(e,t,t.pendingProps.children,n),t.child;case 12:return ie(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ti(t,t.type,i.value),ie(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,na(t),a=oe(a),i=i(a),t.flags|=1,ie(e,t,i,n),t.child;case 14:return vp(e,t,t.type,t.pendingProps,n);case 15:return sv(e,t,t.type,t.pendingProps,n);case 19:return uv(e,t,n);case 31:return j1(e,t,n);case 22:return lv(e,t,n,t.pendingProps);case 24:return na(t),i=oe(Ft),e===null?(a=gd(),a===null&&(a=bt,r=md(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:i,cache:a},yd(t),ti(t,Ft,a)):(e.lanes&n&&(Yh(e,t),Es(t,null,null,n),_s()),a=e.memoizedState,r=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ti(t,Ft,i)):(i=r.cache,ti(t,Ft,i),i!==a.cache&&Fh(t,[Ft],n,!0))),ie(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function wn(e){e.flags|=4}function $c(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(Vv())e.flags|=8192;else throw Ji=zo,pd}else e.flags&=-16777217}function Np(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!iT(t))if(Vv())e.flags|=8192;else throw Ji=zo,pd}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?U_():536870912,e.lanes|=t,or|=t)}function Jr(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function P1(e,t,n){var i=t.pendingProps;switch(dd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(Ft),nr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?wn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zc())),xt(t),null;case 26:var a=t.type,r=t.memoizedState;return e===null?(wn(t),r!==null?(xt(t),Np(t,r)):(xt(t),$c(t,a,null,i,n))):r?r!==e.memoizedState?(wn(t),xt(t),Np(t,r)):(xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&wn(t),xt(t),$c(t,a,e,i,n)),null;case 27:if(Vo(t),n=ci.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&wn(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return xt(t),null}e=gn.current,Aa(t)?np(t):(e=tT(a,i,n),t.stateNode=e,wn(t))}return xt(t),null;case 5:if(Vo(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&wn(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return xt(t),null}if(r=gn.current,Aa(t))np(t);else{var s=eu(ci.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?s.createElement(a,{is:i.is}):s.createElement(a)}}r[re]=t,r[Me]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;t:switch(ue(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&wn(t)}}return xt(t),$c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&wn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(k(166));if(e=ci.current,Aa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=se,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[re]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||$v(e.nodeValue,n)),e||Ai(t,!0)}else e=eu(e).createTextNode(i),e[re]=t,t.stateNode=e}return xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Aa(t),n!==null){if(e===null){if(!i)throw Error(k(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(557));e[re]=t}else ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),e=!1}else n=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ke(t),t):(ke(t),null);if(t.flags&128)throw Error(k(558))}return xt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Aa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(k(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(k(317));a[re]=t}else ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),a=!1}else a=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(ke(t),t):(ke(t),null)}return ke(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),xt(t),null);case 4:return nr(),e===null&&Pd(t.stateNode.containerInfo),xt(t),null;case 10:return Ln(t.type),xt(t),null;case 19:if(te(Bt),i=t.memoizedState,i===null)return xt(t),null;if(a=(t.flags&128)!==0,r=i.rendering,r===null)if(a)Jr(i,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Go(e),r!==null){for(t.flags|=128,Jr(i,!1),e=r.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)hE(n,e),n=n.sibling;return At(Bt,Bt.current&1|2),lt&&Cn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ze()>Xo&&(t.flags|=128,a=!0,Jr(i,!1),t.lanes=4194304)}else{if(!a)if(e=Go(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Jr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!lt)return xt(t),null}else 2*ze()-i.renderingStartTime>Xo&&n!==536870912&&(t.flags|=128,a=!0,Jr(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ze(),e.sibling=null,n=Bt.current,At(Bt,a?n&1|2:n&1),lt&&Cn(t,i.treeForkCount),e):(xt(t),null);case 22:case 23:return ke(t),_d(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),n=t.updateQueue,n!==null&&Yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&te($i),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(Ft),xt(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function z1(e,t){switch(dd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(Ft),nr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vo(t),null;case 31:if(t.memoizedState!==null){if(ke(t),t.alternate===null)throw Error(k(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ke(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(Bt),null;case 4:return nr(),null;case 10:return Ln(t.type),null;case 22:case 23:return ke(t),_d(),e!==null&&te($i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(Ft),null;case 25:return null;default:return null}}function hv(e,t){switch(dd(t),t.tag){case 3:Ln(Ft),nr();break;case 26:case 27:case 5:Vo(t);break;case 4:nr();break;case 31:t.memoizedState!==null&&ke(t);break;case 13:ke(t);break;case 19:te(Bt);break;case 10:Ln(t.type);break;case 22:case 23:ke(t),_d(),e!==null&&te($i);break;case 24:Ln(Ft)}}function ul(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==a)}}catch(o){pt(t,t.return,o)}}function Si(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=t;var u=n,h=o;try{h()}catch(m){pt(a,u,m)}}}i=i.next}while(i!==r)}}catch(m){pt(t,t.return,m)}}function fv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{TE(t,n)}catch(i){pt(e,e.return,i)}}}function dv(e,t,n){n.props=ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){pt(e,t,i)}}function Ts(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){pt(e,t,a)}}function mn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){pt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){pt(e,t,a)}else n.current=null}function mv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){pt(e,e.return,a)}}function Jc(e,t,n){try{var i=e.stateNode;ux(i,e.type,n,t),i[Me]=t}catch(a){pt(e,e.return,a)}}function gv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Di(e.type)||e.tag===4}function Zc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Di(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function af(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mn));else if(i!==4&&(i===27&&Di(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(af(e,t,n),e=e.sibling;e!==null;)af(e,t,n),e=e.sibling}function Qo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Di(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qo(e,t,n),e=e.sibling;e!==null;)Qo(e,t,n),e=e.sibling}function pv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ue(t,i,n),t[re]=e,t[Me]=n}catch(r){pt(e,e.return,r)}}var Dn=!1,Gt=!1,Wc=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function H1(e,t){if(e=e.containerInfo,hf=ru,e=iE(e),od(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,h=0,m=0,p=e,g=null;e:for(;;){for(var y;p!==n||a!==0&&p.nodeType!==3||(o=s+a),p!==r||i!==0&&p.nodeType!==3||(u=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===e)break e;if(g===n&&++h===a&&(o=s),g===r&&++m===i&&(u=s),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ff={focusedElem:e,selectionRange:n},ru=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var R=ra(n.type,a);e=i.getSnapshotBeforeUpdate(R,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(I){pt(n,n.return,I)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)mf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function yv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:In(e,n),i&4&&ul(5,n);break;case 1:if(In(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){pt(n,n.return,s)}else{var a=ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){pt(n,n.return,s)}}i&64&&fv(n),i&512&&Ts(n,n.return);break;case 3:if(In(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{TE(e,t)}catch(s){pt(n,n.return,s)}}break;case 27:t===null&&i&4&&pv(n);case 26:case 5:In(e,n),t===null&&i&4&&mv(n),i&512&&Ts(n,n.return);break;case 12:In(e,n);break;case 31:In(e,n),i&4&&vv(e,n);break;case 13:In(e,n),i&4&&Tv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=J1.bind(null,n),yx(e,n))));break;case 22:if(i=n.memoizedState!==null||Dn,!i){t=t!==null&&t.memoizedState!==null||Gt,a=Dn;var r=Gt;Dn=i,(Gt=t)&&!r?Rn(e,n,(n.subtreeFlags&8772)!==0):In(e,n),Dn=a,Gt=r}break;case 30:break;default:In(e,n)}}function _v(e){var t=e.alternate;t!==null&&(e.alternate=null,_v(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&nd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,Re=!1;function Nn(e,t,n){for(n=n.child;n!==null;)Ev(e,t,n),n=n.sibling}function Ev(e,t,n){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(nl,n)}catch{}switch(n.tag){case 26:Gt||mn(n,t),Nn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Gt||mn(n,t);var i=Rt,a=Re;Di(n.type)&&(Rt=n.stateNode,Re=!1),Nn(e,t,n),xs(n.stateNode),Rt=i,Re=a;break;case 5:Gt||mn(n,t);case 6:if(i=Rt,a=Re,Rt=null,Nn(e,t,n),Rt=i,Re=a,Rt!==null)if(Re)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(r){pt(n,t,r)}else try{Rt.removeChild(n.stateNode)}catch(r){pt(n,t,r)}break;case 18:Rt!==null&&(Re?(e=Rt,zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fr(e)):zp(Rt,n.stateNode));break;case 4:i=Rt,a=Re,Rt=n.stateNode.containerInfo,Re=!0,Nn(e,t,n),Rt=i,Re=a;break;case 0:case 11:case 14:case 15:Si(2,n,t),Gt||Si(4,n,t),Nn(e,t,n);break;case 1:Gt||(mn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&dv(n,t,i)),Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:Gt=(i=Gt)||n.memoizedState!==null,Nn(e,t,n),Gt=i;break;default:Nn(e,t,n)}}function vv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fr(e)}catch(n){pt(t,t.return,n)}}}function Tv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fr(e)}catch(n){pt(t,t.return,n)}}function G1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ip),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ip),t;default:throw Error(k(435,e.tag))}}function Kl(e,t){var n=G1(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=Z1.bind(null,e,i);i.then(a,a)}})}function we(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Di(o.type)){Rt=o.stateNode,Re=!1;break t}break;case 5:Rt=o.stateNode,Re=!1;break t;case 3:case 4:Rt=o.stateNode.containerInfo,Re=!0;break t}o=o.return}if(Rt===null)throw Error(k(160));Ev(r,s,a),Rt=null,Re=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bv(t,e),t=t.sibling}var un=null;function bv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:we(t,e),Ne(e),i&4&&(Si(3,e,e.return),ul(3,e),Si(5,e,e.return));break;case 1:we(t,e),Ne(e),i&512&&(Gt||n===null||mn(n,n.return)),i&64&&Dn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=un;if(we(t,e),Ne(e),i&512&&(Gt||n===null||mn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[rl]||r[re]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),ue(r,i,n),r[re]=e,Wt(r),i=r;break t;case"link":var s=Qp("link","href",a).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(r=s[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}r=a.createElement(i),ue(r,i,n),a.head.appendChild(r);break;case"meta":if(s=Qp("meta","content",a).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(r=s[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}r=a.createElement(i),ue(r,i,n),a.head.appendChild(r);break;default:throw Error(k(468,i))}r[re]=e,Wt(r),i=r}e.stateNode=i}else Xp(a,e.type,e.stateNode);else e.stateNode=Kp(a,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Xp(a,e.type,e.stateNode):Kp(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Jc(e,e.memoizedProps,n.memoizedProps)}break;case 27:we(t,e),Ne(e),i&512&&(Gt||n===null||mn(n,n.return)),n!==null&&i&4&&Jc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(we(t,e),Ne(e),i&512&&(Gt||n===null||mn(n,n.return)),e.flags&32){a=e.stateNode;try{ar(a,"")}catch(R){pt(e,e.return,R)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Jc(e,a,n!==null?n.memoizedProps:a)),i&1024&&(Wc=!0);break;case 6:if(we(t,e),Ne(e),i&4){if(e.stateNode===null)throw Error(k(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(R){pt(e,e.return,R)}}break;case 3:if(Ao=null,a=un,un=nu(t.containerInfo),we(t,e),un=a,Ne(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fr(t.containerInfo)}catch(R){pt(e,e.return,R)}Wc&&(Wc=!1,Av(e));break;case 4:i=un,un=nu(e.stateNode.containerInfo),we(t,e),Ne(e),un=i;break;case 12:we(t,e),Ne(e);break;case 31:we(t,e),Ne(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 13:we(t,e),Ne(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Uu=ze()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Dn,m=Gt;if(Dn=h||a,Gt=m||u,we(t,e),Gt=m,Dn=h,Ne(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||Dn||Gt||Fi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,a)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(R){pt(u,u.return,R)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(R){pt(u,u.return,R)}}}else if(t.tag===18){if(n===null){u=t;try{var y=u.stateNode;a?Hp(y,!0):Hp(u.stateNode,!1)}catch(R){pt(u,u.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Kl(e,n))));break;case 19:we(t,e),Ne(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 30:break;case 21:break;default:we(t,e),Ne(e)}}function Ne(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(gv(i)){n=i;break}i=i.return}if(n==null)throw Error(k(160));switch(n.tag){case 27:var a=n.stateNode,r=Zc(e);Qo(e,r,a);break;case 5:var s=n.stateNode;n.flags&32&&(ar(s,""),n.flags&=-33);var o=Zc(e);Qo(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Zc(e);af(e,h,u);break;default:throw Error(k(161))}}catch(m){pt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Av(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Av(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function In(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yv(e,t.alternate,t),t=t.sibling}function Fi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Si(4,t,t.return),Fi(t);break;case 1:mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&dv(t,t.return,n),Fi(t);break;case 27:xs(t.stateNode);case 26:case 5:mn(t,t.return),Fi(t);break;case 22:t.memoizedState===null&&Fi(t);break;case 30:Fi(t);break;default:Fi(t)}e=e.sibling}}function Rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Rn(a,r,n),ul(4,r);break;case 1:if(Rn(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){pt(i,i.return,h)}if(i=r,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)vE(u[a],o)}catch(h){pt(i,i.return,h)}}n&&s&64&&fv(r),Ts(r,r.return);break;case 27:pv(r);case 26:case 5:Rn(a,r,n),n&&i===null&&s&4&&mv(r),Ts(r,r.return);break;case 12:Rn(a,r,n);break;case 31:Rn(a,r,n),n&&s&4&&vv(a,r);break;case 13:Rn(a,r,n),n&&s&4&&Tv(a,r);break;case 22:r.memoizedState===null&&Rn(a,r,n),Ts(r,r.return);break;case 30:break;default:Rn(a,r,n)}t=t.sibling}}function Vd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ll(n))}function Ud(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e))}function ln(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sv(e,t,n,i),t=t.sibling}function Sv(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ln(e,t,n,i),a&2048&&ul(9,t);break;case 1:ln(e,t,n,i);break;case 3:ln(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e)));break;case 12:if(a&2048){ln(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,o=r.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){pt(t,t.return,u)}}else ln(e,t,n,i);break;case 31:ln(e,t,n,i);break;case 13:ln(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?ln(e,t,n,i):bs(e,t):r._visibility&2?ln(e,t,n,i):(r._visibility|=2,Na(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Vd(s,t);break;case 24:ln(e,t,n,i),a&2048&&Ud(t.alternate,t);break;default:ln(e,t,n,i)}}function Na(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,o=n,u=i,h=s.flags;switch(s.tag){case 0:case 11:case 15:Na(r,s,o,u,a),ul(8,s);break;case 23:break;case 22:var m=s.stateNode;s.memoizedState!==null?m._visibility&2?Na(r,s,o,u,a):bs(r,s):(m._visibility|=2,Na(r,s,o,u,a)),a&&h&2048&&Vd(s.alternate,s);break;case 24:Na(r,s,o,u,a),a&&h&2048&&Ud(s.alternate,s);break;default:Na(r,s,o,u,a)}t=t.sibling}}function bs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:bs(n,i),a&2048&&Vd(i.alternate,i);break;case 24:bs(n,i),a&2048&&Ud(i.alternate,i);break;default:bs(n,i)}t=t.sibling}}var ss=8192;function Sa(e,t,n){if(e.subtreeFlags&ss)for(e=e.child;e!==null;)xv(e,t,n),e=e.sibling}function xv(e,t,n){switch(e.tag){case 26:Sa(e,t,n),e.flags&ss&&e.memoizedState!==null&&Rx(n,un,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,t,n);break;case 3:case 4:var i=un;un=nu(e.stateNode.containerInfo),Sa(e,t,n),un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ss,ss=16777216,Sa(e,t,n),ss=i):Sa(e,t,n));break;default:Sa(e,t,n)}}function wv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,Iv(i,e)}wv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nv(e),e=e.sibling}function Nv(e){switch(e.tag){case 0:case 11:case 15:Zr(e),e.flags&2048&&Si(9,e,e.return);break;case 3:Zr(e);break;case 12:Zr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,To(e)):Zr(e);break;default:Zr(e)}}function To(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,Iv(i,e)}wv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Si(8,t,t.return),To(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,To(t));break;default:To(t)}e=e.sibling}}function Iv(e,t){for(;Zt!==null;){var n=Zt;switch(n.tag){case 0:case 11:case 15:Si(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ll(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Zt=i;else t:for(n=e;Zt!==null;){i=Zt;var a=i.sibling,r=i.return;if(_v(i),i===n){Zt=null;break t}if(a!==null){a.return=r,Zt=a;break t}Zt=r}}}var F1={getCacheForType:function(e){var t=oe(Ft),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return oe(Ft).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,dt=0,bt=null,at=null,st=0,gt=0,Le=null,si=!1,xr=!1,Ld=!1,Hn=0,Lt=0,xi=0,Zi=0,kd=0,Be=0,or=0,As=null,Ce=null,rf=!1,Uu=0,Rv=0,Xo=1/0,$o=null,mi=null,Kt=0,gi=null,ur=null,kn=0,sf=0,lf=null,Cv=null,Ss=0,of=null;function Fe(){return dt&2&&st!==0?st&-st:Q.T!==null?Bd():B_()}function Dv(){if(Be===0)if(!(st&536870912)||lt){var e=Bl;Bl<<=1,!(Bl&3932160)&&(Bl=262144),Be=e}else Be=536870912;return e=Ke.current,e!==null&&(e.flags|=32),Be}function Oe(e,t,n){(e===bt&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(cr(e,0),li(e,st,Be,!1)),al(e,n),(!(dt&2)||e!==bt)&&(e===bt&&(!(dt&2)&&(Zi|=n),Lt===4&&li(e,st,Be,!1)),bn(e))}function Ov(e,t,n){if(dt&6)throw Error(k(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||il(e,t),a=i?Q1(e,t):th(e,t,!0),r=i;do{if(a===0){xr&&!i&&li(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Y1(n)){a=th(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;a=As;var u=o.current.memoizedState.isDehydrated;if(u&&(cr(o,s).flags|=256),s=th(o,s,!1),s!==2){if(Ld&&!u){o.errorRecoveryDisabledLanes|=r,Zi|=r,a=4;break t}r=Ce,Ce=a,r!==null&&(Ce===null?Ce=r:Ce.push.apply(Ce,r))}a=s}if(r=!1,a!==2)continue}}if(a===1){cr(e,0),li(e,t,0,!0);break}t:{switch(i=e,r=a,r){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:li(i,t,Be,!si);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(a=Uu+300-ze(),10<a)){if(li(i,t,Be,!si),Su(i,0,!0)!==0)break t;kn=t,i.timeoutHandle=Zv(Rp.bind(null,i,n,Ce,$o,rf,t,Be,Zi,or,si,r,"Throttled",-0,0),a);break t}Rp(i,n,Ce,$o,rf,t,Be,Zi,or,si,r,null,-0,0)}}break}while(!0);bn(e)}function Rp(e,t,n,i,a,r,s,o,u,h,m,p,g,y){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},xv(t,r,p);var R=(r&62914560)===r?Uu-ze():(r&4194048)===r?Rv-ze():0;if(R=Cx(p,R),R!==null){kn=r,e.cancelPendingCommit=R(Dp.bind(null,e,t,r,n,i,a,s,o,u,m,p,null,g,y)),li(e,r,s,!h);return}}Dp(e,t,r,n,i,a,s,o,u)}function Y1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!Ye(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function li(e,t,n,i){t&=~kd,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var r=31-Ge(a),s=1<<r;i[r]=-1,a&=~s}n!==0&&L_(e,n,t)}function Lu(){return dt&6?!0:(cl(0),!1)}function jd(){if(at!==null){if(gt===0)var e=at.return;else e=at,Vn=ga=null,Ad(e),$a=null,ks=0,e=at;for(;e!==null;)hv(e.alternate,e),e=e.return;at=null}}function cr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,fx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),kn=0,jd(),bt=e,at=n=Un(e.current,null),st=t,gt=0,Le=null,si=!1,xr=il(e,t),Ld=!1,or=Be=kd=Zi=xi=Lt=0,Ce=As=null,rf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-Ge(i),r=1<<a;t|=e[a],i&=~r}return Hn=t,Iu(),n}function Mv(e,t){et=null,Q.H=Bs,t===Sr||t===Cu?(t=lp(),gt=3):t===pd?(t=lp(),gt=4):gt=t===Od?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Le=t,at===null&&(Lt=1,Yo(e,We(t,e.current)))}function Vv(){var e=Ke.current;return e===null?!0:(st&4194048)===st?en===null:(st&62914560)===st||st&536870912?e===en:!1}function Uv(){var e=Q.H;return Q.H=Bs,e===null?Bs:e}function Lv(){var e=Q.A;return Q.A=F1,e}function Jo(){Lt=4,si||(st&4194048)!==st&&Ke.current!==null||(xr=!0),!(xi&134217727)&&!(Zi&134217727)||bt===null||li(bt,st,Be,!1)}function th(e,t,n){var i=dt;dt|=2;var a=Uv(),r=Lv();(bt!==e||st!==t)&&($o=null,cr(e,t)),t=!1;var s=Lt;t:do try{if(gt!==0&&at!==null){var o=at,u=Le;switch(gt){case 8:jd(),s=6;break t;case 3:case 2:case 9:case 6:Ke.current===null&&(t=!0);var h=gt;if(gt=0,Le=null,Fa(e,o,u,h),n&&xr){s=0;break t}break;default:h=gt,gt=0,Le=null,Fa(e,o,u,h)}}K1(),s=Lt;break}catch(m){Mv(e,m)}while(!0);return t&&e.shellSuspendCounter++,Vn=ga=null,dt=i,Q.H=a,Q.A=r,at===null&&(bt=null,st=0,Iu()),s}function K1(){for(;at!==null;)kv(at)}function Q1(e,t){var n=dt;dt|=2;var i=Uv(),a=Lv();bt!==e||st!==t?($o=null,Xo=ze()+500,cr(e,t)):xr=il(e,t);t:do try{if(gt!==0&&at!==null){t=at;var r=Le;e:switch(gt){case 1:gt=0,Le=null,Fa(e,t,r,1);break;case 2:case 9:if(sp(r)){gt=0,Le=null,Cp(t);break}t=function(){gt!==2&&gt!==9||bt!==e||(gt=7),bn(e)},r.then(t,t);break t;case 3:gt=7;break t;case 4:gt=5;break t;case 7:sp(r)?(gt=0,Le=null,Cp(t)):(gt=0,Le=null,Fa(e,t,r,7));break;case 5:var s=null;switch(at.tag){case 26:s=at.memoizedState;case 5:case 27:var o=at;if(s?iT(s):o.stateNode.complete){gt=0,Le=null;var u=o.sibling;if(u!==null)at=u;else{var h=o.return;h!==null?(at=h,ku(h)):at=null}break e}}gt=0,Le=null,Fa(e,t,r,5);break;case 6:gt=0,Le=null,Fa(e,t,r,6);break;case 8:jd(),Lt=6;break t;default:throw Error(k(462))}}X1();break}catch(m){Mv(e,m)}while(!0);return Vn=ga=null,Q.H=i,Q.A=a,dt=n,at!==null?0:(bt=null,st=0,Iu(),Lt)}function X1(){for(;at!==null&&!_S();)kv(at)}function kv(e){var t=cv(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?ku(e):at=t}function Cp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ap(n,t,t.pendingProps,t.type,void 0,st);break;case 11:t=Ap(n,t,t.pendingProps,t.type.render,t.ref,st);break;case 5:Ad(t);default:hv(n,t),t=at=hE(t,Hn),t=cv(n,t,Hn)}e.memoizedProps=e.pendingProps,t===null?ku(e):at=t}function Fa(e,t,n,i){Vn=ga=null,Ad(t),$a=null,ks=0;var a=t.return;try{if(k1(e,a,t,n,st)){Lt=1,Yo(e,We(n,e.current)),at=null;return}}catch(r){if(a!==null)throw at=a,r;Lt=1,Yo(e,We(n,e.current)),at=null;return}t.flags&32768?(lt||i===1?e=!0:xr||st&536870912?e=!1:(si=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ke.current,i!==null&&i.tag===13&&(i.flags|=16384))),jv(t,e)):ku(t)}function ku(e){var t=e;do{if(t.flags&32768){jv(t,si);return}e=t.return;var n=P1(t.alternate,t,Hn);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);Lt===0&&(Lt=5)}function jv(e,t){do{var n=z1(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);Lt=6,at=null}function Dp(e,t,n,i,a,r,s,o,u){e.cancelPendingCommit=null;do ju();while(Kt!==0);if(dt&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(r=t.lanes|t.childLanes,r|=ud,IS(e,n,r,s,o,u),e===bt&&(at=bt=null,st=0),ur=t,gi=e,kn=n,sf=r,lf=a,Cv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,W1(Uo,function(){return Gv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,a=mt.p,mt.p=2,s=dt,dt|=4;try{H1(e,t,n)}finally{dt=s,mt.p=a,Q.T=i}}Kt=1,Bv(),Pv(),zv()}}function Bv(){if(Kt===1){Kt=0;var e=gi,t=ur,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=mt.p;mt.p=2;var a=dt;dt|=4;try{bv(t,e);var r=ff,s=iE(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&nE(o.ownerDocument.documentElement,o)){if(u!==null&&od(o)){var h=u.start,m=u.end;if(m===void 0&&(m=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(m,o.value.length);else{var p=o.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var y=g.getSelection(),R=o.textContent.length,I=Math.min(u.start,R),C=u.end===void 0?I:Math.min(u.end,R);!y.extend&&I>C&&(s=C,C=I,I=s);var S=Wg(o,I),T=Wg(o,C);if(S&&T&&(y.rangeCount!==1||y.anchorNode!==S.node||y.anchorOffset!==S.offset||y.focusNode!==T.node||y.focusOffset!==T.offset)){var w=p.createRange();w.setStart(S.node,S.offset),y.removeAllRanges(),I>C?(y.addRange(w),y.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),y.addRange(w))}}}}for(p=[],y=o;y=y.parentNode;)y.nodeType===1&&p.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var M=p[o];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}ru=!!hf,ff=hf=null}finally{dt=a,mt.p=i,Q.T=n}}e.current=t,Kt=2}}function Pv(){if(Kt===2){Kt=0;var e=gi,t=ur,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=mt.p;mt.p=2;var a=dt;dt|=4;try{yv(e,t.alternate,t)}finally{dt=a,mt.p=i,Q.T=n}}Kt=3}}function zv(){if(Kt===4||Kt===3){Kt=0,ES();var e=gi,t=ur,n=kn,i=Cv;t.subtreeFlags&10256||t.flags&10256?Kt=5:(Kt=0,ur=gi=null,Hv(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(mi=null),ed(n),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(nl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,a=mt.p,mt.p=2,Q.T=null;try{for(var r=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];r(o.value,{componentStack:o.stack})}}finally{Q.T=t,mt.p=a}}kn&3&&ju(),bn(e),a=e.pendingLanes,n&261930&&a&42?e===of?Ss++:(Ss=0,of=e):Ss=0,cl(0)}}function Hv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ll(t)))}function ju(){return Bv(),Pv(),zv(),Gv()}function Gv(){if(Kt!==5)return!1;var e=gi,t=sf;sf=0;var n=ed(kn),i=Q.T,a=mt.p;try{mt.p=32>n?32:n,Q.T=null,n=lf,lf=null;var r=gi,s=kn;if(Kt=0,ur=gi=null,kn=0,dt&6)throw Error(k(331));var o=dt;if(dt|=4,Nv(r.current),Sv(r,r.current,s,n),dt=o,cl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(nl,r)}catch{}return!0}finally{mt.p=a,Q.T=i,Hv(e,t)}}function Op(e,t,n){t=We(n,t),t=tf(e.stateNode,t,2),e=di(e,t,2),e!==null&&(al(e,2),bn(e))}function pt(e,t,n){if(e.tag===3)Op(e,e,n);else for(;t!==null;){if(t.tag===3){Op(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mi===null||!mi.has(i))){e=We(n,e),n=av(2),i=di(t,n,2),i!==null&&(rv(n,i,t,e),al(i,2),bn(i));break}}t=t.return}}function eh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new q1;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(Ld=!0,a.add(n),e=$1.bind(null,e,t,n),t.then(e,e))}function $1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,bt===e&&(st&n)===n&&(Lt===4||Lt===3&&(st&62914560)===st&&300>ze()-Uu?!(dt&2)&&cr(e,0):kd|=n,or===st&&(or=0)),bn(e)}function Fv(e,t){t===0&&(t=U_()),e=ma(e,t),e!==null&&(al(e,t),bn(e))}function J1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fv(e,n)}function Z1(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(t),Fv(e,n)}function W1(e,t){return Wf(e,t)}var Zo=null,Ia=null,uf=!1,Wo=!1,nh=!1,oi=0;function bn(e){e!==Ia&&e.next===null&&(Ia===null?Zo=Ia=e:Ia=Ia.next=e),Wo=!0,uf||(uf=!0,ex())}function cl(e,t){if(!nh&&Wo){nh=!0;do for(var n=!1,i=Zo;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var s=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-Ge(42|e)+1)-1,r&=a&~(s&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Mp(i,r))}else r=st,r=Su(i,i===bt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||il(i,r)||(n=!0,Mp(i,r));i=i.next}while(n);nh=!1}}function tx(){qv()}function qv(){Wo=uf=!1;var e=0;oi!==0&&hx()&&(e=oi);for(var t=ze(),n=null,i=Zo;i!==null;){var a=i.next,r=Yv(i,t);r===0?(i.next=null,n===null?Zo=a:n.next=a,a===null&&(Ia=n)):(n=i,(e!==0||r&3)&&(Wo=!0)),i=a}Kt!==0&&Kt!==5||cl(e),oi!==0&&(oi=0)}function Yv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-Ge(r),o=1<<s,u=a[s];u===-1?(!(o&n)||o&i)&&(a[s]=NS(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=bt,n=st,n=Su(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Cc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||il(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Cc(i),ed(n)){case 2:case 8:n=M_;break;case 32:n=Uo;break;case 268435456:n=V_;break;default:n=Uo}return i=Kv.bind(null,e),n=Wf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Cc(i),e.callbackPriority=2,e.callbackNode=null,2}function Kv(e,t){if(Kt!==0&&Kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ju()&&e.callbackNode!==n)return null;var i=st;return i=Su(e,e===bt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ov(e,i,t),Yv(e,ze()),e.callbackNode!=null&&e.callbackNode===n?Kv.bind(null,e):null)}function Mp(e,t){if(ju())return null;Ov(e,t,!0)}function ex(){dx(function(){dt&6?Wf(O_,tx):qv()})}function Bd(){if(oi===0){var e=rr;e===0&&(e=jl,jl<<=1,!(jl&261888)&&(jl=256)),oi=e}return oi}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function Up(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function nx(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var r=Vp((a[Me]||null).action),s=i.submitter;s&&(t=(t=s[Me]||null)?Vp(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var o=new xu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(oi!==0){var u=s?Up(a,s):new FormData(a);Zh(n,{pending:!0,data:u,method:a.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=s?Up(a,s):new FormData(a),Zh(n,{pending:!0,data:u,method:a.method,action:r},r,u))},currentTarget:a}]})}}for(var ih=0;ih<Ph.length;ih++){var ah=Ph[ih],ix=ah.toLowerCase(),ax=ah[0].toUpperCase()+ah.slice(1);cn(ix,"on"+ax)}cn(rE,"onAnimationEnd");cn(sE,"onAnimationIteration");cn(lE,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(v1,"onTransitionRun");cn(T1,"onTransitionStart");cn(b1,"onTransitionCancel");cn(oE,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ps));function Qv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(m){ko(m)}a.currentTarget=null,r=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,h=o.currentTarget,o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(m){ko(m)}a.currentTarget=null,r=u}}}}function it(e,t){var n=t[Oh];n===void 0&&(n=t[Oh]=new Set);var i=e+"__bubble";n.has(i)||(Xv(t,e,2,!1),n.add(i))}function rh(e,t,n){var i=0;t&&(i|=4),Xv(n,e,i,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[Ql]){e[Ql]=!0,P_.forEach(function(n){n!=="selectionchange"&&(rx.has(n)||rh(n,!1,e),rh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,rh("selectionchange",!1,t))}}function Xv(e,t,n,i){switch(oT(t)){case 2:var a=Mx;break;case 8:a=Vx;break;default:a=Fd}n=a.bind(null,t,n,e),a=void 0,!kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function sh(e,t,n,i,a){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Ua(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=r=s;continue t}o=o.parentNode}}i=i.return}Q_(function(){var h=r,m=ad(n),p=[];t:{var g=uE.get(e);if(g!==void 0){var y=xu,R=e;switch(e){case"keypress":if(mo(n)===0)break t;case"keydown":case"keyup":y=ZS;break;case"focusin":R="focus",y=Uc;break;case"focusout":R="blur",y=Uc;break;case"beforeblur":case"afterblur":y=Uc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=PS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=e1;break;case rE:case sE:case lE:y=GS;break;case oE:y=i1;break;case"scroll":case"scrollend":y=jS;break;case"wheel":y=r1;break;case"copy":case"cut":case"paste":y=qS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=qg;break;case"toggle":case"beforetoggle":y=l1}var I=(t&4)!==0,C=!I&&(e==="scroll"||e==="scrollend"),S=I?g!==null?g+"Capture":null:g;I=[];for(var T=h,w;T!==null;){var M=T;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||S===null||(M=Os(T,S),M!=null&&I.push(zs(T,M,w))),C)break;T=T.return}0<I.length&&(g=new y(g,R,null,n,m),p.push({event:g,listeners:I}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Lh&&(R=n.relatedTarget||n.fromElement)&&(Ua(R)||R[Tr]))break t;if((y||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,y?(R=n.relatedTarget||n.toElement,y=h,R=R?Ua(R):null,R!==null&&(C=el(R),I=R.tag,R!==C||I!==5&&I!==27&&I!==6)&&(R=null)):(y=null,R=h),y!==R)){if(I=Gg,M="onMouseLeave",S="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(I=qg,M="onPointerLeave",S="onPointerEnter",T="pointer"),C=y==null?g:as(y),w=R==null?g:as(R),g=new I(M,T+"leave",y,n,m),g.target=C,g.relatedTarget=w,M=null,Ua(m)===h&&(I=new I(S,T+"enter",R,n,m),I.target=w,I.relatedTarget=C,M=I),C=M,y&&R)e:{for(I=sx,S=y,T=R,w=0,M=S;M;M=I(M))w++;M=0;for(var z=T;z;z=I(z))M++;for(;0<w-M;)S=I(S),w--;for(;0<M-w;)T=I(T),M--;for(;w--;){if(S===T||T!==null&&S===T.alternate){I=S;break e}S=I(S),T=I(T)}I=null}else I=null;y!==null&&Lp(p,g,y,I,!1),R!==null&&C!==null&&Lp(p,C,R,I,!0)}}t:{if(g=h?as(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var U=Xg;else if(Qg(g))if(tE)U=y1;else{U=g1;var b=m1}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&id(h.elementType)&&(U=Xg):U=p1;if(U&&(U=U(e,h))){W_(p,U,n,m);break t}b&&b(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&Uh(g,"number",g.value)}switch(b=h?as(h):window,e){case"focusin":(Qg(b)||b.contentEditable==="true")&&(ja=b,jh=h,gs=null);break;case"focusout":gs=jh=ja=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,tp(p,n,m);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":tp(p,n,m)}var E;if(ld)t:{switch(e){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else ka?J_(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&($_&&n.locale!=="ko"&&(ka||v!=="onCompositionStart"?v==="onCompositionEnd"&&ka&&(E=X_()):(ri=m,rd="value"in ri?ri.value:ri.textContent,ka=!0)),b=tu(h,v),0<b.length&&(v=new Fg(v,e,null,n,m),p.push({event:v,listeners:b}),E?v.data=E:(E=Z_(n),E!==null&&(v.data=E)))),(E=u1?c1(e,n):h1(e,n))&&(v=tu(h,"onBeforeInput"),0<v.length&&(b=new Fg("onBeforeInput","beforeinput",null,n,m),p.push({event:b,listeners:v}),b.data=E)),nx(p,e,h,n,m)}Qv(p,t)})}function zs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tu(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=Os(e,n),a!=null&&i.unshift(zs(e,a,r)),a=Os(e,t),a!=null&&i.push(zs(e,a,r))),e.tag===3)return i;e=e.return}return[]}function sx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lp(e,t,n,i,a){for(var r=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=Os(n,r),h!=null&&s.unshift(zs(n,h,u))):a||(h=Os(n,r),h!=null&&s.push(zs(n,h,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var lx=/\r\n?/g,ox=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(lx,`
`).replace(ox,"")}function $v(e,t){return t=kp(t),kp(e)===t}function _t(e,t,n,i,a,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ar(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ar(e,""+i);break;case"className":zl(e,"class",i);break;case"tabIndex":zl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,n,i);break;case"style":K_(e,i,r);break;case"data":if(t!=="object"){zl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ho(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&_t(e,t,"name",a.name,a,null),_t(e,t,"formEncType",a.formEncType,a,null),_t(e,t,"formMethod",a.formMethod,a,null),_t(e,t,"formTarget",a.formTarget,a,null)):(_t(e,t,"encType",a.encType,a,null),_t(e,t,"method",a.method,a,null),_t(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ho(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Mn);break;case"onScroll":i!=null&&it("scroll",e);break;case"onScrollEnd":i!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ho(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":it("beforetoggle",e),it("toggle",e),co(e,"popover",i);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":co(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=LS.get(n)||n,co(e,n,i))}}function cf(e,t,n,i,a,r){switch(n){case"style":K_(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ar(e,i):(typeof i=="number"||typeof i=="bigint")&&ar(e,""+i);break;case"onScroll":i!=null&&it("scroll",e);break;case"onScrollEnd":i!=null&&it("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!z_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[Me]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):co(e,n,i)}}}function ue(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:_t(e,t,r,s,n,null)}}a&&_t(e,t,"srcSet",n.srcSet,n,null),i&&_t(e,t,"src",n.src,n,null);return;case"input":it("invalid",e);var o=r=s=a=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":a=m;break;case"type":s=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:_t(e,t,i,m,n,null)}}F_(e,r,o,u,h,s,a,!1);return;case"select":it("invalid",e),i=s=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:_t(e,t,a,o,n,null)}t=r,n=s,e.multiple=!!i,t!=null?Ka(e,!!i,t,!1):n!=null&&Ka(e,!!i,n,!0);return;case"textarea":it("invalid",e),r=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(k(91));break;default:_t(e,t,s,o,n,null)}Y_(e,i,a,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:_t(e,t,u,i,n,null)}return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(i=0;i<Ps.length;i++)it(Ps[i],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:_t(e,t,h,i,n,null)}return;default:if(id(t)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&cf(e,t,m,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&_t(e,t,o,i,n,null))}function ux(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,s=null,o=null,u=null,h=null,m=null;for(y in n){var p=n[y];if(n.hasOwnProperty(y)&&p!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(y)||_t(e,t,y,null,i,p)}}for(var g in i){var y=i[g];if(p=n[g],i.hasOwnProperty(g)&&(y!=null||p!=null))switch(g){case"type":r=y;break;case"name":a=y;break;case"checked":h=y;break;case"defaultChecked":m=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(k(137,t));break;default:y!==p&&_t(e,t,g,y,i,p)}}Vh(e,s,o,u,h,m,r,a);return;case"select":y=s=o=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(r)||_t(e,t,r,null,i,u)}for(a in i)if(r=i[a],u=n[a],i.hasOwnProperty(a)&&(r!=null||u!=null))switch(a){case"value":g=r;break;case"defaultValue":o=r;break;case"multiple":s=r;default:r!==u&&_t(e,t,a,r,i,u)}t=o,n=s,i=y,g!=null?Ka(e,!!n,g,!1):!!i!=!!n&&(t!=null?Ka(e,!!n,t,!0):Ka(e,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:_t(e,t,o,null,i,a)}for(s in i)if(a=i[s],r=n[s],i.hasOwnProperty(s)&&(a!=null||r!=null))switch(s){case"value":g=a;break;case"defaultValue":y=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(k(91));break;default:a!==r&&_t(e,t,s,a,i,r)}q_(e,g,y);return;case"option":for(var R in n)if(g=n[R],n.hasOwnProperty(R)&&g!=null&&!i.hasOwnProperty(R))switch(R){case"selected":e.selected=!1;break;default:_t(e,t,R,null,i,g)}for(u in i)if(g=i[u],y=n[u],i.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:_t(e,t,u,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I)&&_t(e,t,I,null,i,g);for(h in i)if(g=i[h],y=n[h],i.hasOwnProperty(h)&&g!==y&&(g!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(k(137,t));break;default:_t(e,t,h,g,i,y)}return;default:if(id(t)){for(var C in n)g=n[C],n.hasOwnProperty(C)&&g!==void 0&&!i.hasOwnProperty(C)&&cf(e,t,C,void 0,i,g);for(m in i)g=i[m],y=n[m],!i.hasOwnProperty(m)||g===y||g===void 0&&y===void 0||cf(e,t,m,g,i,y);return}}for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!i.hasOwnProperty(S)&&_t(e,t,S,null,i,g);for(p in i)g=i[p],y=n[p],!i.hasOwnProperty(p)||g===y||g==null&&y==null||_t(e,t,p,g,i,y)}function jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,s=a.initiatorType,o=a.duration;if(r&&o&&jp(s)){for(s=0,o=a.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var m=u.transferSize,p=u.initiatorType;m&&jp(p)&&(u=u.responseEnd,s+=m*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(r+s)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hf=null,ff=null;function eu(e){return e.nodeType===9?e:e.ownerDocument}function Bp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function df(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lh=null;function hx(){var e=window.event;return e&&e.type==="popstate"?e===lh?!1:(lh=e,!0):(lh=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(mx)}:Zv;function mx(e){setTimeout(function(){throw e})}function Di(e){return e==="head"}function zp(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),fr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")xs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,xs(n);for(var r=n.firstChild;r;){var s=r.nextSibling,o=r.nodeName;r[rl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&xs(e.ownerDocument.body);n=a}while(n);fr(t)}function Hp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function mf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mf(n),nd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function gx(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[rl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=nn(e.nextSibling),e===null)break}return null}function px(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=nn(e.nextSibling),e===null))return null;return e}function Wv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=nn(e.nextSibling),e===null))return null;return e}function gf(e){return e.data==="$?"||e.data==="$~"}function pf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yf=null;function Gp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function tT(e,t,n){switch(t=eu(n),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);nd(e)}var an=new Map,qp=new Set;function nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=mt.d;mt.d={f:_x,r:Ex,D:vx,C:Tx,L:bx,m:Ax,X:xx,S:Sx,M:wx};function _x(){var e=Yn.f(),t=Lu();return e||t}function Ex(e){var t=br(e);t!==null&&t.tag===5&&t.type==="form"?KE(t):Yn.r(e)}var wr=typeof document>"u"?null:document;function eT(e,t,n){var i=wr;if(i&&typeof t=="string"&&t){var a=Ze(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),qp.has(a)||(qp.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),ue(t,"link",e),Wt(t),i.head.appendChild(t)))}}function vx(e){Yn.D(e),eT("dns-prefetch",e,null)}function Tx(e,t){Yn.C(e,t),eT("preconnect",e,t)}function bx(e,t,n){Yn.L(e,t,n);var i=wr;if(i&&e&&t){var a='link[rel="preload"][as="'+Ze(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Ze(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Ze(n.imageSizes)+'"]')):a+='[href="'+Ze(e)+'"]';var r=a;switch(t){case"style":r=hr(e);break;case"script":r=Nr(e)}an.has(r)||(e=It({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),an.set(r,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(hl(r))||t==="script"&&i.querySelector(fl(r))||(t=i.createElement("link"),ue(t,"link",e),Wt(t),i.head.appendChild(t)))}}function Ax(e,t){Yn.m(e,t);var n=wr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Ze(i)+'"][href="'+Ze(e)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Nr(e)}if(!an.has(r)&&(e=It({rel:"modulepreload",href:e},t),an.set(r,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fl(r)))return}i=n.createElement("link"),ue(i,"link",e),Wt(i),n.head.appendChild(i)}}}function Sx(e,t,n){Yn.S(e,t,n);var i=wr;if(i&&e){var a=Ya(i).hoistableStyles,r=hr(e);t=t||"default";var s=a.get(r);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(hl(r)))o.loading=5;else{e=It({rel:"stylesheet",href:e,"data-precedence":t},n),(n=an.get(r))&&zd(e,n);var u=s=i.createElement("link");Wt(u),ue(u,"link",e),u._p=new Promise(function(h,m){u.onload=h,u.onerror=m}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,bo(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(r,s)}}}function xx(e,t){Yn.X(e,t);var n=wr;if(n&&e){var i=Ya(n).hoistableScripts,a=Nr(e),r=i.get(a);r||(r=n.querySelector(fl(a)),r||(e=It({src:e,async:!0},t),(t=an.get(a))&&Hd(e,t),r=n.createElement("script"),Wt(r),ue(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function wx(e,t){Yn.M(e,t);var n=wr;if(n&&e){var i=Ya(n).hoistableScripts,a=Nr(e),r=i.get(a);r||(r=n.querySelector(fl(a)),r||(e=It({src:e,async:!0,type:"module"},t),(t=an.get(a))&&Hd(e,t),r=n.createElement("script"),Wt(r),ue(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function Yp(e,t,n,i){var a=(a=ci.current)?nu(a):null;if(!a)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hr(n.href),n=Ya(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hr(n.href);var r=Ya(a).hoistableStyles,s=r.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=a.querySelector(hl(e)))&&!r._p&&(s.instance=r,s.state.loading=5),an.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},an.set(e,n),r||Nx(a,e,n,s.state))),t&&i===null)throw Error(k(528,""));return s}if(t&&i!==null)throw Error(k(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nr(n),n=Ya(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function hr(e){return'href="'+Ze(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function nT(e){return It({},e,{"data-precedence":e.precedence,precedence:null})}function Nx(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ue(t,"link",n),Wt(t),e.head.appendChild(t))}function Nr(e){return'[src="'+Ze(e)+'"]'}function fl(e){return"script[async]"+e}function Kp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ze(n.href)+'"]');if(i)return t.instance=i,Wt(i),i;var a=It({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Wt(i),ue(i,"style",a),bo(i,n.precedence,e),t.instance=i;case"stylesheet":a=hr(n.href);var r=e.querySelector(hl(a));if(r)return t.state.loading|=4,t.instance=r,Wt(r),r;i=nT(n),(a=an.get(a))&&zd(i,a),r=(e.ownerDocument||e).createElement("link"),Wt(r);var s=r;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ue(r,"link",i),t.state.loading|=4,bo(r,n.precedence,e),t.instance=r;case"script":return r=Nr(n.src),(a=e.querySelector(fl(r)))?(t.instance=a,Wt(a),a):(i=n,(a=an.get(r))&&(i=It({},n),Hd(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),Wt(a),ue(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,bo(i,n.precedence,e));return t.instance}function bo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ao=null;function Qp(e,t,n){if(Ao===null){var i=new Map,a=Ao=new Map;a.set(n,i)}else a=Ao,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[rl]||r[re]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(r):i.set(s,[r])}}return i}function Xp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ix(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function iT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Rx(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=hr(i.href),r=t.querySelector(hl(a));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=iu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Wt(r);return}r=t.ownerDocument||t,i=nT(i),(a=an.get(a))&&zd(i,a),r=r.createElement("link"),Wt(r);var s=r;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ue(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=iu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var oh=0;function Cx(e,t){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&oh===0&&(oh=62500*cx());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var au=null;function So(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,au=new Map,t.forEach(Dx,e),au=null,iu.call(e))}function Dx(e,t){if(!(t.state.loading&4)){var n=au.get(e);if(n)var i=n.get(null);else{n=new Map,au.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var s=a[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}a=t.instance,s=a.getAttribute("data-precedence"),r=n.get(s)||i,r===i&&n.set(null,a),n.set(s,a),this.count++,i=iu.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Hs={$$typeof:On,Provider:null,Consumer:null,_currentValue:Qi,_currentValue2:Qi,_threadCount:0};function Ox(e,t,n,i,a,r,s,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.hiddenUpdates=Dc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function aT(e,t,n,i,a,r,s,o,u,h,m,p){return e=new Ox(e,t,n,s,u,h,m,p,o),t=1,r===!0&&(t|=24),r=je(3,null,null,t),e.current=r,r.stateNode=e,t=md(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},yd(r),e}function rT(e){return e?(e=za,e):za}function sT(e,t,n,i,a,r){a=rT(a),i.context===null?i.context=a:i.pendingContext=a,i=fi(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=di(e,i,t),n!==null&&(Oe(n,e,t),ys(n,e,t))}function $p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gd(e,t){$p(e,t),(e=e.alternate)&&$p(e,t)}function lT(e){if(e.tag===13||e.tag===31){var t=ma(e,67108864);t!==null&&Oe(t,e,67108864),Gd(e,67108864)}}function Jp(e){if(e.tag===13||e.tag===31){var t=Fe();t=td(t);var n=ma(e,t);n!==null&&Oe(n,e,t),Gd(e,t)}}var ru=!0;function Mx(e,t,n,i){var a=Q.T;Q.T=null;var r=mt.p;try{mt.p=2,Fd(e,t,n,i)}finally{mt.p=r,Q.T=a}}function Vx(e,t,n,i){var a=Q.T;Q.T=null;var r=mt.p;try{mt.p=8,Fd(e,t,n,i)}finally{mt.p=r,Q.T=a}}function Fd(e,t,n,i){if(ru){var a=_f(i);if(a===null)sh(e,t,i,su,n),Zp(e,i);else if(Lx(a,e,t,n,i))i.stopPropagation();else if(Zp(e,i),t&4&&-1<Ux.indexOf(e)){for(;a!==null;){var r=br(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=Hi(r.pendingLanes);if(s!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-Ge(s);o.entanglements[1]|=u,s&=~u}bn(r),!(dt&6)&&(Xo=ze()+500,cl(0))}}break;case 31:case 13:o=ma(r,2),o!==null&&Oe(o,r,2),Lu(),Gd(r,2)}if(r=_f(i),r===null&&sh(e,t,i,su,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else sh(e,t,i,null,n)}}function _f(e){return e=ad(e),qd(e)}var su=null;function qd(e){if(su=null,e=Ua(e),e!==null){var t=el(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=N_(t),e!==null)return e;e=null}else if(n===31){if(e=I_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return su=e,null}function oT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vS()){case O_:return 2;case M_:return 8;case Uo:case TS:return 32;case V_:return 268435456;default:return 32}default:return 32}}var Ef=!1,pi=null,yi=null,_i=null,Gs=new Map,Fs=new Map,ii=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(e,t){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Wr(e,t,n,i,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},t!==null&&(t=br(t),t!==null&&lT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Lx(e,t,n,i,a){switch(t){case"focusin":return pi=Wr(pi,e,t,n,i,a),!0;case"dragenter":return yi=Wr(yi,e,t,n,i,a),!0;case"mouseover":return _i=Wr(_i,e,t,n,i,a),!0;case"pointerover":var r=a.pointerId;return Gs.set(r,Wr(Gs.get(r)||null,e,t,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,Fs.set(r,Wr(Fs.get(r)||null,e,t,n,i,a)),!0}return!1}function uT(e){var t=Ua(e.target);if(t!==null){var n=el(t);if(n!==null){if(t=n.tag,t===13){if(t=N_(n),t!==null){e.blockedOn=t,Lg(e.priority,function(){Jp(n)});return}}else if(t===31){if(t=I_(n),t!==null){e.blockedOn=t,Lg(e.priority,function(){Jp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_f(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Lh=i,n.target.dispatchEvent(i),Lh=null}else return t=br(n),t!==null&&lT(t),e.blockedOn=n,!1;t.shift()}return!0}function Wp(e,t,n){xo(e)&&n.delete(t)}function kx(){Ef=!1,pi!==null&&xo(pi)&&(pi=null),yi!==null&&xo(yi)&&(yi=null),_i!==null&&xo(_i)&&(_i=null),Gs.forEach(Wp),Fs.forEach(Wp)}function Xl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ef||(Ef=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,kx)))}var $l=null;function t0(e){$l!==e&&($l=e,$t.unstable_scheduleCallback($t.unstable_NormalPriority,function(){$l===e&&($l=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(qd(i||n)===null)continue;break}var r=br(n);r!==null&&(e.splice(t,3),t-=3,Zh(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function fr(e){function t(u){return Xl(u,e)}pi!==null&&Xl(pi,e),yi!==null&&Xl(yi,e),_i!==null&&Xl(_i,e),Gs.forEach(t),Fs.forEach(t);for(var n=0;n<ii.length;n++){var i=ii[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)uT(n),n.blockedOn===null&&ii.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],s=a[Me]||null;if(typeof r=="function")s||t0(n);else if(s){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,s=r[Me]||null)o=s.formAction;else if(qd(a)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),t0(n)}}}function cT(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Yd(e){this._internalRoot=e}Bu.prototype.render=Yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var n=t.current,i=Fe();sT(n,i,e,t,null,null)};Bu.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sT(e.current,2,null,e,null,null),Lu(),t[Tr]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=B_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ii.length&&t!==0&&t<ii[n].priority;n++);ii.splice(n,0,e),n===0&&uT(e)}};var e0=x_.version;if(e0!=="19.2.3")throw Error(k(527,e0,"19.2.3"));mt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=dS(t),e=e!==null?R_(e):null,e=e===null?null:e.stateNode,e};var jx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{nl=Jl.inject(jx),He=Jl}catch{}}bu.createRoot=function(e,t){if(!w_(e))throw Error(k(299));var n=!1,i="",a=ev,r=nv,s=iv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=aT(e,1,!1,null,null,n,i,null,a,r,s,cT),e[Tr]=t.current,Pd(e),new Yd(t)};bu.hydrateRoot=function(e,t,n){if(!w_(e))throw Error(k(299));var i=!1,a="",r=ev,s=nv,o=iv,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=aT(e,1,!0,t,n??null,i,a,u,r,s,o,cT),t.context=rT(null),n=t.current,i=Fe(),i=td(i),a=fi(i),a.callback=null,di(n,a,i),n=i,t.current.lanes=n,al(t,n),bn(t),e[Tr]=t.current,Pd(e),new Bu(t)};bu.version="19.2.3";function hT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hT)}catch(e){console.error(e)}}hT(),E_.exports=bu;var Bx=E_.exports;const Px=u_(Bx),zx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),d.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),d.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Hx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),d.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),Kd=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),d.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),Gx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"}),d.jsx("line",{x1:"9",x2:"9",y1:"3",y2:"18"}),d.jsx("line",{x1:"15",x2:"15",y1:"6",y2:"21"})]}),fT=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M5 12h14"}),d.jsx("path",{d:"M12 5v14"})]}),sa=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),Fx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"orange",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("circle",{cx:"12",cy:"12",r:"4"}),d.jsx("path",{d:"M12 2v2"}),d.jsx("path",{d:"M12 20v2"}),d.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),d.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),d.jsx("path",{d:"M2 12h2"}),d.jsx("path",{d:"M20 12h2"}),d.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),d.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),la=({className:e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:d.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),qx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),d.jsx("path",{d:"M16 14v6"}),d.jsx("path",{d:"M8 14v6"}),d.jsx("path",{d:"M12 16v6"})]}),dT=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}),d.jsx("path",{d:"M7 2v20"}),d.jsx("path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"})]}),mT=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"}),d.jsx("circle",{cx:"7",cy:"17",r:"2"}),d.jsx("path",{d:"M9 17h6"}),d.jsx("circle",{cx:"17",cy:"17",r:"2"})]}),gT=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M2 4v16"}),d.jsx("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),d.jsx("path",{d:"M2 17h20"}),d.jsx("path",{d:"M6 8v9"})]}),pT=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),d.jsx("path",{d:"M13 5v2"}),d.jsx("path",{d:"M13 17v2"}),d.jsx("path",{d:"M13 11v2"})]}),uh=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M2 12h20"}),d.jsx("path",{d:"M13 2 9 12h9l4 10"})]}),wo=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("rect",{x:"3",y:"5",width:"6",height:"6",rx:"1"}),d.jsx("path",{d:"m3 17 2 2 4-4"}),d.jsx("path",{d:"M13 6h8"}),d.jsx("path",{d:"M13 12h8"}),d.jsx("path",{d:"M13 18h8"})]}),yT=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),Yx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M6 20h0a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h0"}),d.jsx("path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14"}),d.jsx("path",{d:"M10 20h4"}),d.jsx("circle",{cx:"16",cy:"20",r:"2"}),d.jsx("circle",{cx:"8",cy:"20",r:"2"})]}),Kx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),Qx=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),d.jsx("path",{d:"M12 8v13"}),d.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),d.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]}),ch=({className:e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"m16 3 4 4-4 4"}),d.jsx("path",{d:"M20 7H4"}),d.jsx("path",{d:"m8 21-4-4 4-4"}),d.jsx("path",{d:"M4 17h16"})]});var Xx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var n0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(n0||(n0={}));var i0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(i0||(i0={}));var a0;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(a0||(a0={}));var r0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(r0||(r0={}));var s0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(s0||(s0={}));var l0;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(l0||(l0={}));var o0;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(o0||(o0={}));var u0;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(u0||(u0={}));var c0;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(c0||(c0={}));var h0;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(h0||(h0={}));var f0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(f0||(f0={}));var d0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(d0||(d0={}));var m0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(m0||(m0={}));var g0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(g0||(g0={}));var p0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(p0||(p0={}));var y0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(y0||(y0={}));var _0;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(_0||(_0={}));var E0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(E0||(E0={}));var v0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(v0||(v0={}));var T0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(T0||(T0={}));var b0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(b0||(b0={}));var A0;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(A0||(A0={}));var S0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(S0||(S0={}));var x0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(x0||(x0={}));var w0;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(w0||(w0={}));var N0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(N0||(N0={}));var I0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(I0||(I0={}));var R0;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(R0||(R0={}));var C0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(C0||(C0={}));var D0;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(D0||(D0={}));var O0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(O0||(O0={}));var M0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(M0||(M0={}));var V0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(V0||(V0={}));var U0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(U0||(U0={}));var L0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(L0||(L0={}));var k0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(k0||(k0={}));var j0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(j0||(j0={}));var B0;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(B0||(B0={}));var P0;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(P0||(P0={}));var z0;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(z0||(z0={}));var H0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(H0||(H0={}));var G0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(G0||(G0={}));var F0;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(F0||(F0={}));var q0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(q0||(q0={}));var Y0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Y0||(Y0={}));var K0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(K0||(K0={}));var Q0;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Q0||(Q0={}));var X0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(X0||(X0={}));var $0;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($0||($0={}));var J0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(J0||(J0={}));var Z0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Z0||(Z0={}));var W0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(W0||(W0={}));var ty;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ty||(ty={}));var ey;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ey||(ey={}));var ny;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ny||(ny={}));var iy;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(iy||(iy={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ay;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ay||(ay={}));function lu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function ry(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(e){return this instanceof Ot?(this.v=e,this):new Ot(e)}function ws(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,r=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(y){return function(R){return Promise.resolve(R).then(y,p)}}function o(y,R){i[y]&&(a[y]=function(I){return new Promise(function(C,S){r.push([y,I,C,S])>1||u(y,I)})},R&&(a[y]=R(a[y])))}function u(y,R){try{h(i[y](R))}catch(I){g(r[0][3],I)}}function h(y){y.value instanceof Ot?Promise.resolve(y.value.v).then(m,p):g(r[0][2],y)}function m(y){u("next",y)}function p(y){u("throw",y)}function g(y,R){y(R),r.shift(),r.length&&u(r[0][0],r[0][1])}}function Wa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ry=="function"?ry(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=e[r]&&function(s){return new Promise(function(o,u){s=e[r](s),a(o,u,s.done,s.value)})}}function a(r,s,o,u){Promise.resolve(u).then(function(h){r({value:h,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _T=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return _T=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const $x=()=>_T();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vf(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Tf=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rn extends Error{}class Se extends rn{constructor(t,n,i,a){super(`${Se.makeMessage(t,n,i)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,i){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,i,a){if(!t||!a)return new Pu({message:i,cause:Tf(n)});const r=n;return t===400?new vT(t,r,i,a):t===401?new TT(t,r,i,a):t===403?new bT(t,r,i,a):t===404?new AT(t,r,i,a):t===409?new ST(t,r,i,a):t===422?new xT(t,r,i,a):t===429?new wT(t,r,i,a):t>=500?new NT(t,r,i,a):new Se(t,r,i,a)}}class bf extends Se{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Pu extends Se{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ET extends Pu{constructor({message:t}={}){super({message:t??"Request timed out."})}}class vT extends Se{}class TT extends Se{}class bT extends Se{}class AT extends Se{}class ST extends Se{}class xT extends Se{}class wT extends Se{}class NT extends Se{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jx=/^[a-z][a-z0-9+.-]*:/i,Zx=e=>Jx.test(e);let Af=e=>(Af=Array.isArray,Af(e));const Wx=Af;let tw=Wx;const sy=tw;function ew(e){if(!e)return!0;for(const t in e)return!1;return!0}function nw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const iw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new rn(`${e} must be an integer`);if(t<0)throw new rn(`${e} must be a positive integer`);return t},aw=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rw=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ra="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lw=()=>{var e,t,n,i,a;const r=sw();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":oy(Deno.build.os),"X-Stainless-Arch":ly(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":oy((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ly((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const s=ow();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ow(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const a=i[1]||0,r=i[2]||0,s=i[3]||0;return{browser:t,version:`${a}.${r}.${s}`}}}return null}const ly=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",oy=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Zl;const uw=()=>Zl??(Zl=lw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function IT(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function hw(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return IT({start(){},async pull(n){const{done:i,value:a}=await t.next();i?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function RT(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fw(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dw=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CT=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hh(e,t,n){return CT(),new File(e,t??"unknown_file",n)}function mw(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const gw=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DT=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",pw=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&DT(e),yw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function _w(e,t,n){if(CT(),e=await e,pw(e))return e instanceof File?e:hh([await e.arrayBuffer()],e.name);if(yw(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),hh(await Sf(a),t,n)}const i=await Sf(e);if(t||(t=mw(e)),!(n!=null&&n.type)){const a=i.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return hh(i,t,n)}async function Sf(e){var t,n,i,a,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(DT(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(gw(e))try{for(var o=!0,u=Wa(e),h;h=await u.next(),t=h.done,!t;o=!0){a=h.value,o=!1;const m=a;s.push(...await Sf(m))}}catch(m){n={error:m}}finally{try{!o&&!t&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}else{const m=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${m?`; constructor: ${m}`:""}${Ew(e)}`)}return s}function Ew(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OT{constructor(t){this._client=t}}OT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MT(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const uy=Object.freeze(Object.create(null)),vw=(e=MT)=>function(n,...i){if(n.length===1)return n[0];let a=!1;const r=[],s=n.reduce((m,p,g)=>{var y,R,I;/[?#]/.test(p)&&(a=!0);const C=i[g];let S=(a?encodeURIComponent:e)(""+C);return g!==i.length&&(C==null||typeof C=="object"&&C.toString===((I=Object.getPrototypeOf((R=Object.getPrototypeOf((y=C.hasOwnProperty)!==null&&y!==void 0?y:uy))!==null&&R!==void 0?R:uy))===null||I===void 0?void 0:I.toString))&&(S=C+"",r.push({start:m.length+p.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),m+p+(g===i.length?"":S)},""),o=s.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=u.exec(o))!==null;)r.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(r.sort((m,p)=>m.start-p.start),r.length>0){let m=0;const p=r.reduce((g,y)=>{const R=" ".repeat(y.start-m),I="^".repeat(y.length);return m=y.start+y.length,g+R+I},"");throw new rn(`Path parameters result in path with invalid segments:
${r.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s},Wl=vw(MT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VT extends OT{create(t,n){var i;const{api_version:a=this._client.apiVersion}=t,r=lu(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new rn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new rn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wl`/${a}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(Wl`/${a}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(Wl`/${a}/interactions/${t}/cancel`,i)}get(t,n={},i){var a;const r=n??{},{api_version:s=this._client.apiVersion}=r,o=lu(r,["api_version"]);return this._client.get(Wl`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},i),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}VT._key=Object.freeze(["interactions"]);class UT extends VT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tw(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let i=0;for(const a of e)n.set(a,i),i+=a.length;return n}let to;function Qd(e){let t;return(to??(t=new globalThis.TextEncoder,to=t.encode.bind(t)))(e)}let eo;function cy(e){let t;return(eo??(t=new globalThis.TextDecoder,eo=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Qd(t):t;this.buffer=Tw([this.buffer,n]);const i=[];let a;for(;(a=bw(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(cy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,s=cy(this.buffer.subarray(0,r));i.push(s),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}zu.NEWLINE_CHARS=new Set([`
`,"\r"]);zu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bw(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function Aw(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ou={off:0,error:200,warn:300,info:400,debug:500},hy=(e,t,n)=>{if(e){if(nw(ou,e))return e;be(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ou))}`)}};function ls(){}function no(e,t,n){return!t||ou[e]>ou[n]?ls:t[e].bind(t)}const Sw={error:ls,warn:ls,info:ls,debug:ls};let fy=new WeakMap;function be(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Sw;const a=fy.get(n);if(a&&a[0]===i)return a[1];const r={error:no("error",n,i),warn:no("warn",n,i),info:no("info",n,i),debug:no("debug",n,i)};return fy.set(n,[i,r]),r}const qi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qa{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let a=!1;const r=i?be(i):console;function s(){return ws(this,arguments,function*(){var u,h,m,p;if(a)throw new rn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,R=Wa(xw(t,n)),I;I=yield Ot(R.next()),u=I.done,!u;y=!0){p=I.value,y=!1;const C=p;if(!g)if(C.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Ot(JSON.parse(C.data))}catch(S){throw r.error("Could not parse message into JSON:",C.data),r.error("From chunk:",C.raw),S}}}catch(C){h={error:C}}finally{try{!y&&!u&&(m=R.return)&&(yield Ot(m.call(R)))}finally{if(h)throw h.error}}g=!0}catch(C){if(vf(C))return yield Ot(void 0);throw C}finally{g||n.abort()}})}return new qa(s,n,i)}static fromReadableStream(t,n,i){let a=!1;function r(){return ws(this,arguments,function*(){var u,h,m,p;const g=new zu,y=RT(t);try{for(var R=!0,I=Wa(y),C;C=yield Ot(I.next()),u=C.done,!u;R=!0){p=C.value,R=!1;const S=p;for(const T of g.decode(S))yield yield Ot(T)}}catch(S){h={error:S}}finally{try{!R&&!u&&(m=I.return)&&(yield Ot(m.call(I)))}finally{if(h)throw h.error}}for(const S of g.flush())yield yield Ot(S)})}function s(){return ws(this,arguments,function*(){var u,h,m,p;if(a)throw new rn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,R=Wa(r()),I;I=yield Ot(R.next()),u=I.done,!u;y=!0){p=I.value,y=!1;const C=p;g||C&&(yield yield Ot(JSON.parse(C)))}}catch(C){h={error:C}}finally{try{!y&&!u&&(m=R.return)&&(yield Ot(m.call(R)))}finally{if(h)throw h.error}}g=!0}catch(C){if(vf(C))return yield Ot(void 0);throw C}finally{g||n.abort()}})}return new qa(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),a=r=>({next:()=>{if(r.length===0){const s=i.next();t.push(s),n.push(s)}return r.shift()}});return[new qa(()=>a(t),this.controller,this.client),new qa(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return IT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:r}=await n.next();if(r)return i.close();const s=Qd(JSON.stringify(a)+`
`);i.enqueue(s)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function xw(e,t){return ws(this,arguments,function*(){var i,a,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new rn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new rn("Attempted to iterate over a response with no body");const o=new Nw,u=new zu,h=RT(e.body);try{for(var m=!0,p=Wa(ww(h)),g;g=yield Ot(p.next()),i=g.done,!i;m=!0){s=g.value,m=!1;const y=s;for(const R of u.decode(y)){const I=o.decode(R);I&&(yield yield Ot(I))}}}catch(y){a={error:y}}finally{try{!m&&!i&&(r=p.return)&&(yield Ot(r.call(p)))}finally{if(a)throw a.error}}for(const y of u.flush()){const R=o.decode(y);R&&(yield yield Ot(R))}})}function ww(e){return ws(this,arguments,function*(){var n,i,a,r;let s=new Uint8Array;try{for(var o=!0,u=Wa(e),h;h=yield Ot(u.next()),n=h.done,!n;o=!0){r=h.value,o=!1;const m=r;if(m==null)continue;const p=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Qd(m):m;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let y;for(;(y=Aw(s))!==-1;)yield yield Ot(s.slice(0,y)),s=s.slice(y)}}catch(m){i={error:m}}finally{try{!o&&!n&&(a=u.return)&&(yield Ot(a.call(u)))}finally{if(i)throw i.error}}s.length>0&&(yield yield Ot(s))})}class Nw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,a]=Iw(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function Iw(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rw(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:r}=t,s=await(async()=>{var o;if(t.options.stream)return be(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):qa.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const u=n.headers.get("content-type"),h=(o=u==null?void 0:u.split(";")[0])===null||o===void 0?void 0:o.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return be(e).debug(`[${i}] response parsed`,qi({retryOfRequestLogID:a,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xd extends Promise{constructor(t,n,i=Rw){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new Xd(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LT=Symbol("brand.privateNullableHeaders");function*Cw(e){if(!e)return;if(LT in e){const{values:i,nulls:a}=e;yield*i.entries();for(const r of a)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():sy(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const r=sy(i[1])?i[1]:[i[1]];let s=!1;for(const o of r)o!==void 0&&(t&&!s&&(s=!0,yield[a,null]),yield[a,o])}}const ts=e=>{const t=new Headers,n=new Set;for(const i of e){const a=new Set;for(const[r,s]of Cw(i)){const o=r.toLowerCase();a.has(o)||(t.delete(r),a.add(o)),s===null?(t.delete(r),n.add(o)):(t.append(r,s),n.delete(o))}}return{[LT]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fh=e=>{var t,n,i,a,r,s;if(typeof globalThis.process<"u")return(i=(n=(t=Xx)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||r===void 0?void 0:r.call(a,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kT;class Hu{constructor(t){var n,i,a,r,s,o,u,{baseURL:h=fh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=fh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,g=lu(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:m,apiVersion:p},g),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(i=y.timeout)!==null&&i!==void 0?i:Hu.DEFAULT_TIMEOUT,this.logger=(a=y.logger)!==null&&a!==void 0?a:console;const R="warn";this.logLevel=R,this.logLevel=(s=(r=hy(y.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:hy(fh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:R,this.fetchOptions=y.fetchOptions,this.maxRetries=(o=y.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(u=y.fetch)!==null&&u!==void 0?u:cw(),this.encoder=dw,this._options=y,this.apiKey=m,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=ts([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ts([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ts([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new rn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ra}`}defaultIdempotencyKey(){return`stainless-node-retry-${$x()}`}makeStatusError(t,n,i,a){return Se.generate(t,n,i,a)}buildURL(t,n,i){const a=!this.baseURLOverridden()&&i||this.baseURL,r=Zx(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return ew(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new Xd(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var a,r,s;const o=await t,u=(a=o.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=u),await this.prepareOptions(o);const{req:h,url:m,timeout:p}=await this.buildRequest(o,{retryCount:u-n});await this.prepareRequest(h,{url:m,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=i===void 0?"":`, retryOf: ${i}`,R=Date.now();if(be(this).debug(`[${g}] sending request`,qi({retryOfRequestLogID:i,method:o.method,url:m,options:o,headers:h.headers})),!((r=o.signal)===null||r===void 0)&&r.aborted)throw new bf;const I=new AbortController,C=await this.fetchWithTimeout(m,h,p,I).catch(Tf),S=Date.now();if(C instanceof globalThis.Error){const w=`retrying, ${n} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new bf;const M=vf(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return be(this).info(`[${g}] connection ${M?"timed out":"failed"} - ${w}`),be(this).debug(`[${g}] connection ${M?"timed out":"failed"} (${w})`,qi({retryOfRequestLogID:i,url:m,durationMs:S-R,message:C.message})),this.retryRequest(o,n,i??g);throw be(this).info(`[${g}] connection ${M?"timed out":"failed"} - error; no more retries left`),be(this).debug(`[${g}] connection ${M?"timed out":"failed"} (error; no more retries left)`,qi({retryOfRequestLogID:i,url:m,durationMs:S-R,message:C.message})),M?new ET:new Pu({cause:C})}const T=`[${g}${y}] ${h.method} ${m} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${S-R}ms`;if(!C.ok){const w=await this.shouldRetry(C);if(n&&w){const v=`retrying, ${n} attempts remaining`;return await fw(C.body),be(this).info(`${T} - ${v}`),be(this).debug(`[${g}] response error (${v})`,qi({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:S-R})),this.retryRequest(o,n,i??g,C.headers)}const M=w?"error; no more retries left":"error; not retryable";be(this).info(`${T} - ${M}`);const z=await C.text().catch(v=>Tf(v).message),U=aw(z),b=U?void 0:z;throw be(this).debug(`[${g}] response error (${M})`,qi({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,message:b,durationMs:Date.now()-R})),this.makeStatusError(C.status,U,b,C.headers)}return be(this).info(T),be(this).debug(`[${g}] response start`,qi({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:S-R})),{response:C,options:o,controller:I,requestLogID:g,retryOfRequestLogID:i,startTime:R}}async fetchWithTimeout(t,n,i,a){const r=n||{},{signal:s,method:o}=r,u=lu(r,["signal","method"]);s&&s.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),i),m=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,p=Object.assign(Object.assign(Object.assign({signal:a.signal},m?{duplex:"half"}:{}),{method:"GET"}),u);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,a){var r;let s;const o=a==null?void 0:a.get("retry-after-ms");if(o){const h=parseFloat(o);Number.isNaN(h)||(s=h)}const u=a==null?void 0:a.get("retry-after");if(u&&!s){const h=parseFloat(u);Number.isNaN(h)?s=Date.parse(u)-Date.now():s=h*1e3}if(!(s&&0<=s&&s<60*1e3)){const h=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,h)}return await rw(s),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,a,r;const s=Object.assign({},t),{method:o,path:u,query:h,defaultBaseURL:m}=s,p=this.buildURL(u,h,m);"timeout"in s&&iw("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),R=await this.buildHeaders({options:t,method:o,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:R},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:a}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=ts([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),uw()),this._options.defaultHeaders,i,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=ts([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:hw(t)}:this.encoder({body:t,headers:i})}}Hu.DEFAULT_TIMEOUT=6e4;class fe extends Hu{constructor(){super(...arguments),this.interactions=new UT(this)}}kT=fe;fe.GeminiNextGenAPIClient=kT;fe.GeminiNextGenAPIClientError=rn;fe.APIError=Se;fe.APIConnectionError=Pu;fe.APIConnectionTimeoutError=ET;fe.APIUserAbortError=bf;fe.NotFoundError=AT;fe.ConflictError=ST;fe.RateLimitError=wT;fe.BadRequestError=vT;fe.AuthenticationError=TT;fe.InternalServerError=NT;fe.PermissionDeniedError=bT;fe.UnprocessableEntityError=xT;fe.toFile=_w;fe.Interactions=UT;const Dw=async(e,t)=>" ( API Key AI )",Ow=({days:e,setDays:t,onMapClick:n})=>{const[i,a]=X.useState(0),[r,s]=X.useState(!1),[o,u]=X.useState(null),[h,m]=X.useState({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),[p,g]=X.useState(""),[y,R]=X.useState(!1),[I,C]=X.useState(!1),S=X.useRef(null),T=e[i];X.useEffect(()=>{if(e.length===0||I)return;const B=new Date,ft=`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}-${String(B.getDate()).padStart(2,"0")}`,H=e.findIndex(q=>q.date===ft);if(H!==-1)a(H);else{const q=e[e.length-1].date;ft>q&&a(e.length-1)}C(!0)},[e,I]),X.useEffect(()=>{if(S.current){const B=S.current.children;B[i]&&B[i].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[i]);const[w,M]=X.useState((T==null?void 0:T.tips)||"");X.useEffect(()=>{M((T==null?void 0:T.tips)||"")},[T]);const z=()=>{if(w!==T.tips){const B=[...e];B[i].tips=w,t(B)}},U=()=>{u(null),m({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),g(""),s(!0)},b=B=>{u(B),m({...B}),g(""),s(!0)},E=()=>{if(!h.title||!h.time)return;const B=[...e],ft=B[i].events;if(o){const H=ft.findIndex(q=>q.id===o.id);H!==-1&&(ft[H]={...o,...h})}else{const H={id:Date.now().toString(),time:h.time,title:h.title,location:h.location||"",type:h.type,notes:h.notes,bookingUrl:h.bookingUrl,navLink:h.navLink,flightDetails:h.flightDetails};ft.push(H)}ft.sort((H,q)=>H.time.localeCompare(q.time)),t(B),s(!1)},v=B=>{const ft=[...e];ft[i].events=ft[i].events.filter(H=>H.id!==B),t(ft)},A=async()=>{if(!h.location)return;R(!0);const B=await Dw(h.location,h.time||"daytime");g(B),R(!1)},N=B=>{if(B.navLink)window.open(B.navLink,"_blank");else if(B.location){const ft=encodeURIComponent(B.location);window.open(`https://www.google.com/maps/search/?api=1&query=${ft}`,"_blank")}},D=B=>{switch(B){case"food":return"bg-orange-50 text-orange-800 border-orange-100";case"transport":return"bg-slate-100 text-slate-700 border-slate-200";case"hotel":return"bg-blue-50 text-blue-800 border-blue-100";case"flight":return"bg-white border-yellow-400 border-l-4";default:return"bg-emerald-50 text-emerald-800 border-emerald-100"}},x=B=>{switch(B){case"food":return d.jsx(dT,{className:"w-4 h-4"});case"transport":return d.jsx(mT,{className:"w-4 h-4"});case"hotel":return d.jsx(gT,{className:"w-4 h-4"});case"flight":return d.jsx(uh,{className:"w-4 h-4"});default:return d.jsx(pT,{className:"w-4 h-4"})}};return d.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md shadow-sm sticky top-0 z-10 transition-colors",children:[d.jsx("div",{ref:S,className:"flex overflow-x-auto py-3 px-2 space-x-2 snap-x no-scrollbar",children:e.map((B,ft)=>d.jsxs("button",{onClick:()=>a(ft),className:`flex-shrink-0 flex flex-col items-center justify-center min-w-[3.5rem] h-16 rounded-xl transition-all border snap-center ${i===ft?"bg-primary dark:bg-blue-600 text-white border-primary dark:border-blue-600 shadow-lg scale-105":"bg-white dark:bg-slate-800 text-gray-400 dark:text-gray-500 border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[d.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider",children:"Day"}),d.jsx("span",{className:"text-xl font-bold",children:B.day})]},B.day))}),d.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-slate-800 bg-white dark:bg-slate-900 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:T.date}),d.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-gray-100 dark:bg-slate-800 rounded text-gray-500 dark:text-gray-400",children:T.weekday})]}),d.jsx("div",{className:"flex flex-col items-end shrink-0",children:d.jsxs("div",{className:"flex items-center gap-1",children:[T.weather==="rain"?d.jsx(qx,{className:"w-5 h-5 text-blue-400"}):d.jsx(Fx,{className:"w-5 h-5"}),d.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-white",children:[T.temp,""]})]})})]}),d.jsx("textarea",{value:w,onChange:B=>M(B.target.value),onBlur:z,placeholder:" (...)",className:"w-full h-16 text-xs text-gray-600 dark:text-gray-300 bg-yellow-50/50 dark:bg-slate-800/50 border border-yellow-100 dark:border-slate-700 rounded-lg p-2 resize-none focus:ring-1 focus:ring-accent outline-none leading-relaxed transition-all placeholder-gray-400 dark:placeholder-gray-600"})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-28 no-scrollbar",children:T.events.length===0?d.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[d.jsx("p",{children:""}),d.jsx("button",{onClick:U,className:"mt-4 text-primary dark:text-blue-400 font-medium",children:""})]}):T.events.map(B=>{var ft;return d.jsxs("div",{className:"relative flex group",children:[d.jsxs("div",{className:"flex flex-col items-center mr-4 w-12 pt-1",children:[d.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 font-mono",children:B.time}),d.jsx("div",{className:"h-full w-px bg-gray-200 dark:bg-slate-700 mt-2 mb-2 dashed"})]}),B.type==="flight"&&B.flightDetails?d.jsxs("div",{className:"flex-1 rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-none mb-1 relative transition-transform active:scale-[0.99] bg-white dark:bg-slate-800",children:[d.jsx("div",{className:"bg-yellow-400 h-2 w-full"}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-yellow-400 p-1.5 rounded-full text-black",children:d.jsx(uh,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase block",children:B.flightDetails.airline}),d.jsx("span",{className:"text-lg font-black text-gray-900 dark:text-white leading-none",children:B.flightDetails.flightNumber})]})]}),B.bookingUrl&&d.jsxs("a",{href:B.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300 px-2 py-1 rounded-md",children:["REF: ",(ft=B.notes)==null?void 0:ft.split(`
`)[0]]})]}),d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:B.flightDetails.departCode}),d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:B.flightDetails.departTerminal?`T${B.flightDetails.departTerminal}`:"T-"}),d.jsx("span",{className:"block text-xs font-bold mt-1 text-gray-800 dark:text-gray-200",children:B.time})]}),d.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[d.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-1",children:B.flightDetails.duration}),d.jsxs("div",{className:"w-full h-0.5 bg-gray-200 dark:bg-slate-600 relative",children:[d.jsx("div",{className:"absolute -top-1 right-0 w-2 h-2 bg-gray-300 dark:bg-slate-500 rounded-full"}),d.jsx(uh,{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-4 h-4 text-yellow-500 rotate-90"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:B.flightDetails.arriveCode}),d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:B.flightDetails.arriveTerminal?`T${B.flightDetails.arriveTerminal}`:"T-"})]})]}),d.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-dashed border-gray-200 dark:border-slate-700",children:[d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.title}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>b(B),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:d.jsx(la,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>v(B.id),className:"p-1 text-gray-400 hover:text-red-500",children:d.jsx(sa,{className:"w-4 h-4"})})]})]})]})]}):d.jsxs("div",{className:`flex-1 rounded-2xl p-4 border shadow-sm mb-1 ${D(B.type)} dark:border-none relative transition-transform active:scale-[0.99] dark:bg-slate-800 dark:text-gray-100`,children:[d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[d.jsx("div",{className:`p-1.5 rounded-lg shrink-0 shadow-sm ${B.type==="food"?"bg-orange-100 text-orange-600 dark:bg-orange-900 dark:text-orange-300":B.type==="transport"?"bg-slate-200 text-slate-600 dark:bg-slate-700 dark:text-slate-300":B.type==="hotel"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"bg-emerald-100 text-emerald-600 dark:bg-emerald-900 dark:text-emerald-300"}`,children:x(B.type)}),d.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-white leading-tight pt-0.5 break-words",children:B.title})]}),d.jsxs("div",{className:"flex space-x-1 shrink-0 ml-1",children:[d.jsx("button",{onClick:()=>b(B),className:"p-1 opacity-50 hover:opacity-100",children:d.jsx(la,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>v(B.id),className:"p-1 opacity-50 hover:opacity-100",children:d.jsx(sa,{className:"w-4 h-4"})})]})]}),B.location&&d.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[d.jsxs("p",{className:"text-xs opacity-80 flex items-center truncate max-w-[65%]",children:[d.jsx("span",{className:"mr-1",children:""})," ",B.location]}),d.jsxs("div",{className:"flex gap-2 shrink-0",children:[B.bookingUrl&&d.jsxs("a",{href:B.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 text-primary dark:text-blue-300 px-2 py-1 rounded-md transition-colors",children:[d.jsx(Kd,{className:"w-3 h-3 inline mr-1"}),""]}),d.jsxs("button",{onClick:()=>N(B),className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 text-primary dark:text-blue-300 px-2 py-1 rounded-md transition-colors",children:[d.jsx(Gx,{className:"w-3 h-3 inline mr-1"}),""]})]})]}),B.notes&&d.jsx("div",{className:"mt-2 text-xs bg-white/50 dark:bg-black/20 p-2 rounded-lg text-gray-600 dark:text-gray-300 whitespace-pre-line",children:B.notes})]})]},B.id)})}),d.jsx("button",{onClick:U,className:"fixed bottom-20 right-6 w-14 h-14 bg-primary dark:bg-blue-600 text-white rounded-full shadow-lg shadow-primary/40 dark:shadow-blue-900/40 flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-20",children:d.jsx(fT,{className:"w-8 h-8"})}),r&&d.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:o?"":""}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"w-1/3",children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),d.jsx("input",{type:"time",value:h.time,onChange:B=>m({...h,time:B.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none text-center font-mono"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),d.jsxs("select",{value:h.type,onChange:B=>m({...h,type:B.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none appearance-none",children:[d.jsx("option",{value:"activity",children:" "}),d.jsx("option",{value:"food",children:" "}),d.jsx("option",{value:"transport",children:" "}),d.jsx("option",{value:"hotel",children:" "}),d.jsx("option",{value:"flight",children:" "})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),d.jsx("input",{type:"text",value:h.title,onChange:B=>m({...h,title:B.target.value}),placeholder:"",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase flex justify-between",children:[d.jsx("span",{children:" / "}),d.jsx("button",{onClick:A,disabled:!h.location||y,className:"text-primary dark:text-blue-400 hover:underline disabled:opacity-50",children:y?"AI ...":" AI "})]}),d.jsx("input",{type:"text",value:h.location,onChange:B=>m({...h,location:B.target.value}),placeholder:"...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"}),p&&d.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-900/30 rounded-lg text-xs text-yellow-800 dark:text-yellow-200 animate-in fade-in",children:[" ",p]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" /  / "}),d.jsx("textarea",{value:h.notes||"",onChange:B=>m({...h,notes:B.target.value}),placeholder:"...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none h-20 resize-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" (Booking URL)"}),d.jsx("input",{type:"text",value:h.bookingUrl||"",onChange:B=>m({...h,bookingUrl:B.target.value}),placeholder:"https://...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none text-xs font-mono"})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:""}),d.jsx("button",{onClick:E,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30 dark:shadow-blue-900/30 hover:bg-slate-700 dark:hover:bg-blue-500 transition-colors",children:""})]})]})]})})]})},Ie=["",""],dy=["bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300","bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300","bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300","bg-lime-50 text-lime-700 dark:bg-lime-900/30 dark:text-lime-300","bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300","bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300","bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300","bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300","bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300","bg-violet-50 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300","bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300","bg-fuchsia-50 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300","bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300","bg-rose-50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"],Mw=({expenses:e,setExpenses:t,categories:n,setCategories:i})=>{var Dt;const[a,r]=X.useState(""),[s,o]=X.useState(Ie[0]),[u,h]=X.useState(Ie),[m,p]=X.useState(((Dt=n[0])==null?void 0:Dt.id)||"other"),[g,y]=X.useState(""),[R,I]=X.useState(""),[C,S]=X.useState("AUD"),[T,w]=X.useState(21.5),[M,z]=X.useState(""),[U,b]=X.useState(""),[E,v]=X.useState(!1),[A,N]=X.useState(""),D=L=>{z(L),L&&!isNaN(parseFloat(L))?b((parseFloat(L)*T).toFixed(0)):b("")},x=L=>{b(L),L&&!isNaN(parseFloat(L))?z((parseFloat(L)/T).toFixed(2)):z("")},B=L=>{y(L),L&&!isNaN(parseFloat(L))?I((parseFloat(L)*T).toFixed(0)):I(""),S("AUD")},ft=L=>{I(L),L&&!isNaN(parseFloat(L))?y((parseFloat(L)/T).toFixed(2)):y(""),S("TWD")},H=()=>{if(!a||!g&&!R)return;const L=parseFloat(C==="AUD"?g:R),nt={id:Date.now().toString(),title:a,amount:L,currency:C,payer:s,involved:u,category:m};t([nt,...e]),r(""),y(""),I("")},q=L=>{t(e.filter(nt=>nt.id!==L))},$=L=>{u.includes(L)?u.length>1&&h(u.filter(nt=>nt!==L)):h([...u,L])},vt=()=>{if(!A.trim())return;const L=`cat_${Date.now()}`,nt=dy[Math.floor(Math.random()*dy.length)],ee={id:L,label:A.trim(),color:nt,isDefault:!1};i([...n,ee]),N("")},Ct=L=>{var nt;window.confirm("")&&(i(n.filter(ee=>ee.id!==L)),m===L&&p(((nt=n.find(ee=>ee.id!==L))==null?void 0:nt.id)||"other"))},hn=L=>L.includes("food")||L.includes("eat")?d.jsx(dT,{className:"w-4 h-4"}):L.includes("trans")||L.includes("bus")||L.includes("car")?d.jsx(mT,{className:"w-4 h-4"}):L.includes("hotel")||L.includes("stay")?d.jsx(gT,{className:"w-4 h-4"}):L.includes("shop")||L.includes("buy")?d.jsx(yT,{className:"w-4 h-4"}):L.includes("ticket")||L.includes("play")?d.jsx(pT,{className:"w-4 h-4"}):d.jsx(ch,{className:"w-4 h-4"}),Yt=X.useMemo(()=>{const L={};return Ie.forEach(nt=>L[nt]=0),e.forEach(nt=>{let ee=nt.amount;nt.currency==="TWD"&&(ee=nt.amount/T);const Kn=nt.payer,Or=nt.involved.length,Mr=ee/Or;L[Kn]+=ee,nt.involved.forEach(_a=>{L[_a]-=Mr})}),L},[e,T]);return d.jsxs("div",{className:"p-4 pb-28 h-full overflow-y-auto bg-surface dark:bg-darkSurface transition-colors no-scrollbar",children:[d.jsxs("div",{className:"bg-primary text-white rounded-2xl shadow-lg p-5 mb-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(ch,{className:"w-24 h-24"})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-gray-300",children:""}),d.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-2 py-1 rounded-lg border border-white/20",children:[d.jsx("span",{className:"text-xs text-gray-400",children:":"}),d.jsx("input",{type:"number",value:T,onChange:L=>w(parseFloat(L.target.value)),className:"w-12 bg-transparent text-white text-xs text-center outline-none font-mono"})]})]}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-400 mb-1",children:" (AUD)"}),d.jsx("input",{type:"number",placeholder:"0",value:M,onChange:L=>D(L.target.value),className:"w-full bg-white/10 text-xl font-bold rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-accent/50 border border-white/10 placeholder-gray-500 font-mono"})]}),d.jsx("div",{className:"pt-5 text-gray-400",children:d.jsx(ch,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 flex flex-col text-right",children:[d.jsx("label",{className:"text-xs text-gray-400 mb-1",children:" (TWD)"}),d.jsx("input",{type:"number",placeholder:"0",value:U,onChange:L=>x(L.target.value),className:"w-full bg-white/10 text-xl font-bold rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-accent/50 border border-white/10 placeholder-gray-500 text-right font-mono"})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:" (: AUD)"}),d.jsx("div",{className:"space-y-3",children:Ie.map(L=>{const nt=Yt[L];return d.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 dark:border-slate-700 last:border-0 pb-2 last:pb-0",children:[d.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:L}),d.jsx("span",{className:`font-bold ${nt>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500 dark:text-rose-400"}`,children:nt>=0?` $${nt.toFixed(2)}`:` $${Math.abs(nt).toFixed(2)}`})]},L)})}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-dashed border-gray-200 dark:border-slate-700 text-xs text-gray-400 text-center",children:[Yt[Ie[0]]>0?`${Ie[1]}  ${Ie[0]} $${Yt[Ie[0]].toFixed(2)} AUD`:`${Ie[0]}  ${Ie[1]} $${Yt[Ie[1]].toFixed(2)} AUD`,d.jsxs("div",{className:"text-accent mt-1",children:["( $",Math.abs(Yt[Ie[0]]*T).toFixed(0),")"]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:""}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white p-3 rounded-xl outline-none focus:ring-2 focus:ring-primary border-none",placeholder:" ()",value:a,onChange:L=>r(L.target.value)}),d.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-gray-100 dark:border-slate-700",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-1",children:" ()"}),d.jsxs("div",{className:"flex items-center gap-3",onClick:()=>S("AUD"),children:[d.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center cursor-pointer ${C==="AUD"?"border-accent bg-accent":"border-gray-300"}`,children:C==="AUD"&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),d.jsx("span",{className:`text-sm font-bold w-8 ${C==="AUD"?"text-gray-800 dark:text-white":"text-gray-400"}`,children:"AUD"}),d.jsx("input",{type:"number",className:`flex-1 p-2 rounded-lg outline-none font-mono ${C==="AUD"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white ring-2 ring-accent/20":"bg-transparent text-gray-500"}`,placeholder:"0.00",value:g,onChange:L=>B(L.target.value)})]}),d.jsxs("div",{className:"flex items-center gap-3",onClick:()=>S("TWD"),children:[d.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center cursor-pointer ${C==="TWD"?"border-accent bg-accent":"border-gray-300"}`,children:C==="TWD"&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),d.jsx("span",{className:`text-sm font-bold w-8 ${C==="TWD"?"text-gray-800 dark:text-white":"text-gray-400"}`,children:"TWD"}),d.jsx("input",{type:"number",className:`flex-1 p-2 rounded-lg outline-none font-mono ${C==="TWD"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white ring-2 ring-accent/20":"bg-transparent text-gray-500"}`,placeholder:"0",value:R,onChange:L=>ft(L.target.value)})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-slate-700 rounded-xl p-2 px-3",children:[d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:":"}),d.jsx("select",{className:"bg-transparent text-gray-900 dark:text-white font-bold outline-none text-right",value:s,onChange:L=>o(L.target.value),children:Ie.map(L=>d.jsx("option",{value:L,children:L},L))})]}),d.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[n.map(L=>d.jsxs("button",{type:"button",onClick:()=>p(L.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all
                        ${m===L.id?"bg-primary border-primary text-white dark:bg-blue-600 dark:border-blue-600":"bg-white border-gray-200 text-gray-500 dark:bg-slate-700 dark:border-slate-600 dark:text-gray-400"}`,children:[hn(L.id),L.label]},L.id)),d.jsx("button",{type:"button",onClick:()=>v(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-700 text-gray-400 hover:text-primary dark:hover:text-blue-400 border border-transparent hover:border-gray-300 transition-all shrink-0",children:d.jsx(la,{className:"w-3 h-3"})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 my-2 overflow-x-auto no-scrollbar",children:[d.jsx("span",{className:"whitespace-nowrap",children:":"}),Ie.map(L=>d.jsx("button",{onClick:()=>$(L),className:`px-3 py-1 rounded-full border transition-colors whitespace-nowrap ${u.includes(L)?"bg-primary text-white border-primary dark:bg-blue-600 dark:border-blue-600":"bg-white text-gray-400 border-gray-200 dark:bg-slate-700 dark:text-gray-400 dark:border-slate-600"}`,children:L},L))]}),d.jsxs("button",{onClick:H,disabled:!g&&!R,className:"w-full bg-accent text-white font-bold py-3 rounded-xl shadow-lg shadow-amber-200 dark:shadow-none disabled:opacity-50 hover:bg-amber-600 transition-colors",children:[" ( ",C," )"]})]})]}),d.jsx("h3",{className:"text-gray-400 font-semibold mb-3 px-1 uppercase text-[10px] tracking-widest",children:""}),d.jsxs("div",{className:"space-y-3",children:[e.map(L=>{const nt=n.find(Mr=>Mr.id===L.category)||n[0]||{color:"bg-gray-100",id:"other"},ee=L.currency==="AUD"||L.currency===void 0,Kn=L.amount,Or=ee?L.amount*T:L.amount/T;return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-50 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${nt.color}`,children:hn(nt.id)}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-sm",children:L.title}),d.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:[d.jsx("span",{className:"text-primary dark:text-blue-400 font-medium",children:L.payer}),"   ",L.involved.join(", ")," "]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"font-bold text-gray-800 dark:text-white block",children:[ee?"$":"NT$",Kn.toFixed(ee?2:0)]}),d.jsxs("span",{className:"text-[10px] text-gray-400",children:[" ",ee?"NT$":"$",Or.toFixed(ee?0:2)]})]}),d.jsx("button",{onClick:()=>q(L.id),className:"text-gray-300 hover:text-rose-400 p-1",children:d.jsx(sa,{className:"w-4 h-4"})})]})]},L.id)}),e.length===0&&d.jsx("div",{className:"text-center text-gray-400 text-xs italic py-4",children:""})]}),E&&d.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[d.jsx(la,{className:"w-5 h-5"})," "]}),d.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:n.map(L=>d.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center ${L.color}`,children:hn(L.id)}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:L.label})]}),!L.isDefault&&d.jsx("button",{onClick:()=>Ct(L.id),className:"text-gray-400 hover:text-red-500 p-1",children:d.jsx(sa,{className:"w-4 h-4"})}),L.isDefault&&d.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:""})]},L.id))}),d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsx("input",{type:"text",placeholder:"",value:A,onChange:L=>N(L.target.value),className:"flex-1 p-2 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-lg border-none outline-none focus:ring-2 focus:ring-primary text-sm"}),d.jsx("button",{onClick:vt,disabled:!A.trim(),className:"bg-primary dark:bg-blue-600 text-white px-3 rounded-lg disabled:opacity-50 text-sm font-bold",children:""})]}),d.jsx("button",{onClick:()=>v(!1),className:"w-full py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl",children:""})]})})]})},Vw=({links:e,setLinks:t,days:n,setDays:i})=>{const[a,r]=X.useState(!1),[s,o]=X.useState(null),[u,h]=X.useState({title:"",url:"",details:"",type:"ticket"}),m=X.useMemo(()=>{const I=[];return n.forEach((C,S)=>{C.events.forEach((T,w)=>{T.bookingUrl&&I.push({id:T.id,title:T.title,url:T.bookingUrl,type:T.type,details:T.notes||"",isManual:!1,dayIndex:S,eventIndex:w})})}),e.forEach(C=>{I.push({...C,isManual:!0})}),I},[e,n]),p=()=>{o(null),h({title:"",url:"",details:"",type:"ticket"}),r(!0)},g=I=>{o(I),h({...I}),r(!0)},y=(I,C)=>{if(C.preventDefault(),I.isManual)window.confirm("")&&t(e.filter(S=>S.id!==I.id));else if(window.confirm(`${I.title}`)){const S=[...n];if(I.dayIndex!==void 0&&I.eventIndex!==void 0){const T=S[I.dayIndex].events[I.eventIndex];T.bookingUrl=void 0,i(S)}}},R=()=>{if(!(!u.title||!u.url)){if(s)if(s.isManual)t(e.map(I=>I.id===s.id?{...s,...u}:I));else{const I=[...n];if(s.dayIndex!==void 0&&s.eventIndex!==void 0){const C=I[s.dayIndex].events[s.eventIndex];C.title=u.title,C.bookingUrl=u.url,C.notes=u.details,C.type=u.type,i(I)}}else{const I={id:Date.now().toString(),title:u.title,url:u.url,details:u.details||"",type:u.type};t([I,...e])}r(!1)}};return d.jsxs("div",{className:"p-4 bg-surface dark:bg-darkSurface h-full pb-20 overflow-y-auto transition-colors no-scrollbar",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 px-1",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:" & "}),d.jsx("button",{onClick:p,className:"bg-primary dark:bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-slate-700 transition-colors",children:d.jsx(fT,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"grid gap-4",children:m.map((I,C)=>d.jsxs("div",{className:"relative group",children:[d.jsx("a",{href:I.url,target:"_blank",rel:"noreferrer",className:"block bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm hover:shadow-md transition-all border border-gray-100 dark:border-slate-700",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsx("span",{className:`inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-colors
                                        ${I.type==="car"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":I.type==="flight"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":I.type==="hotel"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300":I.type==="ticket"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:I.type==="car"?"":I.type==="flight"?"":I.type==="hotel"?"":I.type==="ticket"?"":""}),!I.isManual&&d.jsxs("span",{className:"inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400",children:[" Day ",n[I.dayIndex].day]})]}),d.jsx("h3",{className:"font-bold text-base text-gray-800 dark:text-gray-100",children:I.title}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1 truncate max-w-[250px]",children:I.details})]}),d.jsx("div",{className:"bg-surface dark:bg-slate-700 p-2 rounded-full text-primary dark:text-blue-400",children:d.jsx(Kd,{className:"w-5 h-5"})})]})}),d.jsxs("div",{className:"absolute top-4 right-14 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:S=>{S.preventDefault(),g(I)},className:"p-1.5 bg-gray-100 dark:bg-slate-600 text-gray-600 dark:text-gray-200 rounded-full hover:bg-gray-200 dark:hover:bg-slate-500",children:d.jsx(la,{className:"w-3 h-3"})}),d.jsx("button",{onClick:S=>y(I,S),className:"p-1.5 bg-rose-100 dark:bg-rose-900/50 text-rose-600 dark:text-rose-300 rounded-full hover:bg-rose-200 dark:hover:bg-rose-800/50",children:d.jsx(sa,{className:"w-3 h-3"})})]})]},`${I.id}-${C}`))}),m.length===0&&d.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[d.jsx("p",{children:""}),d.jsx("button",{onClick:p,className:"mt-2 text-primary dark:text-blue-400 font-medium",children:""})]}),d.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary to-slate-900 dark:from-slate-800 dark:to-black rounded-2xl text-white shadow-lg",children:[d.jsx("h3",{className:"font-bold text-base mb-2",children:""}),d.jsx("p",{className:"text-gray-300 text-xs mb-4",children:""}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("a",{href:"tel:000",className:"flex-1 bg-white text-primary text-center py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors",children:" 000"}),d.jsx("a",{href:"https://www.taiwanembassy.org/au/index.html",target:"_blank",rel:"noreferrer",className:"flex-1 bg-white/10 text-white text-center py-2 rounded-lg text-sm backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-colors",children:""})]})]}),a&&d.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:s?s.isManual?"":"":""}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),d.jsx("input",{type:"text",value:u.title,onChange:I=>h({...u,title:I.target.value}),placeholder:"",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),d.jsxs("select",{value:u.type,onChange:I=>h({...u,type:I.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none",children:[d.jsx("option",{value:"ticket",children:" "}),d.jsx("option",{value:"flight",children:" "}),d.jsx("option",{value:"hotel",children:" "}),d.jsx("option",{value:"car",children:" "}),d.jsx("option",{value:"transport",children:" "}),d.jsx("option",{value:"activity",children:" "}),d.jsx("option",{value:"food",children:" "})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" URL"}),d.jsx("input",{type:"text",value:u.url,onChange:I=>h({...u,url:I.target.value}),placeholder:"https://...",className:"w-full mt-1 p-3 bg-gray-50 text-blue-600 dark:bg-slate-700 dark:text-blue-400 rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none font-mono text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),d.jsx("input",{type:"text",value:u.details||"",onChange:I=>h({...u,details:I.target.value}),placeholder:" #123456",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),!(s!=null&&s.isManual)&&s&&d.jsx("p",{className:"text-xs text-amber-500 bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg",children:" "}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:""}),d.jsx("button",{onClick:R,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30 dark:shadow-blue-900/30 hover:bg-slate-700 dark:hover:bg-blue-500 transition-colors",children:""})]})]})]})})]})},my=["bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300","bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300","bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300","bg-lime-50 text-lime-700 dark:bg-lime-900/30 dark:text-lime-300","bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300","bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300","bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300","bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300","bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300","bg-violet-50 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300","bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300","bg-fuchsia-50 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300","bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300","bg-rose-50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"],Uw=({todos:e,setTodos:t,categories:n,setCategories:i})=>{const[a,r]=X.useState(""),[s,o]=X.useState("todo"),[u,h]=X.useState(!1),[m,p]=X.useState(""),g=U=>{if(U&&U.preventDefault(),!a.trim())return;const b={id:Date.now().toString(),text:a.trim(),isCompleted:!1,category:s};t([b,...e]),r("")},y=U=>{t(e.map(b=>b.id===U?{...b,isCompleted:!b.isCompleted}:b))},R=U=>{t(e.filter(b=>b.id!==U))},I=X.useMemo(()=>{const U={};return n.forEach(b=>U[b.id]=[]),U.uncategorized=[],e.forEach(b=>{var E,v;if(U[b.category])U[b.category].push(b);else{const A=((E=n.find(N=>N.id==="todo"))==null?void 0:E.id)||((v=n[0])==null?void 0:v.id);A?U[A].push(b):U.uncategorized.push(b)}}),U},[e,n]),C=()=>{if(!m.trim())return;const U=`cat_${Date.now()}`,b=my[Math.floor(Math.random()*my.length)],E={id:U,label:m.trim(),color:b,isDefault:!1};i([...n,E]),p("")},S=U=>{if(window.confirm("")){i(n.filter(E=>E.id!==U));const b="todo";t(E=>E.map(v=>v.category===U?{...v,category:b}:v)),s===U&&o(b)}},T=U=>U.includes("shop")||U.includes("buy")?d.jsx(yT,{className:"w-4 h-4"}):U.includes("pack")||U.includes("luggage")?d.jsx(Yx,{className:"w-4 h-4"}):U.includes("doc")||U.includes("pass")?d.jsx(Kx,{className:"w-4 h-4"}):U.includes("gift")?d.jsx(Qx,{className:"w-4 h-4"}):d.jsx(wo,{className:"w-4 h-4"}),w=e.length,M=e.filter(U=>U.isCompleted).length,z=w===0?0:Math.round(M/w*100);return d.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 pb-4 border-b border-gray-100 dark:border-slate-800 sticky top-0 z-10",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:""}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[" ",z,"% (",M,"/",w,")"]})]}),w>0&&z===100&&d.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full animate-bounce",children:" "})]}),d.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary dark:bg-blue-500 transition-all duration-500 ease-out rounded-full",style:{width:`${z}%`}})})]}),d.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-gray-100 dark:border-slate-800 shadow-sm z-10",children:d.jsxs("form",{onSubmit:g,className:"space-y-3",children:[d.jsx("input",{type:"text",value:a,onChange:U=>r(U.target.value),placeholder:"...",className:"w-full p-3 bg-gray-50 text-gray-900 dark:bg-slate-800 dark:text-white rounded-xl border-none outline-none focus:ring-2 focus:ring-primary"}),d.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[n.map(U=>d.jsxs("button",{type:"button",onClick:()=>o(U.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all
                            ${s===U.id?"bg-primary border-primary text-white dark:bg-blue-600 dark:border-blue-600":"bg-white border-gray-200 text-gray-500 dark:bg-slate-800 dark:border-slate-700 dark:text-gray-400"}`,children:[T(U.id),U.label]},U.id)),d.jsx("button",{type:"button",onClick:()=>h(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-800 text-gray-400 hover:text-primary dark:hover:text-blue-400 border border-transparent hover:border-gray-300 transition-all shrink-0",children:d.jsx(la,{className:"w-3 h-3"})})]}),d.jsx("button",{type:"submit",disabled:!a,className:"w-full bg-primary dark:bg-blue-600 text-white font-bold py-3 rounded-xl disabled:opacity-50",children:""})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-28 space-y-6 no-scrollbar",children:[n.map(U=>{const b=I[U.id]||[];return b.length===0?null:d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:`p-1.5 rounded-lg ${U.color}`,children:T(U.id)}),d.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:U.label}),d.jsx("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-500 px-2 py-0.5 rounded-full",children:b.length})]}),d.jsx("div",{className:"space-y-2",children:b.map(E=>d.jsxs("div",{className:`flex items-center p-3 rounded-xl border transition-all ${E.isCompleted?"bg-gray-50 border-gray-100 dark:bg-slate-800/50 dark:border-slate-800":"bg-white border-gray-100 shadow-sm dark:bg-slate-800 dark:border-slate-700"}`,children:[d.jsx("button",{onClick:()=>y(E.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3 transition-colors ${E.isCompleted?"bg-emerald-500 border-emerald-500 text-white":"border-gray-300 dark:border-gray-500"}`,children:E.isCompleted&&d.jsx(wo,{className:"w-4 h-4"})}),d.jsx("span",{className:`flex-1 text-sm ${E.isCompleted?"text-gray-400 line-through dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,children:E.text}),d.jsx("button",{onClick:()=>R(E.id),className:"p-2 text-gray-300 hover:text-red-400 transition-colors",children:d.jsx(sa,{className:"w-4 h-4"})})]},E.id))})]},U.id)}),w===0&&d.jsxs("div",{className:"text-center py-10 opacity-50",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:d.jsx(wo,{className:"w-8 h-8"})}),d.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["",d.jsx("br",{}),""]})]})]}),u&&d.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[d.jsx(la,{className:"w-5 h-5"})," "]}),d.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:n.map(U=>d.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${U.color.split(" ")[0].replace("bg-","bg-")}`}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:U.label})]}),!U.isDefault&&d.jsx("button",{onClick:()=>S(U.id),className:"text-gray-400 hover:text-red-500 p-1",children:d.jsx(sa,{className:"w-4 h-4"})}),U.isDefault&&d.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:""})]},U.id))}),d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsx("input",{type:"text",placeholder:"",value:m,onChange:U=>p(U.target.value),className:"flex-1 p-2 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-lg border-none outline-none focus:ring-2 focus:ring-primary text-sm"}),d.jsx("button",{onClick:C,disabled:!m.trim(),className:"bg-primary dark:bg-blue-600 text-white px-3 rounded-lg disabled:opacity-50 text-sm font-bold",children:""})]}),d.jsx("button",{onClick:()=>h(!1),className:"w-full py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl",children:""})]})})]})};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Lw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const r=e[n++];t[i++]=String.fromCharCode((a&31)<<6|r&63)}else if(a>239&&a<365){const r=e[n++],s=e[n++],o=e[n++],u=((a&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],s=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(r&63)<<6|s&63)}}return t.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const r=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,m=r>>2,p=(r&3)<<4|o>>4;let g=(o&15)<<2|h>>6,y=h&63;u||(y=64,s||(g=64)),i.push(n[m],n[p],n[g],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Lw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const r=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const p=a<e.length?n[e.charAt(a)]:64;if(++a,r==null||o==null||h==null||p==null)throw new kw;const g=r<<2|o>>4;if(i.push(g),h!==64){const y=o<<4&240|h>>2;if(i.push(y),p!==64){const R=h<<6&192|p;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jw=function(e){const t=jT(e);return BT.encodeByteArray(t,!0)},uu=function(e){return jw(e).replace(/\./g,"")},Bw=function(e){try{return BT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=()=>Pw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof gy>"u")return;const e=gy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Gw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Bw(e[1]);return t&&JSON.parse(t)},$d=()=>{try{return zw()||Hw()||Gw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Fw=e=>{var t,n;return(n=(t=$d())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},qw=e=>{const t=Fw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},PT=()=>{var e;return(e=$d())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[uu(JSON.stringify(n)),uu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xw(){var e;const t=(e=$d())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $w(){return!Xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var r;t(((r=a.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="FirebaseError";class Ir extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Ww,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zT.prototype.create)}}class zT{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,r=this.errors[t],s=r?t2(r,i):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Ir(a,o,i)}}function t2(e,t){return e.replace(e2,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const e2=/\{\$([^}]+)}/g;function xf(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const r=e[a],s=t[a];if(py(r)&&py(s)){if(!xf(r,s))return!1}else if(r!==s)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function py(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e){return e&&e._delegate?e._delegate:e}class qs{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Yw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(a)return null;throw r}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(a2(t))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:a});i.resolve(r)}catch{}}}}clearInstance(t=Yi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yi){return this.instances.has(t)}getOptions(t=Yi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&s.resolve(a)}return a}onInit(t,n){var i;const a=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(a,r);const s=this.instances.get(a);return s&&t(s,a),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:i2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Yi){return this.component?this.component.multipleInstances?t:Yi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(e){return e===Yi?void 0:e}function a2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new n2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ut||(ut={}));const s2={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},l2=ut.INFO,o2={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},u2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=o2[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class HT{constructor(t){this.name=t,this._logLevel=l2,this._logHandler=u2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?s2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}const c2=(e,t)=>t.some(n=>e instanceof n);let yy,_y;function h2(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,wf=new WeakMap,FT=new WeakMap,dh=new WeakMap,Jd=new WeakMap;function d2(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{n(Ei(e.result)),a()},s=()=>{i(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&GT.set(n,e)}).catch(()=>{}),Jd.set(t,e),t}function m2(e){if(wf.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{n(),a()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});wf.set(e,t)}let Nf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return wf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||FT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function g2(e){Nf=e(Nf)}function p2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(mh(this),t,...n);return FT.set(i,t.sort?t.sort():[t]),Ei(i)}:f2().includes(e)?function(...t){return e.apply(mh(this),t),Ei(GT.get(this))}:function(...t){return Ei(e.apply(mh(this),t))}}function y2(e){return typeof e=="function"?p2(e):(e instanceof IDBTransaction&&m2(e),c2(e,h2())?new Proxy(e,Nf):e)}function Ei(e){if(e instanceof IDBRequest)return d2(e);if(dh.has(e))return dh.get(e);const t=y2(e);return t!==e&&(dh.set(e,t),Jd.set(t,e)),t}const mh=e=>Jd.get(e);function _2(e,t,{blocked:n,upgrade:i,blocking:a,terminated:r}={}){const s=indexedDB.open(e,t),o=Ei(s);return i&&s.addEventListener("upgradeneeded",u=>{i(Ei(s.result),u.oldVersion,u.newVersion,Ei(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const E2=["get","getKey","getAll","getAllKeys","count"],v2=["put","add","delete","clear"],gh=new Map;function Ey(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gh.get(t))return gh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=v2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||E2.includes(n)))return;const r=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return gh.set(t,r),r}g2(e=>({...e,get:(t,n,i)=>Ey(t,n)||e.get(t,n,i),has:(t,n)=>!!Ey(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function b2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const If="@firebase/app",vy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new HT("@firebase/app"),A2="@firebase/app-compat",S2="@firebase/analytics-compat",x2="@firebase/analytics",w2="@firebase/app-check-compat",N2="@firebase/app-check",I2="@firebase/auth",R2="@firebase/auth-compat",C2="@firebase/database",D2="@firebase/data-connect",O2="@firebase/database-compat",M2="@firebase/functions",V2="@firebase/functions-compat",U2="@firebase/installations",L2="@firebase/installations-compat",k2="@firebase/messaging",j2="@firebase/messaging-compat",B2="@firebase/performance",P2="@firebase/performance-compat",z2="@firebase/remote-config",H2="@firebase/remote-config-compat",G2="@firebase/storage",F2="@firebase/storage-compat",q2="@firebase/firestore",Y2="@firebase/vertexai-preview",K2="@firebase/firestore-compat",Q2="firebase",X2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="[DEFAULT]",$2={[If]:"fire-core",[A2]:"fire-core-compat",[x2]:"fire-analytics",[S2]:"fire-analytics-compat",[N2]:"fire-app-check",[w2]:"fire-app-check-compat",[I2]:"fire-auth",[R2]:"fire-auth-compat",[C2]:"fire-rtdb",[D2]:"fire-data-connect",[O2]:"fire-rtdb-compat",[M2]:"fire-fn",[V2]:"fire-fn-compat",[U2]:"fire-iid",[L2]:"fire-iid-compat",[k2]:"fire-fcm",[j2]:"fire-fcm-compat",[B2]:"fire-perf",[P2]:"fire-perf-compat",[z2]:"fire-rc",[H2]:"fire-rc-compat",[G2]:"fire-gcs",[F2]:"fire-gcs-compat",[q2]:"fire-fst",[K2]:"fire-fst-compat",[Y2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,J2=new Map,Cf=new Map;function Ty(e,t){try{e.container.addComponent(t)}catch(n){Gn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function hu(e){const t=e.name;if(Cf.has(t))return Gn.debug(`There were multiple attempts to register component ${t}.`),!1;Cf.set(t,e);for(const n of cu.values())Ty(n,e);for(const n of J2.values())Ty(n,e);return!0}function Z2(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new zT("app","Firebase",W2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=X2;function qT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Rf,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw vi.create("bad-app-name",{appName:String(a)});if(n||(n=PT()),!n)throw vi.create("no-options");const r=cu.get(a);if(r){if(xf(n,r.options)&&xf(i,r.config))return r;throw vi.create("duplicate-app",{appName:a})}const s=new r2(a);for(const u of Cf.values())s.addComponent(u);const o=new tN(n,i,s);return cu.set(a,o),o}function nN(e=Rf){const t=cu.get(e);if(!t&&e===Rf&&PT())return qT();if(!t)throw vi.create("no-app",{appName:e});return t}function tr(e,t,n){var i;let a=(i=$2[e])!==null&&i!==void 0?i:e;n&&(a+=`-${n}`);const r=a.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const o=[`Unable to register library "${a}" with version "${t}":`];r&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gn.warn(o.join(" "));return}hu(new qs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",aN=1,Ys="firebase-heartbeat-store";let ph=null;function YT(){return ph||(ph=_2(iN,aN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ys)}catch(n){console.warn(n)}}}}).catch(e=>{throw vi.create("idb-open",{originalErrorMessage:e.message})})),ph}async function rN(e){try{const n=(await YT()).transaction(Ys),i=await n.objectStore(Ys).get(KT(e));return await n.done,i}catch(t){if(t instanceof Ir)Gn.warn(t.message);else{const n=vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gn.warn(n.message)}}}async function by(e,t){try{const i=(await YT()).transaction(Ys,"readwrite");await i.objectStore(Ys).put(t,KT(e)),await i.done}catch(n){if(n instanceof Ir)Gn.warn(n.message);else{const i=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(i.message)}}}function KT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=1024,lN=30*24*60*60*1e3;class oN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ay();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=lN}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Gn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ay(),{heartbeatsToSend:i,unsentEntries:a}=uN(this._heartbeatsCache.heartbeats),r=uu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Gn.warn(n),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function uN(e,t=sN){const n=[];let i=e.slice();for(const a of e){const r=n.find(s=>s.agent===a.agent);if(r){if(r.dates.push(a.date),Sy(n)>t){r.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Sy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class cN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return by(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return by(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Sy(e){return uu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e){hu(new qs("platform-logger",t=>new T2(t),"PRIVATE")),hu(new qs("heartbeat",t=>new oN(t),"PRIVATE")),tr(If,vy,e),tr(If,vy,"esm2017"),tr("fire-js","")}hN("");var fN="firebase",dN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(fN,dN,"app");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,QT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,E){function v(){}v.prototype=E.prototype,b.D=E.prototype,b.prototype=new v,b.prototype.constructor=b,b.C=function(A,N,D){for(var x=Array(arguments.length-2),B=2;B<arguments.length;B++)x[B-2]=arguments[B];return E.prototype[N].apply(A,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(b,E,v){v||(v=0);var A=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)A[N]=E.charCodeAt(v++)|E.charCodeAt(v++)<<8|E.charCodeAt(v++)<<16|E.charCodeAt(v++)<<24;else for(N=0;16>N;++N)A[N]=E[v++]|E[v++]<<8|E[v++]<<16|E[v++]<<24;E=b.g[0],v=b.g[1],N=b.g[2];var D=b.g[3],x=E+(D^v&(N^D))+A[0]+3614090360&4294967295;E=v+(x<<7&4294967295|x>>>25),x=D+(N^E&(v^N))+A[1]+3905402710&4294967295,D=E+(x<<12&4294967295|x>>>20),x=N+(v^D&(E^v))+A[2]+606105819&4294967295,N=D+(x<<17&4294967295|x>>>15),x=v+(E^N&(D^E))+A[3]+3250441966&4294967295,v=N+(x<<22&4294967295|x>>>10),x=E+(D^v&(N^D))+A[4]+4118548399&4294967295,E=v+(x<<7&4294967295|x>>>25),x=D+(N^E&(v^N))+A[5]+1200080426&4294967295,D=E+(x<<12&4294967295|x>>>20),x=N+(v^D&(E^v))+A[6]+2821735955&4294967295,N=D+(x<<17&4294967295|x>>>15),x=v+(E^N&(D^E))+A[7]+4249261313&4294967295,v=N+(x<<22&4294967295|x>>>10),x=E+(D^v&(N^D))+A[8]+1770035416&4294967295,E=v+(x<<7&4294967295|x>>>25),x=D+(N^E&(v^N))+A[9]+2336552879&4294967295,D=E+(x<<12&4294967295|x>>>20),x=N+(v^D&(E^v))+A[10]+4294925233&4294967295,N=D+(x<<17&4294967295|x>>>15),x=v+(E^N&(D^E))+A[11]+2304563134&4294967295,v=N+(x<<22&4294967295|x>>>10),x=E+(D^v&(N^D))+A[12]+1804603682&4294967295,E=v+(x<<7&4294967295|x>>>25),x=D+(N^E&(v^N))+A[13]+4254626195&4294967295,D=E+(x<<12&4294967295|x>>>20),x=N+(v^D&(E^v))+A[14]+2792965006&4294967295,N=D+(x<<17&4294967295|x>>>15),x=v+(E^N&(D^E))+A[15]+1236535329&4294967295,v=N+(x<<22&4294967295|x>>>10),x=E+(N^D&(v^N))+A[1]+4129170786&4294967295,E=v+(x<<5&4294967295|x>>>27),x=D+(v^N&(E^v))+A[6]+3225465664&4294967295,D=E+(x<<9&4294967295|x>>>23),x=N+(E^v&(D^E))+A[11]+643717713&4294967295,N=D+(x<<14&4294967295|x>>>18),x=v+(D^E&(N^D))+A[0]+3921069994&4294967295,v=N+(x<<20&4294967295|x>>>12),x=E+(N^D&(v^N))+A[5]+3593408605&4294967295,E=v+(x<<5&4294967295|x>>>27),x=D+(v^N&(E^v))+A[10]+38016083&4294967295,D=E+(x<<9&4294967295|x>>>23),x=N+(E^v&(D^E))+A[15]+3634488961&4294967295,N=D+(x<<14&4294967295|x>>>18),x=v+(D^E&(N^D))+A[4]+3889429448&4294967295,v=N+(x<<20&4294967295|x>>>12),x=E+(N^D&(v^N))+A[9]+568446438&4294967295,E=v+(x<<5&4294967295|x>>>27),x=D+(v^N&(E^v))+A[14]+3275163606&4294967295,D=E+(x<<9&4294967295|x>>>23),x=N+(E^v&(D^E))+A[3]+4107603335&4294967295,N=D+(x<<14&4294967295|x>>>18),x=v+(D^E&(N^D))+A[8]+1163531501&4294967295,v=N+(x<<20&4294967295|x>>>12),x=E+(N^D&(v^N))+A[13]+2850285829&4294967295,E=v+(x<<5&4294967295|x>>>27),x=D+(v^N&(E^v))+A[2]+4243563512&4294967295,D=E+(x<<9&4294967295|x>>>23),x=N+(E^v&(D^E))+A[7]+1735328473&4294967295,N=D+(x<<14&4294967295|x>>>18),x=v+(D^E&(N^D))+A[12]+2368359562&4294967295,v=N+(x<<20&4294967295|x>>>12),x=E+(v^N^D)+A[5]+4294588738&4294967295,E=v+(x<<4&4294967295|x>>>28),x=D+(E^v^N)+A[8]+2272392833&4294967295,D=E+(x<<11&4294967295|x>>>21),x=N+(D^E^v)+A[11]+1839030562&4294967295,N=D+(x<<16&4294967295|x>>>16),x=v+(N^D^E)+A[14]+4259657740&4294967295,v=N+(x<<23&4294967295|x>>>9),x=E+(v^N^D)+A[1]+2763975236&4294967295,E=v+(x<<4&4294967295|x>>>28),x=D+(E^v^N)+A[4]+1272893353&4294967295,D=E+(x<<11&4294967295|x>>>21),x=N+(D^E^v)+A[7]+4139469664&4294967295,N=D+(x<<16&4294967295|x>>>16),x=v+(N^D^E)+A[10]+3200236656&4294967295,v=N+(x<<23&4294967295|x>>>9),x=E+(v^N^D)+A[13]+681279174&4294967295,E=v+(x<<4&4294967295|x>>>28),x=D+(E^v^N)+A[0]+3936430074&4294967295,D=E+(x<<11&4294967295|x>>>21),x=N+(D^E^v)+A[3]+3572445317&4294967295,N=D+(x<<16&4294967295|x>>>16),x=v+(N^D^E)+A[6]+76029189&4294967295,v=N+(x<<23&4294967295|x>>>9),x=E+(v^N^D)+A[9]+3654602809&4294967295,E=v+(x<<4&4294967295|x>>>28),x=D+(E^v^N)+A[12]+3873151461&4294967295,D=E+(x<<11&4294967295|x>>>21),x=N+(D^E^v)+A[15]+530742520&4294967295,N=D+(x<<16&4294967295|x>>>16),x=v+(N^D^E)+A[2]+3299628645&4294967295,v=N+(x<<23&4294967295|x>>>9),x=E+(N^(v|~D))+A[0]+4096336452&4294967295,E=v+(x<<6&4294967295|x>>>26),x=D+(v^(E|~N))+A[7]+1126891415&4294967295,D=E+(x<<10&4294967295|x>>>22),x=N+(E^(D|~v))+A[14]+2878612391&4294967295,N=D+(x<<15&4294967295|x>>>17),x=v+(D^(N|~E))+A[5]+4237533241&4294967295,v=N+(x<<21&4294967295|x>>>11),x=E+(N^(v|~D))+A[12]+1700485571&4294967295,E=v+(x<<6&4294967295|x>>>26),x=D+(v^(E|~N))+A[3]+2399980690&4294967295,D=E+(x<<10&4294967295|x>>>22),x=N+(E^(D|~v))+A[10]+4293915773&4294967295,N=D+(x<<15&4294967295|x>>>17),x=v+(D^(N|~E))+A[1]+2240044497&4294967295,v=N+(x<<21&4294967295|x>>>11),x=E+(N^(v|~D))+A[8]+1873313359&4294967295,E=v+(x<<6&4294967295|x>>>26),x=D+(v^(E|~N))+A[15]+4264355552&4294967295,D=E+(x<<10&4294967295|x>>>22),x=N+(E^(D|~v))+A[6]+2734768916&4294967295,N=D+(x<<15&4294967295|x>>>17),x=v+(D^(N|~E))+A[13]+1309151649&4294967295,v=N+(x<<21&4294967295|x>>>11),x=E+(N^(v|~D))+A[4]+4149444226&4294967295,E=v+(x<<6&4294967295|x>>>26),x=D+(v^(E|~N))+A[11]+3174756917&4294967295,D=E+(x<<10&4294967295|x>>>22),x=N+(E^(D|~v))+A[2]+718787259&4294967295,N=D+(x<<15&4294967295|x>>>17),x=v+(D^(N|~E))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+D&4294967295}i.prototype.u=function(b,E){E===void 0&&(E=b.length);for(var v=E-this.blockSize,A=this.B,N=this.h,D=0;D<E;){if(N==0)for(;D<=v;)a(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<E;)if(A[N++]=b.charCodeAt(D++),N==this.blockSize){a(this,A),N=0;break}}else for(;D<E;)if(A[N++]=b[D++],N==this.blockSize){a(this,A),N=0;break}}this.h=N,this.o+=E},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;var v=8*this.o;for(E=b.length-8;E<b.length;++E)b[E]=v&255,v/=256;for(this.u(b),b=Array(16),E=v=0;4>E;++E)for(var A=0;32>A;A+=8)b[v++]=this.g[E]>>>A&255;return b};function r(b,E){var v=o;return Object.prototype.hasOwnProperty.call(v,b)?v[b]:v[b]=E(b)}function s(b,E){this.h=E;for(var v=[],A=!0,N=b.length-1;0<=N;N--){var D=b[N]|0;A&&D==E||(v[N]=D,A=!1)}this.g=v}var o={};function u(b){return-128<=b&&128>b?r(b,function(E){return new s([E|0],0>E?-1:0)}):new s([b|0],0>b?-1:0)}function h(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return C(h(-b));for(var E=[],v=1,A=0;b>=v;A++)E[A]=b/v|0,v*=4294967296;return new s(E,0)}function m(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return C(m(b.substring(1),E));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=h(Math.pow(E,8)),A=p,N=0;N<b.length;N+=8){var D=Math.min(8,b.length-N),x=parseInt(b.substring(N,N+D),E);8>D?(D=h(Math.pow(E,D)),A=A.j(D).add(h(x))):(A=A.j(v),A=A.add(h(x)))}return A}var p=u(0),g=u(1),y=u(16777216);e=s.prototype,e.m=function(){if(I(this))return-C(this).m();for(var b=0,E=1,v=0;v<this.g.length;v++){var A=this.i(v);b+=(0<=A?A:4294967296+A)*E,E*=4294967296}return b},e.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(R(this))return"0";if(I(this))return"-"+C(this).toString(b);for(var E=h(Math.pow(b,6)),v=this,A="";;){var N=M(v,E).g;v=S(v,N.j(E));var D=((0<v.g.length?v.g[0]:v.h)>>>0).toString(b);if(v=N,R(v))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},e.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function R(b){if(b.h!=0)return!1;for(var E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function I(b){return b.h==-1}e.l=function(b){return b=S(this,b),I(b)?-1:R(b)?0:1};function C(b){for(var E=b.g.length,v=[],A=0;A<E;A++)v[A]=~b.g[A];return new s(v,~b.h).add(g)}e.abs=function(){return I(this)?C(this):this},e.add=function(b){for(var E=Math.max(this.g.length,b.g.length),v=[],A=0,N=0;N<=E;N++){var D=A+(this.i(N)&65535)+(b.i(N)&65535),x=(D>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);A=x>>>16,D&=65535,x&=65535,v[N]=x<<16|D}return new s(v,v[v.length-1]&-2147483648?-1:0)};function S(b,E){return b.add(C(E))}e.j=function(b){if(R(this)||R(b))return p;if(I(this))return I(b)?C(this).j(C(b)):C(C(this).j(b));if(I(b))return C(this.j(C(b)));if(0>this.l(y)&&0>b.l(y))return h(this.m()*b.m());for(var E=this.g.length+b.g.length,v=[],A=0;A<2*E;A++)v[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<b.g.length;N++){var D=this.i(A)>>>16,x=this.i(A)&65535,B=b.i(N)>>>16,ft=b.i(N)&65535;v[2*A+2*N]+=x*ft,T(v,2*A+2*N),v[2*A+2*N+1]+=D*ft,T(v,2*A+2*N+1),v[2*A+2*N+1]+=x*B,T(v,2*A+2*N+1),v[2*A+2*N+2]+=D*B,T(v,2*A+2*N+2)}for(A=0;A<E;A++)v[A]=v[2*A+1]<<16|v[2*A];for(A=E;A<2*E;A++)v[A]=0;return new s(v,0)};function T(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function w(b,E){this.g=b,this.h=E}function M(b,E){if(R(E))throw Error("division by zero");if(R(b))return new w(p,p);if(I(b))return E=M(C(b),E),new w(C(E.g),C(E.h));if(I(E))return E=M(b,C(E)),new w(C(E.g),E.h);if(30<b.g.length){if(I(b)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var v=g,A=E;0>=A.l(b);)v=z(v),A=z(A);var N=U(v,1),D=U(A,1);for(A=U(A,2),v=U(v,2);!R(A);){var x=D.add(A);0>=x.l(b)&&(N=N.add(v),D=x),A=U(A,1),v=U(v,1)}return E=S(b,N.j(E)),new w(N,E)}for(N=p;0<=b.l(E);){for(v=Math.max(1,Math.floor(b.m()/E.m())),A=Math.ceil(Math.log(v)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=h(v),x=D.j(E);I(x)||0<x.l(b);)v-=A,D=h(v),x=D.j(E);R(D)&&(D=g),N=N.add(D),b=S(b,x)}return new w(N,b)}e.A=function(b){return M(this,b).h},e.and=function(b){for(var E=Math.max(this.g.length,b.g.length),v=[],A=0;A<E;A++)v[A]=this.i(A)&b.i(A);return new s(v,this.h&b.h)},e.or=function(b){for(var E=Math.max(this.g.length,b.g.length),v=[],A=0;A<E;A++)v[A]=this.i(A)|b.i(A);return new s(v,this.h|b.h)},e.xor=function(b){for(var E=Math.max(this.g.length,b.g.length),v=[],A=0;A<E;A++)v[A]=this.i(A)^b.i(A);return new s(v,this.h^b.h)};function z(b){for(var E=b.g.length+1,v=[],A=0;A<E;A++)v[A]=b.i(A)<<1|b.i(A-1)>>>31;return new s(v,b.h)}function U(b,E){var v=E>>5;E%=32;for(var A=b.g.length-v,N=[],D=0;D<A;D++)N[D]=0<E?b.i(D+v)>>>E|b.i(D+v+1)<<32-E:b.i(D+v);return new s(N,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,QT=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=m,Wi=s}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XT,os,$T,No,Df,JT,ZT,WT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,c,f){return l==Array.prototype||l==Object.prototype||(l[c]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof io=="object"&&io];for(var c=0;c<l.length;++c){var f=l[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function a(l,c){if(c)t:{var f=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var O=l[_];if(!(O in f))break t;f=f[O]}l=l[l.length-1],_=f[l],c=c(_),c!=_&&c!=null&&t(f,l,{configurable:!0,writable:!0,value:c})}}function r(l,c){l instanceof String&&(l+="");var f=0,_=!1,O={next:function(){if(!_&&f<l.length){var V=f++;return{value:c(V,l[V]),done:!1}}return _=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return r(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function u(l){var c=typeof l;return c=c!="object"?c:l?Array.isArray(l)?"array":c:"null",c=="array"||c=="object"&&typeof l.length=="number"}function h(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function m(l,c,f){return l.call.apply(l.bind,arguments)}function p(l,c,f){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,_),l.apply(c,O)}}return function(){return l.apply(c,arguments)}}function g(l,c,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,g.apply(null,arguments)}function y(l,c){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function R(l,c){function f(){}f.prototype=c.prototype,l.aa=c.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(_,O,V){for(var G=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)G[Tt-2]=arguments[Tt];return c.prototype[O].apply(_,G)}}function I(l){const c=l.length;if(0<c){const f=Array(c);for(let _=0;_<c;_++)f[_]=l[_];return f}return[]}function C(l,c){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const O=l.length||0,V=_.length||0;l.length=O+V;for(let G=0;G<V;G++)l[O+G]=_[G]}else l.push(_)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function T(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function M(l){return M[" "](l),l}M[" "]=function(){};var z=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function U(l,c,f){for(const _ in l)c.call(f,l[_],_,l)}function b(l,c){for(const f in l)c.call(void 0,l[f],f,l)}function E(l){const c={};for(const f in l)c[f]=l[f];return c}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,c){let f,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(f in _)l[f]=_[f];for(let V=0;V<v.length;V++)f=v[V],Object.prototype.hasOwnProperty.call(_,f)&&(l[f]=_[f])}}function N(l){var c=1;l=l.split(":");const f=[];for(;0<c&&l.length;)f.push(l.shift()),c--;return l.length&&f.push(l.join(":")),f}function D(l){o.setTimeout(()=>{throw l},0)}function x(){var l=vt;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class B{constructor(){this.h=this.g=null}add(c,f){const _=ft.get();_.set(c,f),this.h?this.h.next=_:this.g=_,this.h=_}}var ft=new S(()=>new H,l=>l.reset());class H{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let q,$=!1,vt=new B,Ct=()=>{const l=o.Promise.resolve(void 0);q=()=>{l.then(hn)}};var hn=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(f){D(f)}var c=ft;c.j(l),100>c.h&&(c.h++,l.next=c.g,c.g=l)}$=!1};function Yt(){this.s=this.s,this.C=this.C}Yt.prototype.s=!1,Yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};o.addEventListener("test",f,c),o.removeEventListener("test",f,c)}catch{}return l}();function nt(l,c){if(Dt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget){if(z){t:{try{M(c.nodeName);var O=!0;break t}catch{}O=!1}O||(c=null)}}else f=="mouseover"?c=l.fromElement:f=="mouseout"&&(c=l.toElement);this.relatedTarget=c,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ee[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&nt.aa.h.call(this)}}R(nt,Dt);var ee={2:"touch",3:"pen",4:"mouse"};nt.prototype.h=function(){nt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Kn="closure_listenable_"+(1e6*Math.random()|0),Or=0;function Mr(l,c,f,_,O){this.listener=l,this.proxy=null,this.src=c,this.type=f,this.capture=!!_,this.ha=O,this.key=++Or,this.da=this.fa=!1}function _a(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function El(l){this.src=l,this.g={},this.h=0}El.prototype.add=function(l,c,f,_,O){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var G=ac(l,c,_,O);return-1<G?(c=l[G],f||(c.fa=!1)):(c=new Mr(c,this.src,V,!!_,O),c.fa=f,l.push(c)),c};function ic(l,c){var f=c.type;if(f in l.g){var _=l.g[f],O=Array.prototype.indexOf.call(_,c,void 0),V;(V=0<=O)&&Array.prototype.splice.call(_,O,1),V&&(_a(c),l.g[f].length==0&&(delete l.g[f],l.h--))}}function ac(l,c,f,_){for(var O=0;O<l.length;++O){var V=l[O];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==_)return O}return-1}var rc="closure_lm_"+(1e6*Math.random()|0),sc={};function Rm(l,c,f,_,O){if(Array.isArray(c)){for(var V=0;V<c.length;V++)Rm(l,c[V],f,_,O);return null}return f=Om(f),l&&l[Kn]?l.K(c,f,h(_)?!!_.capture:!1,O):dA(l,c,f,!1,_,O)}function dA(l,c,f,_,O,V){if(!c)throw Error("Invalid event type");var G=h(O)?!!O.capture:!!O,Tt=oc(l);if(Tt||(l[rc]=Tt=new El(l)),f=Tt.add(c,f,_,G,V),f.proxy)return f;if(_=mA(),f.proxy=_,_.src=l,_.listener=f,l.addEventListener)L||(O=G),O===void 0&&(O=!1),l.addEventListener(c.toString(),_,O);else if(l.attachEvent)l.attachEvent(Dm(c.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function mA(){function l(f){return c.call(l.src,l.listener,f)}const c=gA;return l}function Cm(l,c,f,_,O){if(Array.isArray(c))for(var V=0;V<c.length;V++)Cm(l,c[V],f,_,O);else _=h(_)?!!_.capture:!!_,f=Om(f),l&&l[Kn]?(l=l.i,c=String(c).toString(),c in l.g&&(V=l.g[c],f=ac(V,f,_,O),-1<f&&(_a(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete l.g[c],l.h--)))):l&&(l=oc(l))&&(c=l.g[c.toString()],l=-1,c&&(l=ac(c,f,_,O)),(f=-1<l?c[l]:null)&&lc(f))}function lc(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[Kn])ic(c.i,l);else{var f=l.type,_=l.proxy;c.removeEventListener?c.removeEventListener(f,_,l.capture):c.detachEvent?c.detachEvent(Dm(f),_):c.addListener&&c.removeListener&&c.removeListener(_),(f=oc(c))?(ic(f,l),f.h==0&&(f.src=null,c[rc]=null)):_a(l)}}}function Dm(l){return l in sc?sc[l]:sc[l]="on"+l}function gA(l,c){if(l.da)l=!0;else{c=new nt(c,this);var f=l.listener,_=l.ha||l.src;l.fa&&lc(l),l=f.call(_,c)}return l}function oc(l){return l=l[rc],l instanceof El?l:null}var uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Om(l){return typeof l=="function"?l:(l[uc]||(l[uc]=function(c){return l.handleEvent(c)}),l[uc])}function de(){Yt.call(this),this.i=new El(this),this.M=this,this.F=null}R(de,Yt),de.prototype[Kn]=!0,de.prototype.removeEventListener=function(l,c,f,_){Cm(this,l,c,f,_)};function Ee(l,c){var f,_=l.F;if(_)for(f=[];_;_=_.F)f.push(_);if(l=l.M,_=c.type||c,typeof c=="string")c=new Dt(c,l);else if(c instanceof Dt)c.target=c.target||l;else{var O=c;c=new Dt(_,l),A(c,O)}if(O=!0,f)for(var V=f.length-1;0<=V;V--){var G=c.g=f[V];O=vl(G,_,!0,c)&&O}if(G=c.g=l,O=vl(G,_,!0,c)&&O,O=vl(G,_,!1,c)&&O,f)for(V=0;V<f.length;V++)G=c.g=f[V],O=vl(G,_,!1,c)&&O}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var l=this.i,c;for(c in l.g){for(var f=l.g[c],_=0;_<f.length;_++)_a(f[_]);delete l.g[c],l.h--}}this.F=null},de.prototype.K=function(l,c,f,_){return this.i.add(String(l),c,!1,f,_)},de.prototype.L=function(l,c,f,_){return this.i.add(String(l),c,!0,f,_)};function vl(l,c,f,_){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();for(var O=!0,V=0;V<c.length;++V){var G=c[V];if(G&&!G.da&&G.capture==f){var Tt=G.listener,ne=G.ha||G.src;G.fa&&ic(l.i,G),O=Tt.call(ne,_)!==!1&&O}}return O&&!_.defaultPrevented}function Mm(l,c,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:o.setTimeout(l,c||0)}function Vm(l){l.g=Mm(()=>{l.g=null,l.i&&(l.i=!1,Vm(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class pA extends Yt{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Vm(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(l){Yt.call(this),this.h=l,this.g={}}R(Vr,Yt);var Um=[];function Lm(l){U(l.g,function(c,f){this.g.hasOwnProperty(f)&&lc(c)},l),l.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Lm(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cc=o.JSON.stringify,yA=o.JSON.parse,_A=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function hc(){}hc.prototype.h=null;function km(l){return l.h||(l.h=l.i())}function jm(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fc(){Dt.call(this,"d")}R(fc,Dt);function dc(){Dt.call(this,"c")}R(dc,Dt);var Mi={},Bm=null;function Tl(){return Bm=Bm||new de}Mi.La="serverreachability";function Pm(l){Dt.call(this,Mi.La,l)}R(Pm,Dt);function Lr(l){const c=Tl();Ee(c,new Pm(c))}Mi.STAT_EVENT="statevent";function zm(l,c){Dt.call(this,Mi.STAT_EVENT,l),this.stat=c}R(zm,Dt);function ve(l){const c=Tl();Ee(c,new zm(c,l))}Mi.Ma="timingevent";function Hm(l,c){Dt.call(this,Mi.Ma,l),this.size=c}R(Hm,Dt);function kr(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},c)}function jr(){this.g=!0}jr.prototype.xa=function(){this.g=!1};function EA(l,c,f,_,O,V){l.info(function(){if(l.g)if(V)for(var G="",Tt=V.split("&"),ne=0;ne<Tt.length;ne++){var ct=Tt[ne].split("=");if(1<ct.length){var me=ct[0];ct=ct[1];var ge=me.split("_");G=2<=ge.length&&ge[1]=="type"?G+(me+"="+ct+"&"):G+(me+"=redacted&")}}else G=null;else G=V;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+c+`
`+f+`
`+G})}function vA(l,c,f,_,O,V,G){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+c+`
`+f+`
`+V+" "+G})}function Ea(l,c,f,_){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+bA(l,f)+(_?" "+_:"")})}function TA(l,c){l.info(function(){return"TIMEOUT: "+c})}jr.prototype.info=function(){};function bA(l,c){if(!l.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var _=f[l];if(!(2>_.length)){var O=_[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return cc(f)}catch{return c}}var bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mc;function Al(){}R(Al,hc),Al.prototype.g=function(){return new XMLHttpRequest},Al.prototype.i=function(){return{}},mc=new Al;function Qn(l,c,f,_){this.j=l,this.i=c,this.l=f,this.R=_||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fm}function Fm(){this.i=null,this.g="",this.h=!1}var qm={},gc={};function pc(l,c,f){l.L=1,l.v=Nl(An(c)),l.m=f,l.P=!0,Ym(l,null)}function Ym(l,c){l.F=Date.now(),Sl(l),l.A=An(l.v);var f=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),sg(f.i,"t",_),l.C=0,f=l.j.J,l.h=new Fm,l.g=Sg(l.j,f?c:null,!l.m),0<l.O&&(l.M=new pA(g(l.Y,l,l.g),l.O)),c=l.U,f=l.g,_=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Um[0]=O.toString()),O=Um);for(var V=0;V<O.length;V++){var G=Rm(f,O[V],_||c.handleEvent,!1,c.h||c);if(!G)break;c.g[G.key]=G}c=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,c)):(l.u="GET",l.g.ea(l.A,l.u,null,c)),Lr(),EA(l.i,l.u,l.A,l.l,l.R,l.m)}Qn.prototype.ca=function(l){l=l.target;const c=this.M;c&&Sn(l)==3?c.j():this.Y(l)},Qn.prototype.Y=function(l){try{if(l==this.g)t:{const ge=Sn(this.g);var c=this.g.Ba();const ba=this.g.Z();if(!(3>ge)&&(ge!=3||this.g&&(this.h.h||this.g.oa()||dg(this.g)))){this.J||ge!=4||c==7||(c==8||0>=ba?Lr(3):Lr(2)),yc(this);var f=this.g.Z();this.X=f;e:if(Km(this)){var _=dg(this.g);l="";var O=_.length,V=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),Br(this);var G="";break e}this.h.i=new o.TextDecoder}for(c=0;c<O;c++)this.h.h=!0,l+=this.h.i.decode(_[c],{stream:!(V&&c==O-1)});_.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=f==200,vA(this.i,this.u,this.A,this.l,this.R,ge,f),this.o){if(this.T&&!this.K){e:{if(this.g){var Tt,ne=this.g;if((Tt=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Tt)){var ct=Tt;break e}}ct=null}if(f=ct)Ea(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_c(this,f);else{this.o=!1,this.s=3,ve(12),Vi(this),Br(this);break t}}if(this.P){f=!0;let sn;for(;!this.J&&this.C<G.length;)if(sn=AA(this,G),sn==gc){ge==4&&(this.s=4,ve(14),f=!1),Ea(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==qm){this.s=4,ve(15),Ea(this.i,this.l,G,"[Invalid Chunk]"),f=!1;break}else Ea(this.i,this.l,sn,null),_c(this,sn);if(Km(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||G.length!=0||this.h.h||(this.s=1,ve(16),f=!1),this.o=this.o&&f,!f)Ea(this.i,this.l,G,"[Invalid Chunked Response]"),Vi(this),Br(this);else if(0<G.length&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.ba&&!me.M&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Sc(me),me.M=!0,ve(11))}}else Ea(this.i,this.l,G,null),_c(this,G);ge==4&&Vi(this),this.o&&!this.J&&(ge==4?vg(this.j,this):(this.o=!1,Sl(this)))}else PA(this.g),f==400&&0<G.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),Vi(this),Br(this)}}}catch{}finally{}};function Km(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function AA(l,c){var f=l.C,_=c.indexOf(`
`,f);return _==-1?gc:(f=Number(c.substring(f,_)),isNaN(f)?qm:(_+=1,_+f>c.length?gc:(c=c.slice(_,_+f),l.C=_+f,c)))}Qn.prototype.cancel=function(){this.J=!0,Vi(this)};function Sl(l){l.S=Date.now()+l.I,Qm(l,l.I)}function Qm(l,c){if(l.B!=null)throw Error("WatchDog timer not null");l.B=kr(g(l.ba,l),c)}function yc(l){l.B&&(o.clearTimeout(l.B),l.B=null)}Qn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(TA(this.i,this.A),this.L!=2&&(Lr(),ve(17)),Vi(this),this.s=2,Br(this)):Qm(this,this.S-l)};function Br(l){l.j.G==0||l.J||vg(l.j,l)}function Vi(l){yc(l);var c=l.M;c&&typeof c.ma=="function"&&c.ma(),l.M=null,Lm(l.U),l.g&&(c=l.g,l.g=null,c.abort(),c.ma())}function _c(l,c){try{var f=l.j;if(f.G!=0&&(f.g==l||Ec(f.h,l))){if(!l.K&&Ec(f.h,l)&&f.G==3){try{var _=f.Da.g.parse(c)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Ml(f),Dl(f);else break t;Ac(f),ve(18)}}else f.za=O[1],0<f.za-f.T&&37500>O[2]&&f.F&&f.v==0&&!f.C&&(f.C=kr(g(f.Za,f),6e3));if(1>=Jm(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Li(f,11)}else if((l.K||f.g==l)&&Ml(f),!T(c))for(O=f.Da.g.parse(c),c=0;c<O.length;c++){let ct=O[c];if(f.T=ct[0],ct=ct[1],f.G==2)if(ct[0]=="c"){f.K=ct[1],f.ia=ct[2];const me=ct[3];me!=null&&(f.la=me,f.j.info("VER="+f.la));const ge=ct[4];ge!=null&&(f.Aa=ge,f.j.info("SVER="+f.Aa));const ba=ct[5];ba!=null&&typeof ba=="number"&&0<ba&&(_=1.5*ba,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const sn=l.g;if(sn){const Ul=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var V=_.h;V.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(vc(V,V.h),V.h=null))}if(_.D){const xc=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(_.ya=xc,St(_.I,_.D,xc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var G=l;if(_.qa=Ag(_,_.J?_.ia:null,_.W),G.K){Zm(_.h,G);var Tt=G,ne=_.L;ne&&(Tt.I=ne),Tt.B&&(yc(Tt),Sl(Tt)),_.g=G}else _g(_);0<f.i.length&&Ol(f)}else ct[0]!="stop"&&ct[0]!="close"||Li(f,7);else f.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Li(f,7):bc(f):ct[0]!="noop"&&f.l&&f.l.ta(ct),f.v=0)}}Lr(4)}catch{}}var SA=class{constructor(l,c){this.g=l,this.map=c}};function Xm(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $m(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Jm(l){return l.h?1:l.g?l.g.size:0}function Ec(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function vc(l,c){l.g?l.g.add(c):l.h=c}function Zm(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}Xm.prototype.cancel=function(){if(this.i=Wm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Wm(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const f of l.g.values())c=c.concat(f.D);return c}return I(l.i)}function xA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var c=[],f=l.length,_=0;_<f;_++)c.push(l[_]);return c}c=[],f=0;for(_ in l)c[f++]=l[_];return c}function wA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var c=[];l=l.length;for(var f=0;f<l;f++)c.push(f);return c}c=[],f=0;for(const _ in l)c[f++]=_;return c}}}function tg(l,c){if(l.forEach&&typeof l.forEach=="function")l.forEach(c,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,c,void 0);else for(var f=wA(l),_=xA(l),O=_.length,V=0;V<O;V++)c.call(void 0,_[V],f&&f[V],l)}var eg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NA(l,c){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var _=l[f].indexOf("="),O=null;if(0<=_){var V=l[f].substring(0,_);O=l[f].substring(_+1)}else V=l[f];c(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ui(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ui){this.h=l.h,xl(this,l.j),this.o=l.o,this.g=l.g,wl(this,l.s),this.l=l.l;var c=l.i,f=new Hr;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),ng(this,f),this.m=l.m}else l&&(c=String(l).match(eg))?(this.h=!1,xl(this,c[1]||"",!0),this.o=Pr(c[2]||""),this.g=Pr(c[3]||"",!0),wl(this,c[4]),this.l=Pr(c[5]||"",!0),ng(this,c[6]||"",!0),this.m=Pr(c[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}Ui.prototype.toString=function(){var l=[],c=this.j;c&&l.push(zr(c,ig,!0),":");var f=this.g;return(f||c=="file")&&(l.push("//"),(c=this.o)&&l.push(zr(c,ig,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(zr(f,f.charAt(0)=="/"?CA:RA,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",zr(f,OA)),l.join("")};function An(l){return new Ui(l)}function xl(l,c,f){l.j=f?Pr(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function wl(l,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);l.s=c}else l.s=null}function ng(l,c,f){c instanceof Hr?(l.i=c,MA(l.i,l.h)):(f||(c=zr(c,DA)),l.i=new Hr(c,l.h))}function St(l,c,f){l.i.set(c,f)}function Nl(l){return St(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pr(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function zr(l,c,f){return typeof l=="string"?(l=encodeURI(l).replace(c,IA),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function IA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ig=/[#\/\?@]/g,RA=/[#\?:]/g,CA=/[#\?]/g,DA=/[#\?@]/g,OA=/#/g;function Hr(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function Xn(l){l.g||(l.g=new Map,l.h=0,l.i&&NA(l.i,function(c,f){l.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Hr.prototype,e.add=function(l,c){Xn(this),this.i=null,l=va(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(c),this.h+=1,this};function ag(l,c){Xn(l),c=va(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function rg(l,c){return Xn(l),c=va(l,c),l.g.has(c)}e.forEach=function(l,c){Xn(this),this.g.forEach(function(f,_){f.forEach(function(O){l.call(c,O,_,this)},this)},this)},e.na=function(){Xn(this);const l=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let _=0;_<c.length;_++){const O=l[_];for(let V=0;V<O.length;V++)f.push(c[_])}return f},e.V=function(l){Xn(this);let c=[];if(typeof l=="string")rg(this,l)&&(c=c.concat(this.g.get(va(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)c=c.concat(l[f])}return c},e.set=function(l,c){return Xn(this),this.i=null,l=va(this,l),rg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=this.V(l),0<l.length?String(l[0]):c):c};function sg(l,c,f){ag(l,c),0<f.length&&(l.i=null,l.g.set(va(l,c),I(f)),l.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var _=c[f];const V=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var O=V;G[_]!==""&&(O+="="+encodeURIComponent(String(G[_]))),l.push(O)}}return this.i=l.join("&")};function va(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function MA(l,c){c&&!l.j&&(Xn(l),l.i=null,l.g.forEach(function(f,_){var O=_.toLowerCase();_!=O&&(ag(this,_),sg(this,O,f))},l)),l.j=c}function VA(l,c){const f=new jr;if(o.Image){const _=new Image;_.onload=y($n,f,"TestLoadImage: loaded",!0,c,_),_.onerror=y($n,f,"TestLoadImage: error",!1,c,_),_.onabort=y($n,f,"TestLoadImage: abort",!1,c,_),_.ontimeout=y($n,f,"TestLoadImage: timeout",!1,c,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else c(!1)}function UA(l,c){const f=new jr,_=new AbortController,O=setTimeout(()=>{_.abort(),$n(f,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:_.signal}).then(V=>{clearTimeout(O),V.ok?$n(f,"TestPingServer: ok",!0,c):$n(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(O),$n(f,"TestPingServer: error",!1,c)})}function $n(l,c,f,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(f)}catch{}}function LA(){this.g=new _A}function kA(l,c,f){const _=f||"";try{tg(l,function(O,V){let G=O;h(O)&&(G=cc(O)),c.push(_+V+"="+encodeURIComponent(G))})}catch(O){throw c.push(_+"type="+encodeURIComponent("_badmap")),O}}function Il(l){this.l=l.Ub||null,this.j=l.eb||!1}R(Il,hc),Il.prototype.g=function(){return new Rl(this.l,this.j)},Il.prototype.i=function(l){return function(){return l}}({});function Rl(l,c){de.call(this),this.D=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Rl,de),e=Rl.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=c,this.readyState=1,Fr(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(c.body=l),(this.D||o).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function lg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?Gr(this):Fr(this),this.readyState==3&&lg(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Gr(this))},e.Qa=function(l){this.g&&(this.response=l,Gr(this))},e.ga=function(){this.g&&Gr(this)};function Gr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Fr(l)}e.setRequestHeader=function(l,c){this.u.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=c.next();return l.join(`\r
`)};function Fr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function og(l){let c="";return U(l,function(f,_){c+=_,c+=":",c+=f,c+=`\r
`}),c}function Tc(l,c,f){t:{for(_ in f){var _=!1;break t}_=!0}_||(f=og(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):St(l,c,f))}function Vt(l){de.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Vt,de);var jA=/^https?$/i,BA=["POST","PUT"];e=Vt.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,c,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mc.g(),this.v=this.o?km(this.o):km(mc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(V){ug(this,V);return}if(l=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)f.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())f.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(BA,c,void 0))||_||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of f)this.g.setRequestHeader(V,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fg(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){ug(this,V)}};function ug(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.m=5,cg(l),Cl(l)}function cg(l){l.A||(l.A=!0,Ee(l,"complete"),Ee(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ee(this,"complete"),Ee(this,"abort"),Cl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cl(this,!0)),Vt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?hg(this):this.bb())},e.bb=function(){hg(this)};function hg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Sn(l)!=4||l.Z()!=2)){if(l.u&&Sn(l)==4)Mm(l.Ea,0,l);else if(Ee(l,"readystatechange"),Sn(l)==4){l.h=!1;try{const G=l.Z();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var _;if(_=G===0){var O=String(l.D).match(eg)[1]||null;!O&&o.self&&o.self.location&&(O=o.self.location.protocol.slice(0,-1)),_=!jA.test(O?O.toLowerCase():"")}f=_}if(f)Ee(l,"complete"),Ee(l,"success");else{l.m=6;try{var V=2<Sn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",cg(l)}}finally{Cl(l)}}}}function Cl(l,c){if(l.g){fg(l);const f=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,c||Ee(l,"ready");try{f.onreadystatechange=_}catch{}}}function fg(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function Sn(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),yA(c)}};function dg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function PA(l){const c={};l=(l.g&&2<=Sn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(T(l[_]))continue;var f=N(l[_]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[O]||[];c[O]=V,V.push(f)}b(c,function(_){return _.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(l,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||c}function mg(l){this.Aa=0,this.i=[],this.j=new jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,l),this.cb=qr("retryDelaySeedMs",1e4,l),this.Wa=qr("forwardChannelMaxRetries",2,l),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Xm(l&&l.concurrentRequestLimit),this.Da=new LA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=mg.prototype,e.la=8,e.G=1,e.connect=function(l,c,f,_){ve(0),this.W=l,this.H=c||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=Ag(this,null,this.W),Ol(this)};function bc(l){if(gg(l),l.G==3){var c=l.U++,f=An(l.I);if(St(f,"SID",l.K),St(f,"RID",c),St(f,"TYPE","terminate"),Yr(l,f),c=new Qn(l,l.j,c),c.L=2,c.v=Nl(An(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&o.Image&&(new Image().src=c.v,f=!0),f||(c.g=Sg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Sl(c)}bg(l)}function Dl(l){l.g&&(Sc(l),l.g.cancel(),l.g=null)}function gg(l){Dl(l),l.u&&(o.clearTimeout(l.u),l.u=null),Ml(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function Ol(l){if(!$m(l.h)&&!l.s){l.s=!0;var c=l.Ga;q||Ct(),$||(q(),$=!0),vt.add(c,l),l.B=0}}function zA(l,c){return Jm(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=c.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=kr(g(l.Ga,l,c),Tg(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Qn(this,this.j,l);let V=this.o;if(this.S&&(V?(V=E(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break e}_=void 0}if(_===void 0)break;if(c+=_,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=yg(this,O,c),f=An(this.I),St(f,"RID",l),St(f,"CVER",22),this.D&&St(f,"X-HTTP-Session-Id",this.D),Yr(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(og(V)))+"&"+c:this.m&&Tc(f,this.m,V)),vc(this.h,O),this.Ua&&St(f,"TYPE","init"),this.P?(St(f,"$req",c),St(f,"SID","null"),O.T=!0,pc(O,f,null)):pc(O,f,c),this.G=2}}else this.G==3&&(l?pg(this,l):this.i.length==0||$m(this.h)||pg(this))};function pg(l,c){var f;c?f=c.l:f=l.U++;const _=An(l.I);St(_,"SID",l.K),St(_,"RID",f),St(_,"AID",l.T),Yr(l,_),l.m&&l.o&&Tc(_,l.m,l.o),f=new Qn(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),c&&(l.i=c.D.concat(l.i)),c=yg(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vc(l.h,f),pc(f,_,c)}function Yr(l,c){l.H&&U(l.H,function(f,_){St(c,_,f)}),l.l&&tg({},function(f,_){St(c,_,f)})}function yg(l,c,f){f=Math.min(l.i.length,f);var _=l.l?g(l.l.Na,l.l,l):null;t:{var O=l.i;let V=-1;for(;;){const G=["count="+f];V==-1?0<f?(V=O[0].g,G.push("ofs="+V)):V=0:G.push("ofs="+V);let Tt=!0;for(let ne=0;ne<f;ne++){let ct=O[ne].g;const me=O[ne].map;if(ct-=V,0>ct)V=Math.max(0,O[ne].g-100),Tt=!1;else try{kA(me,G,"req"+ct+"_")}catch{_&&_(me)}}if(Tt){_=G.join("&");break t}}}return l=l.i.splice(0,f),c.D=l,_}function _g(l){if(!l.g&&!l.u){l.Y=1;var c=l.Fa;q||Ct(),$||(q(),$=!0),vt.add(c,l),l.v=0}}function Ac(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=kr(g(l.Fa,l),Tg(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Eg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=kr(g(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),Dl(this),Eg(this))};function Sc(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function Eg(l){l.g=new Qn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var c=An(l.qa);St(c,"RID","rpc"),St(c,"SID",l.K),St(c,"AID",l.T),St(c,"CI",l.F?"0":"1"),!l.F&&l.ja&&St(c,"TO",l.ja),St(c,"TYPE","xmlhttp"),Yr(l,c),l.m&&l.o&&Tc(c,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Nl(An(c)),f.m=null,f.P=!0,Ym(f,l)}e.Za=function(){this.C!=null&&(this.C=null,Dl(this),Ac(this),ve(19))};function Ml(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function vg(l,c){var f=null;if(l.g==c){Ml(l),Sc(l),l.g=null;var _=2}else if(Ec(l.h,c))f=c.D,Zm(l.h,c),_=1;else return;if(l.G!=0){if(c.o)if(_==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var O=l.B;_=Tl(),Ee(_,new Hm(_,f)),Ol(l)}else _g(l);else if(O=c.s,O==3||O==0&&0<c.X||!(_==1&&zA(l,c)||_==2&&Ac(l)))switch(f&&0<f.length&&(c=l.h,c.i=c.i.concat(f)),O){case 1:Li(l,5);break;case 4:Li(l,10);break;case 3:Li(l,6);break;default:Li(l,2)}}}function Tg(l,c){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*c}function Li(l,c){if(l.j.info("Error code "+c),c==2){var f=g(l.fb,l),_=l.Xa;const O=!_;_=new Ui(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||xl(_,"https"),Nl(_),O?VA(_.toString(),f):UA(_.toString(),f)}else ve(2);l.G=0,l.l&&l.l.sa(c),bg(l),gg(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function bg(l){if(l.G=0,l.ka=[],l.l){const c=Wm(l.h);(c.length!=0||l.i.length!=0)&&(C(l.ka,c),C(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function Ag(l,c,f){var _=f instanceof Ui?An(f):new Ui(f);if(_.g!="")c&&(_.g=c+"."+_.g),wl(_,_.s);else{var O=o.location;_=O.protocol,c=c?c+"."+O.hostname:O.hostname,O=+O.port;var V=new Ui(null);_&&xl(V,_),c&&(V.g=c),O&&wl(V,O),f&&(V.l=f),_=V}return f=l.D,c=l.ya,f&&c&&St(_,f,c),St(_,"VER",l.la),Yr(l,_),_}function Sg(l,c,f){if(c&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Ca&&!l.pa?new Vt(new Il({eb:f})):new Vt(l.pa),c.Ha(l.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function xg(){}e=xg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Vl(){}Vl.prototype.g=function(l,c){return new Ue(l,c)};function Ue(l,c){de.call(this),this.g=new mg(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(l?l["X-WebChannel-Client-Profile"]=c.va:l={"X-WebChannel-Client-Profile":c.va}),this.g.S=l,(l=c&&c.Sb)&&!T(l)&&(this.g.m=l),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!T(c)&&(this.g.D=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new Ta(this)}R(Ue,de),Ue.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ue.prototype.close=function(){bc(this.g)},Ue.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=cc(l),l=f);c.i.push(new SA(c.Ya++,l)),c.G==3&&Ol(c)},Ue.prototype.N=function(){this.g.l=null,delete this.j,bc(this.g),delete this.g,Ue.aa.N.call(this)};function wg(l){fc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const f in c){l=f;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}R(wg,fc);function Ng(){dc.call(this),this.status=1}R(Ng,dc);function Ta(l){this.g=l}R(Ta,xg),Ta.prototype.ua=function(){Ee(this.g,"a")},Ta.prototype.ta=function(l){Ee(this.g,new wg(l))},Ta.prototype.sa=function(l){Ee(this.g,new Ng)},Ta.prototype.ra=function(){Ee(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,Ue.prototype.send=Ue.prototype.o,Ue.prototype.open=Ue.prototype.m,Ue.prototype.close=Ue.prototype.close,WT=function(){return new Vl},ZT=function(){return Tl()},JT=Mi,Df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,No=bl,Gm.COMPLETE="complete",$T=Gm,jm.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",de.prototype.listen=de.prototype.K,os=jm,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,XT=Vt}).apply(typeof io<"u"?io:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ye.UNAUTHENTICATED=new ye(null),ye.GOOGLE_CREDENTIALS=new ye("google-credentials-uid"),ye.FIRST_PARTY=new ye("first-party-uid"),ye.MOCK_USER=new ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new HT("@firebase/firestore");function es(){return oa.logLevel}function F(e,...t){if(oa.logLevel<=ut.DEBUG){const n=t.map(Zd);oa.debug(`Firestore (${Rr}): ${e}`,...n)}}function Fn(e,...t){if(oa.logLevel<=ut.ERROR){const n=t.map(Zd);oa.error(`Firestore (${Rr}): ${e}`,...n)}}function dr(e,...t){if(oa.logLevel<=ut.WARN){const n=t.map(Zd);oa.warn(`Firestore (${Rr}): ${e}`,...n)}}function Zd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e="Unexpected state"){const t=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: `+e;throw Fn(t),new Error(t)}function yt(e,t){e||J()}function W(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ir{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ye.UNAUTHENTICATED))}shutdown(){}}class gN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pN{constructor(t){this.t=t,this.currentUser=ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){yt(this.o===void 0);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ta,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ta)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string"),new tb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return yt(t===null||typeof t=="string"),new ye(t)}}class yN{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _N{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new yN(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vN{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){yt(this.o===void 0);const i=r=>{r.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const s=r.token!==this.R;return this.R=r.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const a=r=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>a(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?a(r):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(yt(typeof n.token=="string"),this.R=n.token,new EN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const a=TN(40);for(let r=0;r<a.length;++r)i.length<20&&a[r]<n&&(i+=t.charAt(a[r]%t.length))}return i}}function ht(e,t){return e<t?-1:e>t?1:0}function mr(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Xt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ht(this.nanoseconds,t.nanoseconds):ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new Xt(0,0))}static max(){return new Z(new Xt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t,n,i){n===void 0?n=0:n>t.length&&J(),i===void 0?i=t.length-n:i>t.length-n&&J(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ks.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ks?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const r=t.get(a),s=n.get(a);if(r<s)return-1;if(r>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class kt extends Ks{construct(t,n,i){return new kt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Y(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const bN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends Ks{construct(t,n,i){return new le(t,n,i)}static isValidIdentifier(t){return bN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new le(["__name__"])}static fromServerFormat(t){const n=[];let i="",a=0;const r=()=>{if(i.length===0)throw new Y(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Y(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(i+=o,a++):(r(),a++)}if(r(),s)throw new Y(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new le(n)}static emptyPath(){return new le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K(kt.fromString(t))}static fromName(t){return new K(kt.fromString(t).popFirst(5))}static empty(){return new K(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new kt(t.slice()))}}function AN(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=Z.fromTimestamp(i===1e9?new Xt(n+1,0):new Xt(n,i));return new Ni(a,K.empty(),t)}function SN(e){return new Ni(e.readTime,e.key,-1)}class Ni{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ni(Z.min(),K.empty(),-1)}static max(){return new Ni(Z.max(),K.empty(),-1)}}function xN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==wN)throw e;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((i,a)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,a)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,i)=>{n(t)})}static reject(t){return new j((n,i)=>{i(t)})}static waitFor(t){return new j((n,i)=>{let a=0,r=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++r,s&&r===a&&n()},u=>i(u))}),s=!0,r===a&&n()})}static or(t){let n=j.resolve(!1);for(const i of t)n=n.next(a=>a?j.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,r)=>{i.push(n.call(this,a,r))}),this.waitFor(i)}static mapArray(t,n){return new j((i,a)=>{const r=t.length,s=new Array(r);let o=0;for(let u=0;u<r;u++){const h=u;n(t[h]).next(m=>{s[h]=m,++o,o===r&&i(s)},m=>a(m))}})}static doWhile(t,n){return new j((i,a)=>{const r=()=>{t()===!0?n().next(()=>{r()},a):i()};r()})}}function IN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Wd.oe=-1;function Gu(e){return e==null}function fu(e){return e===0&&1/e==-1/0}function RN(e){return typeof e=="number"&&Number.isInteger(e)&&!fu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,n){this.comparator=t,this.root=n||ae.EMPTY}insert(t,n){return new Mt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ae.BLACK,null,null))}remove(t){return new Mt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ae.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ao(this.root,t,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ao(this.root,t,this.comparator,!0)}}class ao{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&a&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ae{constructor(t,n,i,a,r){this.key=t,this.value=n,this.color=i??ae.RED,this.left=a??ae.EMPTY,this.right=r??ae.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,r){return new ae(t??this.key,n??this.value,i??this.color,a??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const r=i(t,a.key);return a=r<0?a.copy(null,null,null,a.left.insert(t,n,i),null):r===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ae.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return ae.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const t=this.left.check();if(t!==this.right.check())throw J();return t+(this.isRed()?0:1)}}ae.EMPTY=null,ae.RED=!0,ae.BLACK=!1;ae.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,n,i,a,r){return this}insert(t,n,i){return new ae(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.comparator=t,this.data=new Mt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(t){return new Iy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(this.comparator(a,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ce(this.comparator);return n.data=t,n}}class Iy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.fields=t,t.sort(le.comparator)}static empty(){return new Pe([])}unionWith(t){let n=new ce(le.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Pe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new ib("Invalid base64 string: "+r):r}}(t);return new he(n)}static fromUint8Array(t){const n=function(a){let r="";for(let s=0;s<a.length;++s)r+=String.fromCharCode(a[s]);return r}(t);return new he(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}he.EMPTY_BYTE_STRING=new he("");const CN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(e){if(yt(!!e),typeof e=="string"){let t=0;const n=CN.exec(e);if(yt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jt(e.seconds),nanos:jt(e.nanos)}}function jt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ua(e){return typeof e=="string"?he.fromBase64String(e):he.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function em(e){const t=e.mapValue.fields.__previous_value__;return tm(t)?em(t):t}function Qs(e){const t=Ii(e.mapValue.fields.__local_write_time__.timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t,n,i,a,r,s,o,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h}}class Xs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Xs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Xs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro={mapValue:{}};function ca(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tm(e)?4:MN(e)?9007199254740991:ON(e)?10:11:J()}function En(e,t){if(e===t)return!0;const n=ca(e);if(n!==ca(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qs(e).isEqual(Qs(t));case 3:return function(a,r){if(typeof a.timestampValue=="string"&&typeof r.timestampValue=="string"&&a.timestampValue.length===r.timestampValue.length)return a.timestampValue===r.timestampValue;const s=Ii(a.timestampValue),o=Ii(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,r){return ua(a.bytesValue).isEqual(ua(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,r){return jt(a.geoPointValue.latitude)===jt(r.geoPointValue.latitude)&&jt(a.geoPointValue.longitude)===jt(r.geoPointValue.longitude)}(e,t);case 2:return function(a,r){if("integerValue"in a&&"integerValue"in r)return jt(a.integerValue)===jt(r.integerValue);if("doubleValue"in a&&"doubleValue"in r){const s=jt(a.doubleValue),o=jt(r.doubleValue);return s===o?fu(s)===fu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return mr(e.arrayValue.values||[],t.arrayValue.values||[],En);case 10:case 11:return function(a,r){const s=a.mapValue.fields||{},o=r.mapValue.fields||{};if(Ny(s)!==Ny(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!En(s[u],o[u])))return!1;return!0}(e,t);default:return J()}}function $s(e,t){return(e.values||[]).find(n=>En(n,t))!==void 0}function gr(e,t){if(e===t)return 0;const n=ca(e),i=ca(t);if(n!==i)return ht(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(e.booleanValue,t.booleanValue);case 2:return function(r,s){const o=jt(r.integerValue||r.doubleValue),u=jt(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Ry(e.timestampValue,t.timestampValue);case 4:return Ry(Qs(e),Qs(t));case 5:return ht(e.stringValue,t.stringValue);case 6:return function(r,s){const o=ua(r),u=ua(s);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const m=ht(o[h],u[h]);if(m!==0)return m}return ht(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){const o=ht(jt(r.latitude),jt(s.latitude));return o!==0?o:ht(jt(r.longitude),jt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Cy(e.arrayValue,t.arrayValue);case 10:return function(r,s){var o,u,h,m;const p=r.fields||{},g=s.fields||{},y=(o=p.value)===null||o===void 0?void 0:o.arrayValue,R=(u=g.value)===null||u===void 0?void 0:u.arrayValue,I=ht(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:Cy(y,R)}(e.mapValue,t.mapValue);case 11:return function(r,s){if(r===ro.mapValue&&s===ro.mapValue)return 0;if(r===ro.mapValue)return 1;if(s===ro.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),h=s.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let p=0;p<u.length&&p<m.length;++p){const g=ht(u[p],m[p]);if(g!==0)return g;const y=gr(o[u[p]],h[m[p]]);if(y!==0)return y}return ht(u.length,m.length)}(e.mapValue,t.mapValue);default:throw J()}}function Ry(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ht(e,t);const n=Ii(e),i=Ii(t),a=ht(n.seconds,i.seconds);return a!==0?a:ht(n.nanos,i.nanos)}function Cy(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const r=gr(n[a],i[a]);if(r)return r}return ht(n.length,i.length)}function pr(e){return Of(e)}function Of(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ii(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ua(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const r of n.values||[])a?a=!1:i+=",",i+=Of(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",r=!0;for(const s of i)r?r=!1:a+=",",a+=`${s}:${Of(n.fields[s])}`;return a+"}"}(e.mapValue):J()}function Mf(e){return!!e&&"integerValue"in e}function nm(e){return!!e&&"arrayValue"in e}function Dy(e){return!!e&&"nullValue"in e}function Oy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Io(e){return!!e&&"mapValue"in e}function ON(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ns(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function MN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.value=t}static empty(){return new De({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Io(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ns(n)}setAll(t){let n=le.emptyPath(),i={},a=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}s?i[o.lastSegment()]=Ns(s):a.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,a)}delete(t){const n=this.field(t.popLast());Io(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return En(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];Io(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){pa(n,(a,r)=>t[a]=r);for(const a of i)delete t[a]}clone(){return new De(Ns(this.value))}}function ab(e){const t=[];return pa(e.fields,(n,i)=>{const a=new le([n]);if(Io(i)){const r=ab(i.mapValue).fields;if(r.length===0)t.push(a);else for(const s of r)t.push(a.child(s))}else t.push(a)}),new Pe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,n,i,a,r,s,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new _e(t,0,Z.min(),Z.min(),Z.min(),De.empty(),0)}static newFoundDocument(t,n,i,a){return new _e(t,1,n,Z.min(),i,a,0)}static newNoDocument(t,n){return new _e(t,2,n,Z.min(),Z.min(),De.empty(),0)}static newUnknownDocument(t,n){return new _e(t,3,n,Z.min(),Z.min(),De.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=De.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=De.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof _e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.position=t,this.inclusive=n}}function My(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const r=t[a],s=e.position[a];if(r.field.isKeyField()?i=K.comparator(K.fromName(s.referenceValue),n.key):i=gr(s,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!En(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n="asc"){this.field=t,this.dir=n}}function VN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{}class Qt extends rb{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new LN(t,n,i):n==="array-contains"?new BN(t,i):n==="in"?new PN(t,i):n==="not-in"?new zN(t,i):n==="array-contains-any"?new HN(t,i):new Qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new kN(t,i):new jN(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gr(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(gr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends rb{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new vn(t,n)}matches(t){return sb(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sb(e){return e.op==="and"}function lb(e){return UN(e)&&sb(e)}function UN(e){for(const t of e.filters)if(t instanceof vn)return!1;return!0}function Vf(e){if(e instanceof Qt)return e.field.canonicalString()+e.op.toString()+pr(e.value);if(lb(e))return e.filters.map(t=>Vf(t)).join(",");{const t=e.filters.map(n=>Vf(n)).join(",");return`${e.op}(${t})`}}function ob(e,t){return e instanceof Qt?function(i,a){return a instanceof Qt&&i.op===a.op&&i.field.isEqual(a.field)&&En(i.value,a.value)}(e,t):e instanceof vn?function(i,a){return a instanceof vn&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((r,s,o)=>r&&ob(s,a.filters[o]),!0):!1}(e,t):void J()}function ub(e){return e instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${pr(n.value)}`}(e):e instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(ub).join(" ,")+"}"}(e):"Filter"}class LN extends Qt{constructor(t,n,i){super(t,n,i),this.key=K.fromName(i.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class kN extends Qt{constructor(t,n){super(t,"in",n),this.keys=cb("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class jN extends Qt{constructor(t,n){super(t,"not-in",n),this.keys=cb("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function cb(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}class BN extends Qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return nm(n)&&$s(n.arrayValue,this.value)}}class PN extends Qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$s(this.value.arrayValue,n)}}class zN extends Qt{constructor(t,n){super(t,"not-in",n)}matches(t){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$s(this.value.arrayValue,n)}}class HN extends Qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>$s(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,n=null,i=[],a=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function Uy(e,t=null,n=[],i=[],a=null,r=null,s=null){return new GN(e,t,n,i,a,r,s)}function im(e){const t=W(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Vf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Gu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>pr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>pr(i)).join(",")),t.ue=n}return t.ue}function am(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!VN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ob(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vy(e.startAt,t.startAt)&&Vy(e.endAt,t.endAt)}function Uf(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n=null,i=[],a=[],r=null,s="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FN(e,t,n,i,a,r,s,o){return new Fu(e,t,n,i,a,r,s,o)}function rm(e){return new Fu(e)}function Ly(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function qN(e){return e.collectionGroup!==null}function Is(e){const t=W(e);if(t.ce===null){t.ce=[];const n=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ce(le.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.ce.push(new mu(r,i))}),n.has(le.keyField().canonicalString())||t.ce.push(new mu(le.keyField(),i))}return t.ce}function pn(e){const t=W(e);return t.le||(t.le=YN(t,Is(e))),t.le}function YN(e,t){if(e.limitType==="F")return Uy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const r=a.dir==="desc"?"asc":"desc";return new mu(a.field,r)});const n=e.endAt?new du(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new du(e.startAt.position,e.startAt.inclusive):null;return Uy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Lf(e,t,n){return new Fu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qu(e,t){return am(pn(e),pn(t))&&e.limitType===t.limitType}function hb(e){return`${im(pn(e))}|lt:${e.limitType}`}function Ca(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>ub(a)).join(", ")}]`),Gu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>pr(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>pr(a)).join(",")),`Target(${i})`}(pn(e))}; limitType=${e.limitType})`}function Yu(e,t){return t.isFoundDocument()&&function(i,a){const r=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):K.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,a){for(const r of Is(i))if(!r.field.isKeyField()&&a.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const r of i.filters)if(!r.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(s,o,u){const h=My(s,o,u);return s.inclusive?h<=0:h<0}(i.startAt,Is(i),a)||i.endAt&&!function(s,o,u){const h=My(s,o,u);return s.inclusive?h>=0:h>0}(i.endAt,Is(i),a))}(e,t)}function KN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fb(e){return(t,n)=>{let i=!1;for(const a of Is(e)){const r=QN(a,t,n);if(r!==0)return r;i=i||a.field.isKeyField()}return 0}}function QN(e,t,n){const i=e.field.isKeyField()?K.comparator(t.key,n.key):function(r,s,o){const u=s.data.field(r),h=o.data.field(r);return u!==null&&h!==null?gr(u,h):J()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,r]of i)if(this.equalsFn(a,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<a.length;r++)if(this.equalsFn(a[r][0],t))return void(a[r]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){pa(this.inner,(n,i)=>{for(const[a,r]of i)t(a,r)})}isEmpty(){return nb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Mt(K.comparator);function qn(){return XN}const db=new Mt(K.comparator);function us(...e){let t=db;for(const n of e)t=t.insert(n.key,n);return t}function mb(e){let t=db;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ki(){return Rs()}function gb(){return Rs()}function Rs(){return new Cr(e=>e.toString(),(e,t)=>e.isEqual(t))}const $N=new Mt(K.comparator),JN=new ce(K.comparator);function rt(...e){let t=JN;for(const n of e)t=t.add(n);return t}const ZN=new ce(ht);function WN(){return ZN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(t)?"-0":t}}function pb(e){return{integerValue:""+e}}function tI(e,t){return RN(t)?pb(t):sm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this._=void 0}}function eI(e,t,n){return e instanceof gu?function(a,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return r&&tm(r)&&(r=em(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Js?_b(e,t):e instanceof Zs?Eb(e,t):function(a,r){const s=yb(a,r),o=ky(s)+ky(a.Pe);return Mf(s)&&Mf(a.Pe)?pb(o):sm(a.serializer,o)}(e,t)}function nI(e,t,n){return e instanceof Js?_b(e,t):e instanceof Zs?Eb(e,t):n}function yb(e,t){return e instanceof pu?function(i){return Mf(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class gu extends Ku{}class Js extends Ku{constructor(t){super(),this.elements=t}}function _b(e,t){const n=vb(t);for(const i of e.elements)n.some(a=>En(a,i))||n.push(i);return{arrayValue:{values:n}}}class Zs extends Ku{constructor(t){super(),this.elements=t}}function Eb(e,t){let n=vb(t);for(const i of e.elements)n=n.filter(a=>!En(a,i));return{arrayValue:{values:n}}}class pu extends Ku{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function ky(e){return jt(e.integerValue||e.doubleValue)}function vb(e){return nm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function iI(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof Js&&a instanceof Js||i instanceof Zs&&a instanceof Zs?mr(i.elements,a.elements,En):i instanceof pu&&a instanceof pu?En(i.Pe,a.Pe):i instanceof gu&&a instanceof gu}(e.transform,t.transform)}class aI{constructor(t,n){this.version=t,this.transformResults=n}}class yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yn}static exists(t){return new yn(void 0,t)}static updateTime(t){return new yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ro(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qu{}function Tb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ab(e.key,yn.none()):new gl(e.key,e.data,yn.none());{const n=e.data,i=De.empty();let a=new ce(le.comparator);for(let r of t.fields)if(!a.has(r)){let s=n.field(r);s===null&&r.length>1&&(r=r.popLast(),s=n.field(r)),s===null?i.delete(r):i.set(r,s),a=a.add(r)}return new Oi(e.key,i,new Pe(a.toArray()),yn.none())}}function rI(e,t,n){e instanceof gl?function(a,r,s){const o=a.value.clone(),u=By(a.fieldTransforms,r,s.transformResults);o.setAll(u),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Oi?function(a,r,s){if(!Ro(a.precondition,r))return void r.convertToUnknownDocument(s.version);const o=By(a.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(bb(a)),u.setAll(o),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(a,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Cs(e,t,n,i){return e instanceof gl?function(r,s,o,u){if(!Ro(r.precondition,s))return o;const h=r.value.clone(),m=Py(r.fieldTransforms,u,s);return h.setAll(m),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Oi?function(r,s,o,u){if(!Ro(r.precondition,s))return o;const h=Py(r.fieldTransforms,u,s),m=s.data;return m.setAll(bb(r)),m.setAll(h),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(r,s,o){return Ro(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function sI(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),r=yb(i.transform,a||null);r!=null&&(n===null&&(n=De.empty()),n.set(i.field,r))}return n||null}function jy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&mr(i,a,(r,s)=>iI(r,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gl extends Qu{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Oi extends Qu{constructor(t,n,i,a,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function bb(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function By(e,t,n){const i=new Map;yt(e.length===n.length);for(let a=0;a<n.length;a++){const r=e[a],s=r.transform,o=t.data.field(r.field);i.set(r.field,nI(s,o,n[a]))}return i}function Py(e,t,n){const i=new Map;for(const a of e){const r=a.transform,s=n.data.field(a.field);i.set(a.field,eI(r,s,t))}return i}class Ab extends Qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lI extends Qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const r=this.mutations[a];r.key.isEqual(t.key)&&rI(r,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Cs(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Cs(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=gb();return this.mutations.forEach(a=>{const r=t.get(a.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=n.has(a.key)?null:o;const u=Tb(s,o);u!==null&&i.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&mr(this.mutations,t.mutations,(n,i)=>jy(n,i))&&mr(this.baseMutations,t.baseMutations,(n,i)=>jy(n,i))}}class lm{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){yt(t.mutations.length===i.length);let a=function(){return $N}();const r=t.mutations;for(let s=0;s<r.length;s++)a=a.insert(r[s].key,i[s].version);return new lm(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,ot;function hI(e){switch(e){default:return J();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function Sb(e){if(e===void 0)return Fn("GRPC error has no .code"),P.UNKNOWN;switch(e){case zt.OK:return P.OK;case zt.CANCELLED:return P.CANCELLED;case zt.UNKNOWN:return P.UNKNOWN;case zt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case zt.INTERNAL:return P.INTERNAL;case zt.UNAVAILABLE:return P.UNAVAILABLE;case zt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case zt.NOT_FOUND:return P.NOT_FOUND;case zt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case zt.ABORTED:return P.ABORTED;case zt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case zt.DATA_LOSS:return P.DATA_LOSS;default:return J()}}(ot=zt||(zt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Wi([4294967295,4294967295],0);function zy(e){const t=fI().encode(e),n=new QT;return n.update(t),new Uint8Array(n.digest())}function Hy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Wi([n,i],0),new Wi([a,r],0)]}class om{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new cs(`Invalid padding: ${n}`);if(i<0)throw new cs(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new cs(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new cs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Wi.fromNumber(this.Ie)}Ee(t,n,i){let a=t.add(n.multiply(Wi.fromNumber(i)));return a.compare(dI)===1&&(a=new Wi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=zy(t),[i,a]=Hy(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);if(!this.de(s))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new om(r,a,n);return i.forEach(o=>s.insert(o)),s}insert(t){if(this.Ie===0)return;const n=zy(t),[i,a]=Hy(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class cs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n,i,a,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,pl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Xu(Z.min(),a,new Mt(ht),qn(),rt())}}class pl{constructor(t,n,i,a,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new pl(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n,i,a){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=a}}class xb{constructor(t,n){this.targetId=t,this.me=n}}class wb{constructor(t,n,i=he.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Gy{constructor(){this.fe=0,this.ge=qy(),this.pe=he.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=rt(),n=rt(),i=rt();return this.ge.forEach((a,r)=>{switch(r){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:J()}}),new pl(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=qy()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mI{constructor(t){this.Le=t,this.Be=new Map,this.ke=qn(),this.qe=Fy(),this.Qe=new Mt(ht)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:J()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,a)=>{this.ze(a)&&n(a)})}He(t){const n=t.targetId,i=t.me.count,a=this.Je(n);if(a){const r=a.target;if(Uf(r))if(i===0){const s=new K(r.path);this.Ue(n,s,_e.newNoDocument(s,Z.min()))}else yt(i===1);else{const s=this.Ye(n);if(s!==i){const o=this.Ze(t),u=o?this.Xe(o,t,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:r=0}=n;let s,o;try{s=ua(i).toUint8Array()}catch(u){if(u instanceof ib)return dr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new om(s,a,r)}catch(u){return dr(u instanceof cs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ie===0?null:o}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let a=0;return i.forEach(r=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.Ue(n,r,null),a++)}),a}rt(t){const n=new Map;this.Be.forEach((r,s)=>{const o=this.Je(s);if(o){if(r.current&&Uf(o.target)){const u=new K(o.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,_e.newNoDocument(u,t))}r.be&&(n.set(s,r.ve()),r.Ce())}});let i=rt();this.qe.forEach((r,s)=>{let o=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ke.forEach((r,s)=>s.setReadTime(t));const a=new Xu(t,n,this.Qe,this.ke,i);return this.ke=qn(),this.qe=Fy(),this.Qe=new Mt(ht),a}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const a=this.Ge(t);this.it(t,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Gy,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new ce(ht),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||F("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Gy),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Fy(){return new Mt(K.comparator)}function qy(){return new Mt(K.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},pI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yI={and:"AND",or:"OR"};class _I{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function kf(e,t){return e.useProto3Json||Gu(t)?t:{value:t}}function yu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EI(e,t){return yu(e,t.toTimestamp())}function _n(e){return yt(!!e),Z.fromTimestamp(function(n){const i=Ii(n);return new Xt(i.seconds,i.nanos)}(e))}function um(e,t){return jf(e,t).canonicalString()}function jf(e,t){const n=function(a){return new kt(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ib(e){const t=kt.fromString(e);return yt(Mb(t)),t}function Bf(e,t){return um(e.databaseId,t.path)}function yh(e,t){const n=Ib(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(Cb(n))}function Rb(e,t){return um(e.databaseId,t)}function vI(e){const t=Ib(e);return t.length===4?kt.emptyPath():Cb(t)}function Pf(e){return new kt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cb(e){return yt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Yy(e,t,n){return{name:Bf(e,t),fields:n.value.mapValue.fields}}function TI(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:J()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],r=function(h,m){return h.useProto3Json?(yt(m===void 0||typeof m=="string"),he.fromBase64String(m||"")):(yt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),he.fromUint8Array(m||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(h){const m=h.code===void 0?P.UNKNOWN:Sb(h.code);return new Y(m,h.message||"")}(s);n=new wb(i,a,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=yh(e,i.document.name),r=_n(i.document.updateTime),s=i.document.createTime?_n(i.document.createTime):Z.min(),o=new De({mapValue:{fields:i.document.fields}}),u=_e.newFoundDocument(a,r,s,o),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Co(h,m,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=yh(e,i.document),r=i.readTime?_n(i.readTime):Z.min(),s=_e.newNoDocument(a,r),o=i.removedTargetIds||[];n=new Co([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=yh(e,i.document),r=i.removedTargetIds||[];n=new Co([],r,a,null)}else{if(!("filter"in t))return J();{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:r}=i,s=new cI(a,r),o=i.targetId;n=new xb(o,s)}}return n}function bI(e,t){let n;if(t instanceof gl)n={update:Yy(e,t.key,t.value)};else if(t instanceof Ab)n={delete:Bf(e,t.key)};else if(t instanceof Oi)n={update:Yy(e,t.key,t.data),updateMask:DI(t.fieldMask)};else{if(!(t instanceof lI))return J();n={verify:Bf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof pu)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw J()}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,r){return r.updateTime!==void 0?{updateTime:EI(a,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:J()}(e,t.precondition)),n}function AI(e,t){return e&&e.length>0?(yt(t!==void 0),e.map(n=>function(a,r){let s=a.updateTime?_n(a.updateTime):_n(r);return s.isEqual(Z.min())&&(s=_n(r)),new aI(s,a.transformResults||[])}(n,t))):[]}function SI(e,t){return{documents:[Rb(e,t.path)]}}function xI(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Rb(e,a);const r=function(h){if(h.length!==0)return Ob(vn.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:Da(g.field),direction:II(g.dir)}}(m))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=kf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{_t:n,parent:a}}function wI(e){let t=vI(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){yt(i===1);const m=n.from[0];m.allDescendants?a=m.collectionId:t=t.child(m.collectionId)}let r=[];n.where&&(r=function(p){const g=Db(p);return g instanceof vn&&lb(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(R){return new mu(Oa(R.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,Gu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new du(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new du(y,g)}(n.endAt)),FN(t,a,s,r,o,"F",u,h)}function NI(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Db(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Oa(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Oa(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Oa(n.unaryFilter.field);return Qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oa(n.unaryFilter.field);return Qt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(e):e.fieldFilter!==void 0?function(n){return Qt.create(Oa(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(i=>Db(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(e):J()}function II(e){return gI[e]}function RI(e){return pI[e]}function CI(e){return yI[e]}function Da(e){return{fieldPath:e.canonicalString()}}function Oa(e){return le.fromServerFormat(e.fieldPath)}function Ob(e){return e instanceof Qt?function(n){if(n.op==="=="){if(Oy(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NAN"}};if(Dy(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Oy(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NAN"}};if(Dy(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(n.field),op:RI(n.op),value:n.value}}}(e):e instanceof vn?function(n){const i=n.getFilters().map(a=>Ob(a));return i.length===1?i[0]:{compositeFilter:{op:CI(n.op),filters:i}}}(e):J()}function DI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Mb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n,i,a,r=Z.min(),s=Z.min(),o=he.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new ui(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.ct=t}}function MI(e){const t=wI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Lf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.un=new UI}addToCollectionParentIndex(t,n){return this.un.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(Ni.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(Ni.min())}updateCollectionGroup(t,n,i){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class UI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new ce(kt.comparator),r=!a.has(i);return this.index[n]=a.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ce(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new yr(0)}static kn(){return new yr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.changes=new Cr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,_e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&Cs(i.mutation,a,Pe.empty(),Xt.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const a=Ki();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(r=>{let s=us();return r.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=Ki();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const a=[];return i.forEach(r=>{n.has(r)||a.push(r)}),this.documentOverlayCache.getOverlays(t,a).next(r=>{r.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,i,a){let r=qn();const s=Rs(),o=function(){return Rs()}();return n.forEach((u,h)=>{const m=i.get(h.key);a.has(h.key)&&(m===void 0||m.mutation instanceof Oi)?r=r.insert(h.key,h):m!==void 0?(s.set(h.key,m.mutation.getFieldMask()),Cs(m.mutation,h,m.mutation.getFieldMask(),Xt.now())):s.set(h.key,Pe.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((h,m)=>s.set(h,m)),n.forEach((h,m)=>{var p;return o.set(h,new kI(m,(p=s.get(h))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(t,n){const i=Rs();let a=new Mt((s,o)=>s-o),r=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let m=i.get(u)||Pe.empty();m=o.applyToLocalView(h,m),i.set(u,m);const p=(a.get(o.batchId)||rt()).add(u);a=a.insert(o.batchId,p)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,m=u.value,p=gb();m.forEach(g=>{if(!r.has(g)){const y=Tb(n.get(g),i.get(g));y!==null&&p.set(g,y),r=r.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,h,p))}return j.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):qN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(r=>{const s=a-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-r.size):j.resolve(Ki());let o=-1,u=r;return s.next(h=>j.forEach(h,(m,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),r.get(m)?j.resolve():this.remoteDocumentCache.getEntry(t,m).next(g=>{u=u.insert(m,g)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,u,h,rt())).next(m=>({batchId:o,changes:mb(m)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(i=>{let a=us();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const r=n.collectionGroup;let s=us();return this.indexManager.getCollectionParents(t,r).next(o=>j.forEach(o,u=>{const h=function(p,g){return new Fu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,a).next(m=>{m.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,a){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,a))).next(s=>{r.forEach((u,h)=>{const m=h.getKey();s.get(m)===null&&(s=s.insert(m,_e.newInvalidDocument(m)))});let o=us();return s.forEach((u,h)=>{const m=r.get(u);m!==void 0&&Cs(m.mutation,h,Pe.empty(),Xt.now()),Yu(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:_n(a.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:MI(a.bundledQuery),readTime:_n(a.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.overlays=new Mt(K.comparator),this.Ir=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ki();return j.forEach(n,a=>this.getOverlay(t,a).next(r=>{r!==null&&i.set(a,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,r)=>{this.ht(t,n,r)}),j.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),j.resolve()}getOverlaysForCollection(t,n,i){const a=Ki(),r=n.length+1,s=new K(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&a.set(u.getKey(),u)}return j.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let r=new Mt((h,m)=>h-m);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=r.get(h.largestBatchId);m===null&&(m=Ki(),r=r.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const o=Ki(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,m)=>o.set(h,m)),!(o.size()>=a)););return j.resolve(o)}ht(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new uI(n,i));let r=this.Ir.get(n);r===void 0&&(r=rt(),this.Ir.set(n,r)),this.Ir.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.sessionToken=he.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.Tr=new ce(Jt.Er),this.dr=new ce(Jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new Jt(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new Jt(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new K(new kt([])),i=new Jt(n,t),a=new Jt(n,t+1),r=[];return this.dr.forEachInRange([i,a],s=>{this.Vr(s),r.push(s.key)}),r}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new K(new kt([])),i=new Jt(n,t),a=new Jt(n,t+1);let r=rt();return this.dr.forEachInRange([i,a],s=>{r=r.add(s.key)}),r}containsKey(t){const n=new Jt(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Jt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return K.comparator(t.key,n.key)||ht(t.wr,n.wr)}static Ar(t,n){return ht(t.wr,n.wr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ce(Jt.Er)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new oI(r,n,i,a);this.mutationQueue.push(s);for(const o of a)this.br=this.br.add(new Jt(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return j.resolve(s)}lookupMutationBatch(t,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.vr(i),r=a<0?0:a;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,a],s=>{const o=this.Dr(s.wr);r.push(o)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ce(ht);return n.forEach(a=>{const r=new Jt(a,0),s=new Jt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,s],o=>{i=i.add(o.wr)})}),j.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let r=i;K.isDocumentKey(r)||(r=r.child(""));const s=new Jt(new K(r),0);let o=new ce(ht);return this.br.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.wr)),!0)},s),j.resolve(this.Cr(o))}Cr(t){const n=[];return t.forEach(i=>{const a=this.Dr(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){yt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return j.forEach(n.mutations,a=>{const r=new Jt(a.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new Jt(n,0),a=this.br.firstAfterOrEqual(i);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.Mr=t,this.docs=function(){return new Mt(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),r=a?a.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():_e.newInvalidDocument(n))}getEntries(t,n){let i=qn();return n.forEach(a=>{const r=this.docs.get(a);i=i.insert(a,r?r.document.mutableCopy():_e.newInvalidDocument(a))}),j.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let r=qn();const s=n.path,o=new K(s.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||xN(SN(m),i)<=0||(a.has(m.key)||Yu(n,m))&&(r=r.insert(m.key,m.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,n,i,a){J()}Or(t,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new FI(this)}getSize(t){return j.resolve(this.size)}}class FI extends LI{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(t,a)):this.cr.removeEntry(i)}),j.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.persistence=t,this.Nr=new Cr(n=>im(n),am),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cm,this.targetCount=0,this.kr=yr.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,a)=>n(a)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new yr(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.Kn(n),j.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,i){let a=0;const r=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Nr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),j.waitFor(r).next(()=>a)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return j.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),j.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const a=this.persistence.referenceDelegate,r=[];return a&&n.forEach(s=>{r.push(a.markPotentiallyOrphaned(t,s))}),j.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return j.resolve(i)}containsKey(t,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Wd(0),this.Kr=!1,this.Kr=!0,this.$r=new zI,this.referenceDelegate=t(this),this.Ur=new qI(this),this.indexManager=new VI,this.remoteDocumentCache=function(a){return new GI(a)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new OI(n),this.Gr=new BI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new PI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new HI(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){F("MemoryPersistence","Starting transaction:",t);const a=new KI(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(r=>this.referenceDelegate.jr(a).next(()=>r)).toPromise().then(r=>(a.raiseOnCommittedEvent(),r))}Hr(t,n){return j.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class KI extends NN{constructor(t){super(),this.currentSequenceNumber=t}}class hm{constructor(t){this.persistence=t,this.Jr=new cm,this.Yr=null}static Zr(t){return new hm(t)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),j.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,i=>{const a=K.fromPath(i);return this.ei(t,a).next(r=>{r||n.removeEntry(a,Z.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=a}static Wi(t,n){let i=rt(),a=rt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:a=a.add(r.doc.key)}return new fm(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $w()?8:IN(Qw())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,a){const r={result:null};return this.Yi(t,n).next(s=>{r.result=s}).next(()=>{if(!r.result)return this.Zi(t,n,a,i).next(s=>{r.result=s})}).next(()=>{if(r.result)return;const s=new QI;return this.Xi(t,n,s).next(o=>{if(r.result=o,this.zi)return this.es(t,n,s,o.size)})}).next(()=>r.result)}es(t,n,i,a){return i.documentReadCount<this.ji?(es()<=ut.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(es()<=ut.DEBUG&&F("QueryEngine","Query:",Ca(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(es()<=ut.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pn(n))):j.resolve())}Yi(t,n){if(Ly(n))return j.resolve(null);let i=pn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Lf(n,null,"F"),i=pn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const s=rt(...r);return this.Ji.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.ts(n,o);return this.ns(n,h,s,u.readTime)?this.Yi(t,Lf(n,null,"F")):this.rs(t,h,n,u)}))})))}Zi(t,n,i,a){return Ly(n)||a.isEqual(Z.min())?j.resolve(null):this.Ji.getDocuments(t,i).next(r=>{const s=this.ts(n,r);return this.ns(n,s,i,a)?j.resolve(null):(es()<=ut.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ca(n)),this.rs(t,s,n,AN(a,-1)).next(o=>o))})}ts(t,n){let i=new ce(fb(t));return n.forEach((a,r)=>{Yu(t,r)&&(i=i.add(r))}),i}ns(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(a)>0)}Xi(t,n,i){return es()<=ut.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ni.min(),i)}rs(t,n,i,a){return this.Ji.getDocumentsMatchingQuery(t,i,a).next(r=>(n.forEach(s=>{r=r.insert(s.key,s)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n,i,a){this.persistence=t,this.ss=n,this.serializer=a,this.os=new Mt(ht),this._s=new Cr(r=>im(r),am),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function JI(e,t,n,i){return new $I(e,t,n,i)}async function Vb(e,t){const n=W(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(r=>(a=r,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const s=[],o=[];let u=rt();for(const h of a){s.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of r){o.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(i,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:o}))})})}function ZI(e,t){const n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),r=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,m){const p=h.batch,g=p.keys();let y=j.resolve();return g.forEach(R=>{y=y.next(()=>m.getEntry(u,R)).next(I=>{const C=h.docVersions.get(R);yt(C!==null),I.version.compareTo(C)<0&&(p.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),m.addEntry(I)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,p))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=rt();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function Ub(e){const t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function WI(e,t){const n=W(e),i=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const o=[];t.targetChanges.forEach((m,p)=>{const g=a.get(p);if(!g)return;o.push(n.Ur.removeMatchingKeys(r,m.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(r,m.addedDocuments,p)));let y=g.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(he.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,i)),a=a.insert(p,y),function(I,C,S){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,y,m)&&o.push(n.Ur.updateTargetData(r,y))});let u=qn(),h=rt();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,m))}),o.push(tR(r,s,t.documentUpdates).next(m=>{u=m.Ps,h=m.Is})),!i.isEqual(Z.min())){const m=n.Ur.getLastRemoteSnapshotVersion(r).next(p=>n.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(m)}return j.waitFor(o).next(()=>s.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.os=a,r))}function tR(e,t,n){let i=rt(),a=rt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let s=qn();return n.forEach((o,u)=>{const h=r.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(Z.min())?(t.removeEntry(o,u.readTime),s=s.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),s=s.insert(o,u)):F("LocalStore","Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Ps:s,Is:a}})}function eR(e,t){const n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function nR(e,t){const n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Ur.getTargetData(i,t).next(r=>r?(a=r,j.resolve(a)):n.Ur.allocateTargetId(i).next(s=>(a=new ui(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function zf(e,t,n){const i=W(e),a=i.os.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,s=>i.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!ml(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(a.target)}function Ky(e,t,n){const i=W(e);let a=Z.min(),r=rt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,m){const p=W(u),g=p._s.get(m);return g!==void 0?j.resolve(p.os.get(g)):p.Ur.getTargetData(h,m)}(i,s,pn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,o.targetId).next(u=>{r=u})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,n?a:Z.min(),n?r:rt())).next(o=>(iR(i,KN(t),o),{documents:o,Ts:r})))}function iR(e,t,n){let i=e.us.get(t)||Z.min();n.forEach((a,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.us.set(t,i)}class Qy{constructor(){this.activeTargetIds=WN()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aR{constructor(){this.so=new Qy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Qy,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=null;function _h(){return so===null?so=function(){return 268435456+Math.round(2147483648*Math.random())}():so++,"0x"+so.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe="WebChannelConnection";class oR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${a}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${r}`}get Fo(){return!1}Mo(n,i,a,r,s){const o=_h(),u=this.xo(n,i.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${o}:`,u,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,r,s),this.No(n,u,h,a).then(m=>(F("RestConnection",`Received RPC '${n}' ${o}: `,m),m),m=>{throw dr("RestConnection",`RPC '${n}' ${o} failed with error: `,m,"url: ",u,"request:",a),m})}Lo(n,i,a,r,s,o){return this.Mo(n,i,a,r,s)}Oo(n,i,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,s)=>n[s]=r),a&&a.headers.forEach((r,s)=>n[s]=r)}xo(n,i){const a=sR[n];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,a){const r=_h();return new Promise((s,o)=>{const u=new XT;u.setWithCredentials(!0),u.listenOnce($T.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case No.NO_ERROR:const m=u.getResponseJson();F(pe,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(m)),s(m);break;case No.TIMEOUT:F(pe,`RPC '${t}' ${r} timed out`),o(new Y(P.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const p=u.getStatus();if(F(pe,`RPC '${t}' ${r} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const R=function(C){const S=C.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(S)>=0?S:P.UNKNOWN}(y.status);o(new Y(R,y.message))}else o(new Y(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Y(P.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{F(pe,`RPC '${t}' ${r} completed.`)}});const h=JSON.stringify(a);F(pe,`RPC '${t}' ${r} sending request:`,a),u.send(n,"POST",h,i,15)})}Bo(t,n,i){const a=_h(),r=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=WT(),o=ZT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const m=r.join("");F(pe,`Creating RPC '${t}' stream ${a}: ${m}`,u);const p=s.createWebChannel(m,u);let g=!1,y=!1;const R=new lR({Io:C=>{y?F(pe,`Not sending because RPC '${t}' stream ${a} is closed:`,C):(g||(F(pe,`Opening RPC '${t}' stream ${a} transport.`),p.open(),g=!0),F(pe,`RPC '${t}' stream ${a} sending:`,C),p.send(C))},To:()=>p.close()}),I=(C,S,T)=>{C.listen(S,w=>{try{T(w)}catch(M){setTimeout(()=>{throw M},0)}})};return I(p,os.EventType.OPEN,()=>{y||(F(pe,`RPC '${t}' stream ${a} transport opened.`),R.yo())}),I(p,os.EventType.CLOSE,()=>{y||(y=!0,F(pe,`RPC '${t}' stream ${a} transport closed`),R.So())}),I(p,os.EventType.ERROR,C=>{y||(y=!0,dr(pe,`RPC '${t}' stream ${a} transport errored:`,C),R.So(new Y(P.UNAVAILABLE,"The operation could not be completed")))}),I(p,os.EventType.MESSAGE,C=>{var S;if(!y){const T=C.data[0];yt(!!T);const w=T,M=w.error||((S=w[0])===null||S===void 0?void 0:S.error);if(M){F(pe,`RPC '${t}' stream ${a} received error:`,M);const z=M.status;let U=function(v){const A=zt[v];if(A!==void 0)return Sb(A)}(z),b=M.message;U===void 0&&(U=P.INTERNAL,b="Unknown error status: "+z+" with message "+M.message),y=!0,R.So(new Y(U,b)),p.close()}else F(pe,`RPC '${t}' stream ${a} received:`,T),R.bo(T)}}),I(o,JT.STAT_EVENT,C=>{C.stat===Df.PROXY?F(pe,`RPC '${t}' stream ${a} detected buffering proxy`):C.stat===Df.NOPROXY&&F(pe,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}}function Eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(e){return new _I(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,i=1e3,a=1.5,r=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=a,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-i);a>0&&F("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,n,i,a,r,s,o,u){this.ui=t,this.Ho=i,this.Jo=a,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lb(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===n&&this.P_(i,a)},i=>{t(()=>{const a=new Y(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return F("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uR extends kb{constructor(t,n,i,a,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=TI(this.serializer,t),i=function(r){if(!("targetChange"in r))return Z.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?_n(s.readTime):Z.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Pf(this.serializer),n.addTarget=function(r,s){let o;const u=s.target;if(o=Uf(u)?{documents:SI(r,u)}:{query:xI(r,u)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Nb(r,s.resumeToken);const h=kf(r,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(Z.min())>0){o.readTime=yu(r,s.snapshotVersion.toTimestamp());const h=kf(r,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=NI(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Pf(this.serializer),n.removeTarget=t,this.a_(n)}}class cR extends kb{constructor(t,n,i,a,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return yt(!!t.streamToken),this.lastStreamToken=t.streamToken,yt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=AI(t.writeResults,t.commitTime),i=_n(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Pf(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>bI(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends class{}{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Mo(t,jf(n,i),a,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Y(P.UNKNOWN,r.toString())})}Lo(t,n,i,a,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(t,jf(n,i),a,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fn(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,n,i,a,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(s=>{i.enqueueAndForget(async()=>{ya(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=W(u);h.L_.add(4),await yl(h),h.q_.set("Unknown"),h.L_.delete(4),await Ju(h)}(this))})}),this.q_=new fR(i,a)}}async function Ju(e){if(ya(e))for(const t of e.B_)await t(!0)}async function yl(e){for(const t of e.B_)await t(!1)}function jb(e,t){const n=W(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),pm(n)?gm(n):Dr(n).r_()&&mm(n,t))}function dm(e,t){const n=W(e),i=Dr(n);n.N_.delete(t),i.r_()&&Bb(n,t),n.N_.size===0&&(i.r_()?i.o_():ya(n)&&n.q_.set("Unknown"))}function mm(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Dr(e).A_(t)}function Bb(e,t){e.Q_.xe(t),Dr(e).R_(t)}function gm(e){e.Q_=new mI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Dr(e).start(),e.q_.v_()}function pm(e){return ya(e)&&!Dr(e).n_()&&e.N_.size>0}function ya(e){return W(e).L_.size===0}function Pb(e){e.Q_=void 0}async function mR(e){e.q_.set("Online")}async function gR(e){e.N_.forEach((t,n)=>{mm(e,t)})}async function pR(e,t){Pb(e),pm(e)?(e.q_.M_(t),gm(e)):e.q_.set("Unknown")}async function yR(e,t,n){if(e.q_.set("Online"),t instanceof wb&&t.state===2&&t.cause)try{await async function(a,r){const s=r.cause;for(const o of r.targetIds)a.N_.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.N_.delete(o),a.Q_.removeTarget(o))}(e,t)}catch(i){F("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _u(e,i)}else if(t instanceof Co?e.Q_.Ke(t):t instanceof xb?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Z.min()))try{const i=await Ub(e.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.Q_.rt(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=r.N_.get(h);m&&r.N_.set(h,m.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,h)=>{const m=r.N_.get(u);if(!m)return;r.N_.set(u,m.withResumeToken(he.EMPTY_BYTE_STRING,m.snapshotVersion)),Bb(r,u);const p=new ui(m.target,u,h,m.sequenceNumber);mm(r,p)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){F("RemoteStore","Failed to raise snapshot:",i),await _u(e,i)}}async function _u(e,t,n){if(!ml(t))throw t;e.L_.add(1),await yl(e),e.q_.set("Offline"),n||(n=()=>Ub(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ju(e)})}function zb(e,t){return t().catch(n=>_u(e,n,t))}async function Zu(e){const t=W(e),n=Ri(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;_R(t);)try{const a=await eR(t.localStore,i);if(a===null){t.O_.length===0&&n.o_();break}i=a.batchId,ER(t,a)}catch(a){await _u(t,a)}Hb(t)&&Gb(t)}function _R(e){return ya(e)&&e.O_.length<10}function ER(e,t){e.O_.push(t);const n=Ri(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Hb(e){return ya(e)&&!Ri(e).n_()&&e.O_.length>0}function Gb(e){Ri(e).start()}async function vR(e){Ri(e).p_()}async function TR(e){const t=Ri(e);for(const n of e.O_)t.m_(n.mutations)}async function bR(e,t,n){const i=e.O_.shift(),a=lm.from(i,t,n);await zb(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Zu(e)}async function AR(e,t){t&&Ri(e).V_&&await async function(i,a){if(function(s){return hI(s)&&s!==P.ABORTED}(a.code)){const r=i.O_.shift();Ri(i).s_(),await zb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,a)),await Zu(i)}}(e,t),Hb(e)&&Gb(e)}async function $y(e,t){const n=W(e);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const i=ya(n);n.L_.add(3),await yl(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ju(n)}async function SR(e,t){const n=W(e);t?(n.L_.delete(2),await Ju(n)):t||(n.L_.add(2),await yl(n),n.q_.set("Unknown"))}function Dr(e){return e.K_||(e.K_=function(n,i,a){const r=W(n);return r.w_(),new uR(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:mR.bind(null,e),Ro:gR.bind(null,e),mo:pR.bind(null,e),d_:yR.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),pm(e)?gm(e):e.q_.set("Unknown")):(await e.K_.stop(),Pb(e))})),e.K_}function Ri(e){return e.U_||(e.U_=function(n,i,a){const r=W(n);return r.w_(),new cR(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vR.bind(null,e),mo:AR.bind(null,e),f_:TR.bind(null,e),g_:bR.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Zu(e)):(await e.U_.stop(),e.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,n,i,a,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=r,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,r){const s=Date.now()+i,o=new ym(t,n,s,a,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(e,t){if(Fn("AsyncQueue",`${t}: ${e}`),ml(e))return new Y(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.comparator=t?(n,i)=>t(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=us(),this.sortedSet=new Mt(this.comparator)}static emptySet(t){return new er(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof er)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(!a.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new er;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.W_=new Mt(K.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):J():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class _r{constructor(t,n,i,a,r,s,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,a,r){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new _r(t,n,er.emptySet(n),s,i,a,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class wR{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const a=W(n),r=a.queries;a.queries=Zy(),r.forEach((s,o)=>{for(const u of o.j_)u.onError(i)})})(this,new Y(P.ABORTED,"Firestore shutting down"))}}function Zy(){return new Cr(e=>hb(e),qu)}async function NR(e,t){const n=W(e);let i=3;const a=t.query;let r=n.queries.get(a);r?!r.H_()&&t.J_()&&(i=2):(r=new xR,i=t.J_()?0:1);try{switch(i){case 0:r.z_=await n.onListen(a,!0);break;case 1:r.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=_m(s,`Initialization of query '${Ca(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,r),r.j_.push(t),t.Z_(n.onlineState),r.z_&&t.X_(r.z_)&&Em(n)}async function IR(e,t){const n=W(e),i=t.query;let a=3;const r=n.queries.get(i);if(r){const s=r.j_.indexOf(t);s>=0&&(r.j_.splice(s,1),r.j_.length===0?a=t.J_()?0:1:!r.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function RR(e,t){const n=W(e);let i=!1;for(const a of t){const r=a.query,s=n.queries.get(r);if(s){for(const o of s.j_)o.X_(a)&&(i=!0);s.z_=a}}i&&Em(n)}function CR(e,t,n){const i=W(e),a=i.queries.get(t);if(a)for(const r of a.j_)r.onError(n);i.queries.delete(t)}function Em(e){e.Y_.forEach(t=>{t.next()})}var Hf,Wy;(Wy=Hf||(Hf={})).ea="default",Wy.Cache="cache";class DR{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new _r(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=_r.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Hf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.key=t}}class qb{constructor(t){this.key=t}}class OR{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=fb(t),this.Ra=new er(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new Jy,a=n?n.Ra:this.Ra;let r=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((m,p)=>{const g=a.get(m),y=Yu(this.query,p)?p:null,R=!!g&&this.mutatedKeys.has(g.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;g&&y?g.data.isEqual(y.data)?R!==I&&(i.track({type:3,doc:y}),C=!0):this.ga(g,y)||(i.track({type:2,doc:y}),C=!0,(u&&this.Aa(y,u)>0||h&&this.Aa(y,h)<0)&&(o=!0)):!g&&y?(i.track({type:0,doc:y}),C=!0):g&&!y&&(i.track({type:1,doc:g}),C=!0,(u||h)&&(o=!0)),C&&(y?(s=s.add(y),r=I?r.add(m):r.delete(m)):(s=s.delete(m),r=r.delete(m)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),r=r.delete(m.key),i.track({type:1,doc:m})}return{Ra:s,fa:i,ns:o,mutatedKeys:r}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const r=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((m,p)=>function(y,R){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return I(y)-I(R)}(m.type,p.type)||this.Aa(m.doc,p.doc)),this.pa(i),a=a!=null&&a;const o=n&&!a?this.ya():[],u=this.da.size===0&&this.current&&!a?1:0,h=u!==this.Ea;return this.Ea=u,s.length!==0||h?{snapshot:new _r(this.query,t.Ra,r,s,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=rt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new qb(i))}),this.da.forEach(i=>{t.has(i)||n.push(new Fb(i))}),n}ba(t){this.Ta=t.Ts,this.da=rt();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return _r.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class MR{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class VR{constructor(t){this.key=t,this.va=!1}}class UR{constructor(t,n,i,a,r,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Cr(o=>hb(o),qu),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(K.comparator),this.Na=new Map,this.La=new cm,this.Ba={},this.ka=new Map,this.qa=yr.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LR(e,t,n=!0){const i=Jb(e);let a;const r=i.Fa.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),a=r.view.Da()):a=await Yb(i,t,n,!0),a}async function kR(e,t){const n=Jb(e);await Yb(n,t,!0,!1)}async function Yb(e,t,n,i){const a=await nR(e.localStore,pn(t)),r=a.targetId,s=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await jR(e,t,r,s==="current",a.resumeToken)),e.isPrimaryClient&&n&&jb(e.remoteStore,a),o}async function jR(e,t,n,i,a){e.Ka=(p,g,y)=>async function(I,C,S,T){let w=C.view.ma(S);w.ns&&(w=await Ky(I.localStore,C.query,!1).then(({documents:b})=>C.view.ma(b,w)));const M=T&&T.targetChanges.get(C.targetId),z=T&&T.targetMismatches.get(C.targetId)!=null,U=C.view.applyChanges(w,I.isPrimaryClient,M,z);return e_(I,C.targetId,U.wa),U.snapshot}(e,p,g,y);const r=await Ky(e.localStore,t,!0),s=new OR(t,r.Ts),o=s.ma(r.documents),u=pl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),h=s.applyChanges(o,e.isPrimaryClient,u);e_(e,n,h.wa);const m=new MR(t,n,s);return e.Fa.set(t,m),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),h.snapshot}async function BR(e,t,n){const i=W(e),a=i.Fa.get(t),r=i.Ma.get(a.targetId);if(r.length>1)return i.Ma.set(a.targetId,r.filter(s=>!qu(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await zf(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&dm(i.remoteStore,a.targetId),Gf(i,a.targetId)}).catch(dl)):(Gf(i,a.targetId),await zf(i.localStore,a.targetId,!0))}async function PR(e,t){const n=W(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),dm(n.remoteStore,i.targetId))}async function zR(e,t,n){const i=QR(e);try{const a=await function(s,o){const u=W(s),h=Xt.now(),m=o.reduce((y,R)=>y.add(R.key),rt());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let R=qn(),I=rt();return u.cs.getEntries(y,m).next(C=>{R=C,R.forEach((S,T)=>{T.isValidDocument()||(I=I.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,R)).next(C=>{p=C;const S=[];for(const T of o){const w=sI(T,p.get(T.key).overlayedDocument);w!=null&&S.push(new Oi(T.key,w,ab(w.value.mapValue),yn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,S,o)}).next(C=>{g=C;const S=C.applyToLocalDocumentSet(p,I);return u.documentOverlayCache.saveOverlays(y,C.batchId,S)})}).then(()=>({batchId:g.batchId,changes:mb(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new Mt(ht)),h=h.insert(o,u),s.Ba[s.currentUser.toKey()]=h}(i,a.batchId,n),await _l(i,a.changes),await Zu(i.remoteStore)}catch(a){const r=_m(a,"Failed to persist write");n.reject(r)}}async function Kb(e,t){const n=W(e);try{const i=await WI(n.localStore,t);t.targetChanges.forEach((a,r)=>{const s=n.Na.get(r);s&&(yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?yt(s.va):a.removedDocuments.size>0&&(yt(s.va),s.va=!1))}),await _l(n,i,t)}catch(i){await dl(i)}}function t_(e,t,n){const i=W(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Fa.forEach((r,s)=>{const o=s.view.Z_(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=W(s);u.onlineState=o;let h=!1;u.queries.forEach((m,p)=>{for(const g of p.j_)g.Z_(o)&&(h=!0)}),h&&Em(u)}(i.eventManager,t),a.length&&i.Ca.d_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function HR(e,t,n){const i=W(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Na.get(t),r=a&&a.key;if(r){let s=new Mt(K.comparator);s=s.insert(r,_e.newNoDocument(r,Z.min()));const o=rt().add(r),u=new Xu(Z.min(),new Map,new Mt(ht),s,o);await Kb(i,u),i.Oa=i.Oa.remove(r),i.Na.delete(t),vm(i)}else await zf(i.localStore,t,!1).then(()=>Gf(i,t,n)).catch(dl)}async function GR(e,t){const n=W(e),i=t.batch.batchId;try{const a=await ZI(n.localStore,t);Xb(n,i,null),Qb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _l(n,a)}catch(a){await dl(a)}}async function FR(e,t,n){const i=W(e);try{const a=await function(s,o){const u=W(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return u.mutationQueue.lookupMutationBatch(h,o).next(p=>(yt(p!==null),m=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>u.localDocuments.getDocuments(h,m))})}(i.localStore,t);Xb(i,t,n),Qb(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await _l(i,a)}catch(a){await dl(a)}}function Qb(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function Xb(e,t,n){const i=W(e);let a=i.Ba[i.currentUser.toKey()];if(a){const r=a.get(t);r&&(n?r.reject(n):r.resolve(),a=a.remove(t)),i.Ba[i.currentUser.toKey()]=a}}function Gf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||$b(e,i)})}function $b(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(dm(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),vm(e))}function e_(e,t,n){for(const i of n)i instanceof Fb?(e.La.addReference(i.key,t),qR(e,i)):i instanceof qb?(F("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||$b(e,i.key)):J()}function qR(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(F("SyncEngine","New document in limbo: "+n),e.xa.add(i),vm(e))}function vm(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new K(kt.fromString(t)),i=e.qa.next();e.Na.set(i,new VR(n)),e.Oa=e.Oa.insert(n,i),jb(e.remoteStore,new ui(pn(rm(n.path)),i,"TargetPurposeLimboResolution",Wd.oe))}}async function _l(e,t,n){const i=W(e),a=[],r=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((o,u)=>{s.push(i.Ka(u,t,n).then(h=>{var m;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){a.push(h);const p=fm.Wi(u.targetId,h);r.push(p)}}))}),await Promise.all(s),i.Ca.d_(a),await async function(u,h){const m=W(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(h,g=>j.forEach(g.$i,y=>m.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>j.forEach(g.Ui,y=>m.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ml(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=m.os.get(g),R=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(R);m.os=m.os.insert(g,I)}}}(i.localStore,r))}async function YR(e,t){const n=W(e);if(!n.currentUser.isEqual(t)){F("SyncEngine","User change. New user:",t.toKey());const i=await Vb(n.localStore,t);n.currentUser=t,function(r,s){r.ka.forEach(o=>{o.forEach(u=>{u.reject(new Y(P.CANCELLED,s))})}),r.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await _l(n,i.hs)}}function KR(e,t){const n=W(e),i=n.Na.get(t);if(i&&i.va)return rt().add(i.key);{let a=rt();const r=n.Ma.get(t);if(!r)return a;for(const s of r){const o=n.Fa.get(s);a=a.unionWith(o.view.Va)}return a}}function Jb(e){const t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HR.bind(null,t),t.Ca.d_=RR.bind(null,t.eventManager),t.Ca.$a=CR.bind(null,t.eventManager),t}function QR(e){const t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,t),t}class Eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$u(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return JI(this.persistence,new XI,t.initialUser,this.serializer)}Ga(t){return new YI(hm.Zr,this.serializer)}Wa(t){return new aR}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eu.provider={build:()=>new Eu};class Ff{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>t_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,this.syncEngine),await SR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wR}()}createDatastore(t){const n=$u(t.databaseInfo.databaseId),i=function(r){return new oR(r)}(t.databaseInfo);return function(r,s,o,u){return new hR(r,s,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,r,s,o){return new dR(i,a,r,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>t_(this.syncEngine,n,0),function(){return Xy.D()?new Xy:new rR}())}createSyncEngine(t,n){return function(a,r,s,o,u,h,m){const p=new UR(a,r,s,o,u,h);return m&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const r=W(a);F("RemoteStore","RemoteStore shutting down."),r.L_.add(5),await yl(r),r.k_.shutdown(),r.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Fn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n,i,a,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=ye.UNAUTHENTICATED,this.clientId=eb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async s=>{F("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=_m(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function vh(e,t){e.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Vb(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function n_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JR(e);F("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>$y(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>$y(t.remoteStore,a)),e._onlineComponents=t}async function JR(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await vh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===P.FAILED_PRECONDITION||a.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;dr("Error using user provided cache. Falling back to memory cache: "+n),await vh(e,new Eu)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await vh(e,new Eu);return e._offlineComponents}async function Zb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await n_(e,e._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await n_(e,new Ff))),e._onlineComponents}function ZR(e){return Zb(e).then(t=>t.syncEngine)}async function i_(e){const t=await Zb(e),n=t.eventManager;return n.onListen=LR.bind(null,t.syncEngine),n.onUnlisten=BR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=PR.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(e,t,n){if(!n)throw new Y(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tC(e,t,n,i){if(t===!0&&i===!0)throw new Y(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function r_(e){if(!K.isDocumentKey(e))throw new Y(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Tm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":J()}function Ti(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(e);throw new Y(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wb((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bm{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new mN;switch(i.type){case"firstParty":return new _N(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Y(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=a_.get(n);i&&(F("ComponentProvider","Removing Datastore"),a_.delete(n),i.terminate())}(this),Promise.resolve()}}function eC(e,t,n,i={}){var a;const r=(e=Ti(e,bm))._getSettings(),s=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==s&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:s,ssl:!1})),i.mockUserToken){let o,u;if(typeof i.mockUserToken=="string")o=i.mockUserToken,u=ye.MOCK_USER;else{o=Kw(i.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Y(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ye(h)}e._authCredentials=new gN(new tb(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Wu(this.firestore,t,this._query)}}class qe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}}class Ws extends Wu{constructor(t,n,i){super(t,n,rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new K(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function ji(e,t,...n){if(e=wi(e),arguments.length===1&&(t=eb.newId()),WR("doc","path",t),e instanceof bm){const i=kt.fromString(t,...n);return r_(i),new qe(e,null,new K(i))}{if(!(e instanceof qe||e instanceof Ws))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(kt.fromString(t,...n));return r_(i),new qe(e.firestore,e instanceof Ws?e.converter:null,new K(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Lb(this,"async_queue_retry"),this.Vu=()=>{const i=Eh();i&&F("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ta;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!ml(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const a=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw Fn("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const a=ym.createAndSchedule(this,t,n,i,r=>this.yu(r));return this.Tu.push(a),a}fu(){this.Eu&&J()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function o_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const r of i)if(r in a&&typeof a[r]=="function")return!0;return!1}(e,["next","error","complete"])}class tl extends bm{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new l_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l_(t),this._firestoreClient=void 0,await t}}}function nC(e,t){const n=typeof e=="object"?e:nN(),i=typeof e=="string"?e:"(default)",a=Z2(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const r=qw("firestore");r&&eC(a,...r)}return a}function tA(e){if(e._terminated)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||iC(e),e._firestoreClient}function iC(e){var t,n,i;const a=e._freezeSettings(),r=function(o,u,h,m){return new DN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Wb(m.experimentalLongPollingOptions),m.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new $R(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Er(he.fromBase64String(t))}catch(n){throw new Y(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Er(he.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ht(this._lat,t._lat)||ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==a[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/^__.*__$/;class rC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Oi(t,this.data,this.fieldMask,n,this.fieldTransforms):new gl(t,this.data,n,this.fieldTransforms)}}class eA{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Oi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function nA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class wm{constructor(t,n,i,a,r,s){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,r===void 0&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new wm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.Ou(t),a}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return vu(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(nA(this.Cu)&&aC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class sC{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||$u(t)}Qu(t,n,i,a=!1){return new wm({Cu:t,methodName:n,qu:i,path:le.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iA(e){const t=e._freezeSettings(),n=$u(e._databaseId);return new sC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lC(e,t,n,i,a,r={}){const s=e.Qu(r.merge||r.mergeFields?2:0,t,n,a);Nm("Data must be an object, but it was:",s,i);const o=aA(i,s);let u,h;if(r.merge)u=new Pe(s.fieldMask),h=s.fieldTransforms;else if(r.mergeFields){const m=[];for(const p of r.mergeFields){const g=qf(t,p,n);if(!s.contains(g))throw new Y(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sA(m,g)||m.push(g)}u=new Pe(m),h=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=s.fieldTransforms;return new rC(new De(o),u,h)}class ec extends Am{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ec}}function oC(e,t,n,i){const a=e.Qu(1,t,n);Nm("Data must be an object, but it was:",a,i);const r=[],s=De.empty();pa(i,(u,h)=>{const m=Im(t,u,n);h=wi(h);const p=a.Nu(m);if(h instanceof ec)r.push(m);else{const g=nc(h,p);g!=null&&(r.push(m),s.set(m,g))}});const o=new Pe(r);return new eA(s,o,a.fieldTransforms)}function uC(e,t,n,i,a,r){const s=e.Qu(1,t,n),o=[qf(t,i,n)],u=[a];if(r.length%2!=0)throw new Y(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)o.push(qf(t,r[g])),u.push(r[g+1]);const h=[],m=De.empty();for(let g=o.length-1;g>=0;--g)if(!sA(h,o[g])){const y=o[g];let R=u[g];R=wi(R);const I=s.Nu(y);if(R instanceof ec)h.push(y);else{const C=nc(R,I);C!=null&&(h.push(y),m.set(y,C))}}const p=new Pe(h);return new eA(m,p,s.fieldTransforms)}function nc(e,t){if(rA(e=wi(e)))return Nm("Unsupported field value:",t,e),aA(e,t);if(e instanceof Am)return function(i,a){if(!nA(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(a);r&&a.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,a){const r=[];let s=0;for(const o of i){let u=nc(o,a.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(e,t)}return function(i,a){if((i=wi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Xt.fromDate(i);return{timestampValue:yu(a.serializer,r)}}if(i instanceof Xt){const r=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yu(a.serializer,r)}}if(i instanceof Sm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Er)return{bytesValue:Nb(a.serializer,i._byteString)};if(i instanceof qe){const r=a.databaseId,s=i.firestore._databaseId;if(!s.isEqual(r))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:um(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof xm)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Bu("VectorValues must only contain numeric values.");return sm(o.serializer,u)})}}}}}}(i,a);throw a.Bu(`Unsupported field value: ${Tm(i)}`)}(e,t)}function aA(e,t){const n={};return nb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pa(e,(i,a)=>{const r=nc(a,t.Mu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function rA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof Sm||e instanceof Er||e instanceof qe||e instanceof Am||e instanceof xm)}function Nm(e,t,n){if(!rA(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Tm(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function qf(e,t,n){if((t=wi(t))instanceof tc)return t._internalPath;if(typeof t=="string")return Im(e,t);throw vu("Field path arguments must be of type string or ",e,!1,void 0,n)}const cC=new RegExp("[~\\*/\\[\\]]");function Im(e,t,n){if(t.search(cC)>=0)throw vu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tc(...t.split("."))._internalPath}catch{throw vu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function vu(e,t,n,i,a){const r=i&&!i.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||s)&&(u+=" (found",r&&(u+=` in field ${i}`),s&&(u+=` in document ${a}`),u+=")"),new Y(P.INVALID_ARGUMENT,o+e+u)}function sA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,n,i,a,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(oA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hC extends lA{data(){return super.data()}}function oA(e,t){return typeof t=="string"?Im(e,t):t instanceof tc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dC{convertValue(t,n="none"){switch(ca(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ua(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw J()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return pa(t,(a,r)=>{i[a]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(s=>jt(s.doubleValue));return new xm(r)}convertGeoPoint(t){return new Sm(jt(t.latitude),jt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=em(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Qs(t));default:return null}}convertTimestamp(t){const n=Ii(t);return new Xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=kt.fromString(t);yt(Mb(i));const a=new Xs(i.get(1),i.get(3)),r=new K(i.popFirst(5));return a.isEqual(n)||Fn(`Document ${r} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uA extends lA{constructor(t,n,i,a,r,s){super(t,n,i,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Do(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(oA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Do extends uA{data(t={}){return super.data(t)}}class gC{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new hs(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Do(this._firestore,this._userDataWriter,i.key,i,new hs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,r){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Do(a._firestore,a._userDataWriter,o.doc.key,o.doc,new hs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Do(a._firestore,a._userDataWriter,o.doc.key,o.doc,new hs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,m=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),m=s.indexOf(o.doc.key)),{type:pC(o.type),doc:u,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class cA extends dC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Er(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function yC(e,t,n){e=Ti(e,qe);const i=Ti(e.firestore,tl),a=mC(e.converter,t);return hA(i,[lC(iA(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,yn.none())])}function xa(e,t,n,...i){e=Ti(e,qe);const a=Ti(e.firestore,tl),r=iA(a);let s;return s=typeof(t=wi(t))=="string"||t instanceof tc?uC(r,"updateDoc",e._key,t,n,i):oC(r,"updateDoc",e._key,t),hA(a,[s.toMutation(e._key,yn.exists(!0))])}function _C(e,...t){var n,i,a;e=wi(e);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||o_(t[s])||(r=t[s],s++);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(o_(t[s])){const p=t[s];t[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),t[s+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),t[s+2]=(a=p.complete)===null||a===void 0?void 0:a.bind(p)}let u,h,m;if(e instanceof qe)h=Ti(e.firestore,tl),m=rm(e._key.path),u={next:p=>{t[s]&&t[s](EC(h,e,p))},error:t[s+1],complete:t[s+2]};else{const p=Ti(e,Wu);h=Ti(p.firestore,tl),m=p._query;const g=new cA(h);u={next:y=>{t[s]&&t[s](new gC(h,g,p,y))},error:t[s+1],complete:t[s+2]},fC(e._query)}return function(g,y,R,I){const C=new XR(I),S=new DR(y,C,R);return g.asyncQueue.enqueueAndForget(async()=>NR(await i_(g),S)),()=>{C.Za(),g.asyncQueue.enqueueAndForget(async()=>IR(await i_(g),S))}}(tA(h),m,o,u)}function hA(e,t){return function(i,a){const r=new ta;return i.asyncQueue.enqueueAndForget(async()=>zR(await ZR(i),a,r)),r.promise}(tA(e),t)}function EC(e,t,n){const i=n.docs.get(t._key),a=new cA(e);return new uA(e,a,t._key,i,new hs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Rr=a})(eN),hu(new qs("firestore",(i,{instanceIdentifier:a,options:r})=>{const s=i.getProvider("app").getImmediate(),o=new tl(new pN(i.getProvider("auth-internal")),new vN(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Y(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(h.options.projectId,m)}(s,a),s);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),tr(wy,"4.7.3",t),tr(wy,"4.7.3","esm2017")})();const vC={apiKey:"AIzaSyDhdfcG6ONFjii9sZdMn9zLoOA2oaiACG8",authDomain:"mel-trip-95837.firebaseapp.com",projectId:"mel-trip-95837",storageBucket:"mel-trip-95837.firebasestorage.app",messagingSenderId:"201385610606",appId:"1:201385610606:web:57ab03c06c24fe9ae9057f"},TC=qT(vC),Bi=nC(TC),Th=[{day:1,date:"2026-01-21",weekday:"",weather:"sunny",temp:24,tips:" 4  T1 ",events:[{id:"1-0",time:"01:45",title:"(TPE)  (SIN)",location:"Taoyuan Intl Airport (TPE)",type:"flight",notes:`Scoot TR 897
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 897",airline:"Scoot B787-9",departCode:"TPE",arriveCode:"SIN",departTerminal:"1",arriveTerminal:"1",duration:"4h 40m"}},{id:"1-1",time:"10:20",title:"(SIN)  (MEL)",location:"Changi Airport (SIN)",type:"flight",notes:`Scoot TR 24
Layover: 3h 55m`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 24",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"MEL",departTerminal:"1",arriveTerminal:"2",duration:"7h 30m"}},{id:"1-2",time:"20:50",title:"",location:"Melbourne Airport",lat:-37.669,lng:144.841,type:"transport",notes:""},{id:"1-3",time:"21:40",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:""},{id:"1-4",time:"22:30",title:": Inner CBD Apartment",location:"Melbourne CBD (Near Southern Cross)",lat:-37.815,lng:144.955,type:"hotel",notes:"HDSS07/InnerCBD/1Min->Station"}]},{day:2,date:"2026-01-22",weekday:"",weather:"sunny",temp:28,tips:"",events:[{id:"2-1",time:"10:00",title:": ",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"2-2",time:"12:00",title:"",location:"Melbourne Park Outdoor Courts",lat:-37.822,lng:144.979,type:"activity",notes:""},{id:"2-3",time:"15:00",title:"John Cain / KIA Arena",location:"John Cain Arena",lat:-37.823,lng:144.98,type:"activity",notes:"Ground Pass "},{id:"2-4",time:"18:00",title:"Garden Square ",location:"Garden Square",lat:-37.821,lng:144.978,type:"food",notes:""}]},{day:3,date:"2026-01-23",weekday:"",weather:"partly-cloudy",temp:26,tips:"",events:[{id:"3-1",time:"10:00",title:" &  Day 2",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"3-2",time:"13:00",title:"Grand Slam Oval ",location:"Grand Slam Oval",lat:-37.8225,lng:144.9795,type:"food",notes:""},{id:"3-3",time:"16:00",title:"",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:" 70 "},{id:"3-4",time:"20:00",title:": ",location:"300 Spencer St, Melbourne",lat:-37.8119,lng:144.9536,type:"hotel",notes:"Atlantis Hotel Melbourne",bookingUrl:"https://www.agoda.com/zh-tw/account/editbooking.html?bookingId=Z8C4Kfulw2iR33s2tqaz9g%3D%3D&landFrom=TripDetail&sort=BookingStartDate&state=Upcoming&page=1&ds=xCyHKy4CaORlQkTX"}]},{day:4,date:"2026-01-24",weekday:"",weather:"sunny",temp:25,tips:"",events:[{id:"4-0",time:"10:15",title:" Footscray ",location:"300 Spencer St to Footscray",lat:-37.8119,lng:144.9536,type:"transport",notes:" Uber/Didi (15) "},{id:"4-1",time:"11:00",title:"SIXT : Toyota Yaris",location:"SIXT Car Rental Footscray",lat:-37.803,lng:144.902,type:"transport",notes:"Booking: 9729138629. /",bookingUrl:"https://mail.google.com/mail/u/0/?ogbl#search/sixt/FMfcgzQdzwHKBFvZVxCLZzsKMsMqBlbV"},{id:"4-2",time:"12:30",title:"",location:"Torquay Surf Beach",lat:-38.3324,lng:144.3159,type:"activity",notes:""},{id:"4-3",time:"13:30",title:"",location:"Lorne",lat:-38.5415,lng:143.9754,type:"food",notes:""},{id:"4-4",time:"16:00",title:"",location:"Apollo Bay",lat:-38.7558,lng:143.6558,type:"activity",notes:""},{id:"4-5",time:"18:00",title:": Apollo Stay",location:"38 Thomson Street, Apollo Bay",lat:-38.756,lng:143.656,type:"hotel",notes:"Check-in: 15:00~20:00",bookingUrl:"https://secure.booking.com/confirmation.zh-tw.html?label=mkt123sc-d7a379ea-aab6-4237-b9c5-b29721aadb1f&sid=e6ffd707b4250120589a18d560ea263f&aid=1536461&auth_key=sk2PHyKEv8wF0rTa&source=mytrips"}]},{day:5,date:"2026-01-25",weekday:"",weather:"partly-cloudy",temp:23,tips:"",events:[{id:"5-1",time:"09:00",title:"",location:"Twelve Apostles",lat:-38.6621,lng:143.1051,type:"activity",notes:""},{id:"5-2",time:"10:30",title:" & ",location:"London Bridge",lat:-38.6235,lng:142.9304,type:"activity",notes:""},{id:"5-3",time:"13:00",title:"",location:"Grampians Road",lat:-37.5,lng:142.5,type:"transport",notes:""},{id:"5-4",time:"16:30",title:": Mountain View Motor Inn",location:"4236 Ararat-Halls Gap Road, Halls Gap",lat:-37.155,lng:142.535,type:"hotel",notes:"",bookingUrl:"https://secure.booking.com/confirmation.zh-tw.html?label=mkt123sc-d7a379ea-aab6-4237-b9c5-b29721aadb1f&sid=e6ffd707b4250120589a18d560ea263f&aid=1536461&auth_key=SqXbY6BoFNUqmawu&source=mytrips"}]},{day:6,date:"2026-01-26",weekday:"",weather:"cloudy",temp:22,tips:"",events:[{id:"6-1",time:"09:00",title:"Boroka ",location:"Boroka Lookout",lat:-37.1235,lng:142.5028,type:"activity",notes:""},{id:"6-2",time:"11:00",title:"Brambuk ",location:"Brambuk Cultural Centre",lat:-37.1472,lng:142.5273,type:"activity",notes:""},{id:"6-3",time:"15:00",title:"",location:"Western Highway",lat:-37.5,lng:143.5,type:"transport",notes:" 3.5 "},{id:"6-4",time:"18:00",title:": City Apartment (Bozhu)",location:"371 Little Lonsdale Street",lat:-37.8115,lng:144.959,type:"hotel",notes:""}]},{day:7,date:"2026-01-27",weekday:"",weather:"sunny",temp:27,tips:"",events:[{id:"7-0",time:"10:00",title:"",location:"Footscray",lat:-37.803,lng:144.902,type:"transport",notes:""},{id:"7-1",time:"11:00",title:"SIXT ",location:"SIXT Car Rental Footscray",lat:-37.803,lng:144.902,type:"transport",notes:" 11:00 AM"},{id:"7-2",time:"11:30",title:"",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"transport",notes:" Uber"},{id:"7-3",time:"12:00",title:":  Day 1",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"7-4",time:"19:00",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"food",notes:""}]},{day:8,date:"2026-01-28",weekday:"",weather:"sunny",temp:29,tips:"",events:[{id:"8-1",time:"11:00",title:":  Day 2",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"8-2",time:"16:00",title:"",location:"Royal Arcade",lat:-37.8143,lng:144.9644,type:"activity",notes:""},{id:"8-3",time:"19:00",title:"Yarra River ",location:"Southbank",lat:-37.82,lng:144.965,type:"activity",notes:""}]},{day:9,date:"2026-01-29",weekday:"",weather:"partly-cloudy",temp:24,tips:"",events:[{id:"9-1",time:"12:30",title:"",location:"Federation Square",lat:-37.8179,lng:144.9691,type:"transport",notes:" ()"},{id:"9-2",time:"15:00",title:"Moonlit Sanctuary",location:"Moonlit Sanctuary",lat:-38.2173,lng:145.253,type:"activity",notes:""},{id:"9-3",time:"19:30",title:"",location:"Penguin Parade",lat:-38.5089,lng:145.1485,type:"activity",notes:""},{id:"9-4",time:"22:30",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"transport",notes:""}]},{day:10,date:"2026-01-30",weekday:"",weather:"cloudy",temp:21,tips:"3",events:[{id:"10-1",time:"09:00",title:"",location:"Degraves Street",lat:-37.8166,lng:144.966,type:"food",notes:""},{id:"10-2",time:"10:30",title:"",location:"Queen Victoria Market",lat:-37.8076,lng:144.9568,type:"activity",notes:""},{id:"10-3",time:"13:00",title:"Bratwurst ",location:"QVM Deli Hall",lat:-37.8076,lng:144.9568,type:"food",notes:""},{id:"10-4",time:"15:00",title:"",location:"CBD",lat:-37.8136,lng:144.9631,type:"activity",notes:""}]},{day:11,date:"2026-01-31",weekday:"",weather:"sunny",temp:23,tips:"",events:[{id:"11-1",time:"10:00",title:"",location:"Spencer Outlet Centre",lat:-37.8155,lng:144.953,type:"activity",notes:""},{id:"11-2",time:"13:00",title:"",location:"Southbank Promenade",lat:-37.8205,lng:144.9654,type:"activity",notes:""},{id:"11-3",time:"19:00",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:" T2 "},{id:"11-4",time:"22:35",title:"(MEL)  (SIN)",location:"Tullamarine Airport (MEL)",type:"flight",notes:`Scoot TR 25
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 25",airline:"Scoot B787-9",departCode:"MEL",arriveCode:"SIN",departTerminal:"2",arriveTerminal:"1",duration:"7h 45m"}}]},{day:12,date:"2026-02-01",weekday:"",weather:"partly-cloudy",temp:20,tips:"",events:[{id:"12-1",time:"03:20",title:" ()",location:"Changi Airport (SIN)",type:"transport",notes:"Layover: 4h 50m"},{id:"12-2",time:"08:10",title:"(SIN)  (TPE)",location:"Changi Airport (SIN)",type:"flight",notes:"Scoot TR 874",bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 874",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"TPE",departTerminal:"1",arriveTerminal:"1",duration:"4h 35m"}},{id:"12-3",time:"12:45",title:"",location:"Taoyuan Intl Airport",type:"transport",notes:""}]}],bh=[{id:"1",title:"SkyBus ",type:"transport",url:"https://www.skybus.com.au/",details:""},{id:"2",title:" 2026 ",type:"ticket",url:"https://www.ticketmaster.com.au/australian-open-tickets/artist/1154563",details:"Ground Pass / RLA"},{id:"4",title:"",type:"ticket",url:"https://www.penguins.org.au/",details:" QR Code"}],lo=[{id:"todo",label:"",color:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",isDefault:!0},{id:"packing",label:"",color:"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",isDefault:!0},{id:"shopping",label:"",color:"bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",isDefault:!0},{id:"gift",label:"",color:"bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300",isDefault:!0},{id:"docs",label:"",color:"bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",isDefault:!0}],oo=[{id:"food",label:"",color:"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300",isDefault:!0},{id:"transport",label:"",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300",isDefault:!0},{id:"shopping",label:"",color:"bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300",isDefault:!0},{id:"ticket",label:"",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",isDefault:!0},{id:"hotel",label:"",color:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300",isDefault:!0},{id:"other",label:"",color:"bg-gray-100 text-gray-700 dark:bg-slate-700 dark:text-gray-300",isDefault:!0}],uo=[{id:"1",text:"",isCompleted:!1,category:"docs"},{id:"2",text:" ETA ",isCompleted:!1,category:"docs"},{id:"3",text:" ()",isCompleted:!1,category:"packing"}],Pi="melbourne-trip-2026",on=e=>JSON.parse(JSON.stringify(e)),bC=()=>{const[e,t]=X.useState("itinerary"),[n,i]=X.useState([]),[a,r]=X.useState([]),[s,o]=X.useState([]),[u,h]=X.useState([]),[m,p]=X.useState([]),[g,y]=X.useState([]),[R,I]=X.useState(!0),[C,S]=X.useState("offline");X.useEffect(()=>{const v=ji(Bi,"trips",Pi),A=_C(v,async N=>{if(S("connected"),N.exists()){const D=N.data();D.days&&i(D.days),D.expenses&&r(D.expenses),D.links&&o(D.links),D.todoCategories?p(D.todoCategories):p(lo),D.expenseCategories?y(D.expenseCategories):y(oo),D.todos?h(D.todos):h(uo)}else await yC(v,{days:on(Th),expenses:[],links:on(bh),todos:on(uo),todoCategories:on(lo),expenseCategories:on(oo)}),i(Th),o(bh),h(uo),p(lo),y(oo);I(!1)},N=>{console.error("Firebase sync error:",N),S("offline"),n.length===0&&(i(Th),o(bh),h(uo),p(lo),y(oo),I(!1))});return()=>A()},[]);const T=v=>{let A;typeof v=="function"?A=v(n):A=v,i(A);const N=ji(Bi,"trips",Pi);xa(N,{days:on(A)}).catch(D=>console.error("Update failed",D))},w=v=>{let A;typeof v=="function"?A=v(a):A=v,r(A);const N=ji(Bi,"trips",Pi);xa(N,{expenses:on(A)}).catch(D=>console.error("Update failed",D))},M=v=>{let A;typeof v=="function"?A=v(s):A=v,o(A);const N=ji(Bi,"trips",Pi);xa(N,{links:on(A)}).catch(D=>console.error("Update failed",D))},z=v=>{let A;typeof v=="function"?A=v(u):A=v,h(A);const N=ji(Bi,"trips",Pi);xa(N,{todos:on(A)}).catch(D=>console.error("Update failed",D))},U=v=>{let A;typeof v=="function"?A=v(m):A=v,p(A);const N=ji(Bi,"trips",Pi);xa(N,{todoCategories:on(A)}).catch(D=>console.error("Update failed",D))},b=v=>{let A;typeof v=="function"?A=v(g):A=v,y(A);const N=ji(Bi,"trips",Pi);xa(N,{expenseCategories:on(A)}).catch(D=>console.error("Update failed",D))},E=()=>{alert("")};return R?d.jsx("div",{className:"bg-slate-900 min-h-screen flex items-center justify-center text-white",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-accent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-sm font-medium",children:"..."})]})}):d.jsx("div",{className:"min-h-screen flex justify-center font-sans bg-gradient-to-br from-slate-100 to-blue-50 dark:from-slate-900 dark:to-slate-800 transition-colors duration-500",children:d.jsxs("div",{className:"w-full max-w-md bg-surface dark:bg-darkSurface h-screen flex flex-col shadow-2xl overflow-hidden relative transition-colors duration-500",children:[d.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm pt-12 pb-3 px-6 flex justify-between items-center z-20 border-b border-gray-100 dark:border-slate-800 transition-colors",children:d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-black text-primary dark:text-white tracking-tight",children:[e==="itinerary"&&"MelbGo ",e==="expenses"&&" ",e==="links"&&" ",e==="todo"&&" "]}),d.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[d.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium tracking-widest uppercase",children:e==="itinerary"?"Melbourne Trip":e==="expenses"?"Split Bills":e==="links"?"Bookings":"Checklist"}),C==="connected"?d.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.5)]",title:""}):d.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400",title:""})]})]})}),d.jsxs("main",{className:"flex-1 overflow-hidden relative",children:[e==="itinerary"&&d.jsx(Ow,{days:n,setDays:T,onMapClick:E}),e==="expenses"&&d.jsx(Mw,{expenses:a,setExpenses:w,categories:g,setCategories:b}),e==="links"&&d.jsx(Vw,{links:s,setLinks:M,days:n,setDays:T}),e==="todo"&&d.jsx(Uw,{todos:u,setTodos:z,categories:m,setCategories:U})]}),d.jsxs("nav",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border-t border-gray-100 dark:border-slate-800 px-6 py-2 pb-6 flex justify-between items-center z-30 shadow-[0_-5px_15px_rgba(0,0,0,0.02)]",children:[d.jsxs("button",{onClick:()=>t("itinerary"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="itinerary"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[d.jsx(zx,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),d.jsxs("button",{onClick:()=>t("todo"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="todo"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[d.jsx(wo,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),d.jsxs("button",{onClick:()=>t("expenses"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="expenses"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[d.jsx(Hx,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),d.jsxs("button",{onClick:()=>t("links"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="links"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[d.jsx(Kd,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]})]})]})})},fA=document.getElementById("root");if(!fA)throw new Error("Could not find root element to mount to");const AC=Px.createRoot(fA);AC.render(d.jsx(sS.StrictMode,{children:d.jsx(bC,{})}));
