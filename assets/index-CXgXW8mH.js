(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function i_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a_={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=Symbol.for("react.transitional.element"),UA=Symbol.for("react.fragment");function r_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:VA,type:e,key:i,ref:t!==void 0?t:null,props:n}}yu.Fragment=UA;yu.jsx=r_;yu.jsxs=r_;a_.exports=yu;var m=a_.exports,s_={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.transitional.element"),LA=Symbol.for("react.portal"),kA=Symbol.for("react.fragment"),jA=Symbol.for("react.strict_mode"),BA=Symbol.for("react.profiler"),PA=Symbol.for("react.consumer"),zA=Symbol.for("react.context"),HA=Symbol.for("react.forward_ref"),GA=Symbol.for("react.suspense"),qA=Symbol.for("react.memo"),l_=Symbol.for("react.lazy"),FA=Symbol.for("react.activity"),Ag=Symbol.iterator;function YA(e){return e===null||typeof e!="object"?null:(e=Ag&&e[Ag]||e["@@iterator"],typeof e=="function"?e:null)}var o_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u_=Object.assign,c_={};function gr(e,t,n){this.props=e,this.context=t,this.refs=c_,this.updater=n||o_}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h_(){}h_.prototype=gr.prototype;function Hf(e,t,n){this.props=e,this.context=t,this.refs=c_,this.updater=n||o_}var Gf=Hf.prototype=new h_;Gf.constructor=Hf;u_(Gf,gr.prototype);Gf.isPureReactComponent=!0;var Sg=Array.isArray;function _h(){}var xt={H:null,A:null,T:null,S:null},f_=Object.prototype.hasOwnProperty;function qf(e,t,n){var i=n.ref;return{$$typeof:zf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function KA(e,t){return qf(e.type,t,e.props)}function Ff(e){return typeof e=="object"&&e!==null&&e.$$typeof===zf}function QA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xg=/\/+/g;function bc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QA(""+e.key):t.toString(36)}function XA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(_h,_h):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function va(e,t,n,i,a){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case zf:case LA:s=!0;break;case l_:return s=e._init,va(s(e._payload),t,n,i,a)}}if(s)return a=a(e),s=i===""?"."+bc(e,0):i,Sg(a)?(n="",s!=null&&(n=s.replace(xg,"$&/")+"/"),va(a,t,n,"",function(h){return h})):a!=null&&(Ff(a)&&(a=KA(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(xg,"$&/")+"/")+s)),t.push(a)),1;s=0;var o=i===""?".":i+":";if(Sg(e))for(var u=0;u<e.length;u++)i=e[u],r=o+bc(i,u),s+=va(i,t,n,r,a);else if(u=YA(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+bc(i,u++),s+=va(i,t,n,r,a);else if(r==="object"){if(typeof e.then=="function")return va(XA(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ml(e,t,n){if(e==null)return e;var i=[],a=0;return va(e,i,"","",function(r){return t.call(n,r,a++)}),i}function $A(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},JA={map:Ml,forEach:function(e,t,n){Ml(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ml(e,function(){t++}),t},toArray:function(e){return Ml(e,function(t){return t})||[]},only:function(e){if(!Ff(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=FA;Z.Children=JA;Z.Component=gr;Z.Fragment=kA;Z.Profiler=BA;Z.PureComponent=Hf;Z.StrictMode=jA;Z.Suspense=GA;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return xt.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=u_({},e.props),a=e.key;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)!f_.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var s=Array(r),o=0;o<r;o++)s[o]=arguments[o+2];i.children=s}return qf(e.type,a,i)};Z.createContext=function(e){return e={$$typeof:zA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:PA,_context:e},e};Z.createElement=function(e,t,n){var i,a={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)f_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return qf(e,r,a)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:HA,render:e}};Z.isValidElement=Ff;Z.lazy=function(e){return{$$typeof:l_,_payload:{_status:-1,_result:e},_init:$A}};Z.memo=function(e,t){return{$$typeof:qA,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=xt.T,n={};xt.T=n;try{var i=e(),a=xt.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(_h,wg)}catch(r){wg(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),xt.T=t}};Z.unstable_useCacheRefresh=function(){return xt.H.useCacheRefresh()};Z.use=function(e){return xt.H.use(e)};Z.useActionState=function(e,t,n){return xt.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return xt.H.useCallback(e,t)};Z.useContext=function(e){return xt.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return xt.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return xt.H.useEffect(e,t)};Z.useEffectEvent=function(e){return xt.H.useEffectEvent(e)};Z.useId=function(){return xt.H.useId()};Z.useImperativeHandle=function(e,t,n){return xt.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return xt.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return xt.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return xt.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return xt.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return xt.H.useReducer(e,t,n)};Z.useRef=function(e){return xt.H.useRef(e)};Z.useState=function(e){return xt.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return xt.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return xt.H.useTransition()};Z.version="19.2.3";s_.exports=Z;var tt=s_.exports;const ZA=i_(tt);var d_={exports:{}},_u={},m_={exports:{}},g_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,F){var X=H.length;H.push(F);t:for(;0<X;){var Tt=X-1>>>1,Vt=H[Tt];if(0<a(Vt,F))H[Tt]=F,H[X]=Vt,X=Tt;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var F=H[0],X=H.pop();if(X!==F){H[0]=X;t:for(var Tt=0,Vt=H.length,ca=Vt>>>1;Tt<ca;){var De=2*(Tt+1)-1,jt=H[De],En=De+1,ln=H[En];if(0>a(jt,X))En<Vt&&0>a(ln,jt)?(H[Tt]=ln,H[En]=X,Tt=En):(H[Tt]=jt,H[De]=X,Tt=De);else if(En<Vt&&0>a(ln,X))H[Tt]=ln,H[En]=X,Tt=En;else break t}}return F}function a(H,F){var X=H.sortIndex-F.sortIndex;return X!==0?X:H.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],h=[],d=1,p=null,g=3,y=!1,I=!1,R=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var F=n(h);F!==null;){if(F.callback===null)i(h);else if(F.startTime<=H)i(h),F.sortIndex=F.expirationTime,t(u,F);else break;F=n(h)}}function P(H){if(R=!1,M(H),!I)if(n(u)!==null)I=!0,V||(V=!0,D());else{var F=n(h);F!==null&&ft(P,F.startTime-H)}}var V=!1,T=-1,v=5,b=-1;function x(){return C?!0:!(e.unstable_now()-b<v)}function N(){if(C=!1,V){var H=e.unstable_now();b=H;var F=!0;try{t:{I=!1,R&&(R=!1,E(T),T=-1),y=!0;var X=g;try{e:{for(M(H),p=n(u);p!==null&&!(p.expirationTime>H&&x());){var Tt=p.callback;if(typeof Tt=="function"){p.callback=null,g=p.priorityLevel;var Vt=Tt(p.expirationTime<=H);if(H=e.unstable_now(),typeof Vt=="function"){p.callback=Vt,M(H),F=!0;break e}p===n(u)&&i(u),M(H)}else i(u);p=n(u)}if(p!==null)F=!0;else{var ca=n(h);ca!==null&&ft(P,ca.startTime-H),F=!1}}break t}finally{p=null,g=X,y=!1}F=void 0}}finally{F?D():V=!1}}}var D;if(typeof S=="function")D=function(){S(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,j=w.port2;w.port1.onmessage=N,D=function(){j.postMessage(null)}}else D=function(){A(N,0)};function ft(H,F){T=A(function(){H(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var X=g;g=F;try{return H()}finally{g=X}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(H,F){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=g;g=H;try{return F()}finally{g=X}},e.unstable_scheduleCallback=function(H,F,X){var Tt=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Tt+X:Tt):X=Tt,H){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=X+Vt,H={id:d++,callback:F,priorityLevel:H,startTime:X,expirationTime:Vt,sortIndex:-1},X>Tt?(H.sortIndex=X,t(h,H),n(u)===null&&H===n(h)&&(R?(E(T),T=-1):R=!0,ft(P,X-Tt))):(H.sortIndex=Vt,t(u,H),I||y||(I=!0,V||(V=!0,D()))),H},e.unstable_shouldYield=x,e.unstable_wrapCallback=function(H){var F=g;return function(){var X=g;g=F;try{return H.apply(this,arguments)}finally{g=X}}}})(g_);m_.exports=g_;var WA=m_.exports,p_={exports:{}},Te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=tt;function y_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qn(){}var Ee={d:{f:Qn,r:function(){throw Error(y_(522))},D:Qn,C:Qn,L:Qn,m:Qn,X:Qn,S:Qn,M:Qn},p:0,findDOMNode:null},eS=Symbol.for("react.portal");function nS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ss=tS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Eu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee;Te.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(y_(299));return nS(e,t,null,n)};Te.flushSync=function(e){var t=ss.T,n=Ee.p;try{if(ss.T=null,Ee.p=2,e)return e()}finally{ss.T=t,Ee.p=n,Ee.d.f()}};Te.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ee.d.C(e,t))};Te.prefetchDNS=function(e){typeof e=="string"&&Ee.d.D(e)};Te.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Eu(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ee.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:r}):n==="script"&&Ee.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Te.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Eu(t.as,t.crossOrigin);Ee.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ee.d.M(e)};Te.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Eu(n,t.crossOrigin);Ee.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Te.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Eu(t.as,t.crossOrigin);Ee.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ee.d.m(e)};Te.requestFormReset=function(e){Ee.d.r(e)};Te.unstable_batchedUpdates=function(e,t){return e(t)};Te.useFormState=function(e,t,n){return ss.H.useFormState(e,t,n)};Te.useFormStatus=function(){return ss.H.useHostTransitionStatus()};Te.version="19.2.3";function __(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(__)}catch(e){console.error(e)}}__(),p_.exports=Te;var iS=p_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=WA,E_=tt,aS=iS;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function T_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rg(e){if($s(e)!==e)throw Error(L(188))}function rS(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return Rg(a),e;if(r===i)return Rg(a),t;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=a,i=r;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s){for(o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function A_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A_(e),t!==null)return t;e=e.sibling}return null}var wt=Object.assign,sS=Symbol.for("react.element"),Vl=Symbol.for("react.transitional.element"),$r=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),S_=Symbol.for("react.strict_mode"),Eh=Symbol.for("react.profiler"),x_=Symbol.for("react.consumer"),Cn=Symbol.for("react.context"),Yf=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),bh=Symbol.for("react.activity"),lS=Symbol.for("react.memo_cache_sentinel"),Ig=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var oS=Symbol.for("react.client.reference");function Ah(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ra:return"Fragment";case Eh:return"Profiler";case S_:return"StrictMode";case vh:return"Suspense";case Th:return"SuspenseList";case bh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $r:return"Portal";case Cn:return e.displayName||"Context";case x_:return(e._context.displayName||"Context")+".Consumer";case Yf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kf:return t=e.displayName||null,t!==null?t:Ah(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return Ah(e(t))}catch{}}return null}var Jr=Array.isArray,K=E_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=aS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hi={pending:!1,data:null,method:null,action:null},Sh=[],Ia=-1;function yn(e){return{current:e}}function Jt(e){0>Ia||(e.current=Sh[Ia],Sh[Ia]=null,Ia--)}function vt(e,t){Ia++,Sh[Ia]=e.current,e.current=t}var hn=yn(null),xs=yn(null),li=yn(null),Io=yn(null);function No(e,t){switch(vt(li,t),vt(xs,e),vt(hn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vp(t),e=Fv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Jt(hn),vt(hn,e)}function $a(){Jt(hn),Jt(xs),Jt(li)}function xh(e){e.memoizedState!==null&&vt(Io,e);var t=hn.current,n=Fv(t,e.type);t!==n&&(vt(xs,e),vt(hn,n))}function Co(e){xs.current===e&&(Jt(hn),Jt(xs)),Io.current===e&&(Jt(Io),Ls._currentValue=Hi)}var Ac,Ng;function Ui(e){if(Ac===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ac=t&&t[1]||"",Ng=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ac+e+Ng}var Sc=!1;function xc(e,t){if(!e||Sc)return"";Sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(y){var g=y}Reflect.construct(e,[],p)}else{try{p.call()}catch(y){g=y}e.call(p.prototype)}}else{try{throw Error()}catch(y){g=y}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],o=r[1];if(s&&o){var u=s.split(`
`),h=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===h.length)for(i=u.length-1,a=h.length-1;1<=i&&0<=a&&u[i]!==h[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==h[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==h[a]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=a);break}}}finally{Sc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ui(n):""}function uS(e,t){switch(e.tag){case 26:case 27:case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return e.child!==t&&t!==null?Ui("Suspense Fallback"):Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return xc(e.type,!1);case 11:return xc(e.type.render,!1);case 1:return xc(e.type,!0);case 31:return Ui("Activity");default:return""}}function Cg(e){try{var t="",n=null;do t+=uS(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var wh=Object.prototype.hasOwnProperty,Qf=Kt.unstable_scheduleCallback,wc=Kt.unstable_cancelCallback,cS=Kt.unstable_shouldYield,hS=Kt.unstable_requestPaint,je=Kt.unstable_now,fS=Kt.unstable_getCurrentPriorityLevel,w_=Kt.unstable_ImmediatePriority,R_=Kt.unstable_UserBlockingPriority,Do=Kt.unstable_NormalPriority,dS=Kt.unstable_LowPriority,I_=Kt.unstable_IdlePriority,mS=Kt.log,gS=Kt.unstable_setDisableYieldValue,Js=null,Be=null;function ei(e){if(typeof mS=="function"&&gS(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Js,e)}catch{}}var Pe=Math.clz32?Math.clz32:_S,pS=Math.log,yS=Math.LN2;function _S(e){return e>>>=0,e===0?32:31-(pS(e)/yS|0)|0}var Ul=256,Ll=262144,kl=4194304;function Li(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?a=Li(i):(s&=o,s!==0?a=Li(s):n||(n=o&~e,n!==0&&(a=Li(n))))):(o=i&~r,o!==0?a=Li(o):s!==0?a=Li(s):n||(n=i&~e,n!==0&&(a=Li(n)))),a===0?0:t!==0&&t!==a&&!(t&r)&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function Zs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ES(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N_(){var e=kl;return kl<<=1,!(kl&62914560)&&(kl=4194304),e}function Rc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ws(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vS(e,t,n,i,a,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Pe(n),p=1<<d;o[d]=0,u[d]=-1;var g=h[d];if(g!==null)for(h[d]=null,d=0;d<g.length;d++){var y=g[d];y!==null&&(y.lane&=-536870913)}n&=~p}i!==0&&C_(e,i,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function C_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Pe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function D_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Pe(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function O_(e,t){var n=t&-t;return n=n&42?1:Xf(n),n&(e.suspendedLanes|t)?0:n}function Xf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $f(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function M_(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:nT(e.type))}function Dg(e,t){var n=ht.p;try{return ht.p=e,t()}finally{ht.p=n}}var Ri=Math.random().toString(36).slice(2),ee="__reactFiber$"+Ri,Ne="__reactProps$"+Ri,pr="__reactContainer$"+Ri,Rh="__reactEvents$"+Ri,TS="__reactListeners$"+Ri,bS="__reactHandles$"+Ri,Og="__reactResources$"+Ri,tl="__reactMarker$"+Ri;function Jf(e){delete e[ee],delete e[Ne],delete e[Rh],delete e[TS],delete e[bS]}function Na(e){var t=e[ee];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[ee]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bp(e);e!==null;){if(n=e[ee])return n;e=Bp(e)}return t}e=n,n=e.parentNode}return null}function yr(e){if(e=e[ee]||e[pr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Zr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Pa(e){var t=e[Og];return t||(t=e[Og]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[tl]=!0}var V_=new Set,U_={};function ia(e,t){Ja(e,t),Ja(e+"Capture",t)}function Ja(e,t){for(U_[e]=t,e=0;e<t.length;e++)V_.add(t[e])}var AS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mg={},Vg={};function SS(e){return wh.call(Vg,e)?!0:wh.call(Mg,e)?!1:AS.test(e)?Vg[e]=!0:(Mg[e]=!0,!1)}function so(e,t,n){if(SS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function jl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function bn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xS(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ih(e){if(!e._valueTracker){var t=L_(e)?"checked":"value";e._valueTracker=xS(e,t,""+e[t])}}function k_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=L_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wS=/[\n"\\]/g;function Xe(e){return e.replace(wS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nh(e,t,n,i,a,r,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ye(t)):e.value!==""+Ye(t)&&(e.value=""+Ye(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Ch(e,s,Ye(t)):n!=null?Ch(e,s,Ye(n)):i!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ye(o):e.removeAttribute("name")}function j_(e,t,n,i,a,r,s,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Ih(e);return}n=n!=null?""+Ye(n):"",t=t!=null?""+Ye(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Ih(e)}function Ch(e,t,n){t==="number"&&Oo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ye(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function B_(e,t,n){if(t!=null&&(t=""+Ye(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ye(n):""}function P_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(Jr(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ye(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ih(e)}function Za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var RS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||RS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function z_(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Ug(e,a,i)}else for(var r in t)t.hasOwnProperty(r)&&Ug(e,r,t[r])}function Zf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(e){return NS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Dh=null;function Wf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ca=null,Ha=null;function Lg(e){var t=yr(e);if(t&&(e=t.stateNode)){var n=e[Ne]||null;t:switch(e=t.stateNode,t.type){case"input":if(Nh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Ne]||null;if(!a)throw Error(L(90));Nh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&k_(i)}break t;case"textarea":B_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var Ic=!1;function H_(e,t,n){if(Ic)return e(t,n);Ic=!0;try{var i=e(t);return i}finally{if(Ic=!1,(Ca!==null||Ha!==null)&&(Ou(),Ca&&(t=Ca,e=Ha,Ha=Ca=null,Lg(t),e)))for(t=0;t<e.length;t++)Lg(e[t])}}function ws(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ne]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(Ln)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Oh=!1}var ni=null,td=null,oo=null;function G_(){if(oo)return oo;var e,t=td,n=t.length,i,a="value"in ni?ni.value:ni.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===a[r-i];i++);return oo=a.slice(e,1<i?1-i:void 0)}function uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function kg(){return!1}function Ce(e){function t(n,i,a,r,s){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Bl:kg,this.isPropagationStopped=kg,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=Ce(aa),el=wt({},aa,{view:0,detail:0}),CS=Ce(el),Nc,Cc,Hr,bu=wt({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Nc=e.screenX-Hr.screenX,Cc=e.screenY-Hr.screenY):Cc=Nc=0,Hr=e),Nc)},movementY:function(e){return"movementY"in e?e.movementY:Cc}}),jg=Ce(bu),DS=wt({},bu,{dataTransfer:0}),OS=Ce(DS),MS=wt({},el,{relatedTarget:0}),Dc=Ce(MS),VS=wt({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),US=Ce(VS),LS=wt({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kS=Ce(LS),jS=wt({},aa,{data:0}),Bg=Ce(jS),BS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zS[e])?!!t[e]:!1}function ed(){return HS}var GS=wt({},el,{key:function(e){if(e.key){var t=BS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qS=Ce(GS),FS=wt({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Ce(FS),YS=wt({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),KS=Ce(YS),QS=wt({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=Ce(QS),$S=wt({},bu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JS=Ce($S),ZS=wt({},aa,{newState:0,oldState:0}),WS=Ce(ZS),t1=[9,13,27,32],nd=Ln&&"CompositionEvent"in window,ls=null;Ln&&"documentMode"in document&&(ls=document.documentMode);var e1=Ln&&"TextEvent"in window&&!ls,q_=Ln&&(!nd||ls&&8<ls&&11>=ls),zg=" ",Hg=!1;function F_(e,t){switch(e){case"keyup":return t1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function n1(e,t){switch(e){case"compositionend":return Y_(t);case"keypress":return t.which!==32?null:(Hg=!0,zg);case"textInput":return e=t.data,e===zg&&Hg?null:e;default:return null}}function i1(e,t){if(Da)return e==="compositionend"||!nd&&F_(e,t)?(e=G_(),oo=td=ni=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q_&&t.locale!=="ko"?null:t.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a1[e.type]:t==="textarea"}function K_(e,t,n,i){Ca?Ha?Ha.push(i):Ha=[i]:Ca=i,t=$o(t,"onChange"),0<t.length&&(n=new Tu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var os=null,Rs=null;function r1(e){Hv(e,0)}function Au(e){var t=Zr(e);if(k_(t))return e}function qg(e,t){if(e==="change")return t}var Q_=!1;if(Ln){var Oc;if(Ln){var Mc="oninput"in document;if(!Mc){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Mc=typeof Fg.oninput=="function"}Oc=Mc}else Oc=!1;Q_=Oc&&(!document.documentMode||9<document.documentMode)}function Yg(){os&&(os.detachEvent("onpropertychange",X_),Rs=os=null)}function X_(e){if(e.propertyName==="value"&&Au(Rs)){var t=[];K_(t,Rs,e,Wf(e)),H_(r1,t)}}function s1(e,t,n){e==="focusin"?(Yg(),os=t,Rs=n,os.attachEvent("onpropertychange",X_)):e==="focusout"&&Yg()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Rs)}function o1(e,t){if(e==="click")return Au(t)}function u1(e,t){if(e==="input"||e==="change")return Au(t)}function c1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ge=typeof Object.is=="function"?Object.is:c1;function Is(e,t){if(Ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!wh.call(t,a)||!Ge(e[a],t[a]))return!1}return!0}function Kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,t){var n=Kg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Kg(n)}}function $_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Oo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oo(e.document)}return t}function id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var h1=Ln&&"documentMode"in document&&11>=document.documentMode,Oa=null,Mh=null,us=null,Vh=!1;function Xg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vh||Oa==null||Oa!==Oo(i)||(i=Oa,"selectionStart"in i&&id(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),us&&Is(us,i)||(us=i,i=$o(Mh,"onSelect"),0<i.length&&(t=new Tu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Oa)))}function Vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ma={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Vc={},Z_={};Ln&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function ra(e){if(Vc[e])return Vc[e];if(!Ma[e])return e;var t=Ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Z_)return Vc[e]=t[n];return e}var W_=ra("animationend"),tE=ra("animationiteration"),eE=ra("animationstart"),f1=ra("transitionrun"),d1=ra("transitionstart"),m1=ra("transitioncancel"),nE=ra("transitionend"),iE=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function sn(e,t){iE.set(e,t),ia(t,[e])}var Mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fe=[],Va=0,ad=0;function Su(){for(var e=Va,t=ad=Va=0;t<e;){var n=Fe[t];Fe[t++]=null;var i=Fe[t];Fe[t++]=null;var a=Fe[t];Fe[t++]=null;var r=Fe[t];if(Fe[t++]=null,i!==null&&a!==null){var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}r!==0&&aE(n,a,r)}}function xu(e,t,n,i){Fe[Va++]=e,Fe[Va++]=t,Fe[Va++]=n,Fe[Va++]=i,ad|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function rd(e,t,n,i){return xu(e,t,n,i),Vo(e)}function sa(e,t){return xu(e,null,null,t),Vo(e)}function aE(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-Pe(n),e=r.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),r):null}function Vo(e){if(50<_s)throw _s=0,nf=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ua={};function g1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(e,t,n,i){return new g1(e,t,n,i)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,t){var n=e.alternate;return n===null?(n=Ue(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rE(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function co(e,t,n,i,a,r){var s=0;if(i=e,typeof e=="function")sd(e)&&(s=1);else if(typeof e=="string")s=vx(e,n,hn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case bh:return e=Ue(31,n,t,a),e.elementType=bh,e.lanes=r,e;case Ra:return Gi(n.children,a,r,t);case S_:s=8,a|=24;break;case Eh:return e=Ue(12,n,t,a|2),e.elementType=Eh,e.lanes=r,e;case vh:return e=Ue(13,n,t,a),e.elementType=vh,e.lanes=r,e;case Th:return e=Ue(19,n,t,a),e.elementType=Th,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cn:s=10;break t;case x_:s=9;break t;case Yf:s=11;break t;case Kf:s=14;break t;case Xn:s=16,i=null;break t}s=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Ue(s,n,t,a),t.elementType=e,t.type=i,t.lanes=r,t}function Gi(e,t,n,i){return e=Ue(7,e,i,t),e.lanes=n,e}function Uc(e,t,n){return e=Ue(6,e,null,t),e.lanes=n,e}function sE(e){var t=Ue(18,null,null,0);return t.stateNode=e,t}function Lc(e,t,n){return t=Ue(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $g=new WeakMap;function $e(e,t){if(typeof e=="object"&&e!==null){var n=$g.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Cg(t)},$g.set(e,t),t)}return{value:e,source:t,stack:Cg(t)}}var La=[],ka=0,Uo=null,Ns=0,Ke=[],Qe=0,Ei=null,on=1,un="";function In(e,t){La[ka++]=Ns,La[ka++]=Uo,Uo=e,Ns=t}function lE(e,t,n){Ke[Qe++]=on,Ke[Qe++]=un,Ke[Qe++]=Ei,Ei=e;var i=on;e=un;var a=32-Pe(i)-1;i&=~(1<<a),n+=1;var r=32-Pe(t)+a;if(30<r){var s=a-a%5;r=(i&(1<<s)-1).toString(32),i>>=s,a-=s,on=1<<32-Pe(t)+a|n<<a|i,un=r+e}else on=1<<r|n<<a|i,un=e}function ld(e){e.return!==null&&(In(e,1),lE(e,1,0))}function od(e){for(;e===Uo;)Uo=La[--ka],La[ka]=null,Ns=La[--ka],La[ka]=null;for(;e===Ei;)Ei=Ke[--Qe],Ke[Qe]=null,un=Ke[--Qe],Ke[Qe]=null,on=Ke[--Qe],Ke[Qe]=null}function oE(e,t){Ke[Qe++]=on,Ke[Qe++]=un,Ke[Qe++]=Ei,on=t.id,un=t.overflow,Ei=e}var ne=null,St=null,rt=!1,oi=null,Je=!1,Lh=Error(L(519));function vi(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cs($e(t,e)),Lh}function Jg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ee]=e,t[Ne]=i,n){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(n=0;n<Vs.length;n++)et(Vs[n],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),j_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),P_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||qv(t.textContent,n)?(i.popover!=null&&(et("beforetoggle",t),et("toggle",t)),i.onScroll!=null&&et("scroll",t),i.onScrollEnd!=null&&et("scrollend",t),i.onClick!=null&&(t.onclick=Dn),t=!0):t=!1,t||vi(e,!0)}function Zg(e){for(ne=e.return;ne;)switch(ne.tag){case 5:case 31:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:ne=ne.return}}function ga(e){if(e!==ne)return!1;if(!rt)return Zg(e),rt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||of(e.type,e.memoizedProps)),n=!n),n&&St&&vi(e),Zg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));St=jp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));St=jp(e)}else t===27?(t=St,Ii(e.type)?(e=ff,ff=null,St=e):St=t):St=ne?We(e.stateNode.nextSibling):null;return!0}function Xi(){St=ne=null,rt=!1}function kc(){var e=oi;return e!==null&&(we===null?we=e:we.push.apply(we,e),oi=null),e}function Cs(e){oi===null?oi=[e]:oi.push(e)}var kh=yn(null),la=null,On=null;function Jn(e,t,n){vt(kh,t._currentValue),t._currentValue=n}function Vn(e){e._currentValue=kh.current,Jt(kh)}function jh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Bh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var s=a.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),jh(r.return,n,e),i||(s=null);break t}r=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(L(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),jh(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function _r(e,t,n,i){e=null;for(var a=t,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(L(387));if(s=s.memoizedProps,s!==null){var o=a.type;Ge(a.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(a===Io.current){if(s=a.alternate,s===null)throw Error(L(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ls):e=[Ls])}a=a.return}e!==null&&Bh(t,e,n,i),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!Ge(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $i(e){la=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ae(e){return uE(la,e)}function Pl(e,t){return la===null&&$i(e),uE(e,t)}function uE(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},On===null){if(e===null)throw Error(L(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return n}var p1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},y1=Kt.unstable_scheduleCallback,_1=Kt.unstable_NormalPriority,Ht={$$typeof:Cn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new p1,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&y1(_1,function(){e.controller.abort()})}var cs=null,Ph=0,Wa=0,Ga=null;function E1(e,t){if(cs===null){var n=cs=[];Ph=0,Wa=Vd(),Ga={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ph++,t.then(Wg,Wg),t}function Wg(){if(--Ph===0&&cs!==null){Ga!==null&&(Ga.status="fulfilled");var e=cs;cs=null,Wa=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function v1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var tp=K.S;K.S=function(e,t){Av=je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&E1(e,t),tp!==null&&tp(e,t)};var qi=yn(null);function cd(){var e=qi.current;return e!==null?e:Et.pooledCache}function ho(e,t){t===null?vt(qi,qi.current):vt(qi,t.pool)}function cE(){var e=cd();return e===null?null:{parent:Ht._currentValue,pool:e}}var Er=Error(L(460)),hd=Error(L(474)),wu=Error(L(542)),ko={then:function(){}};function ep(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hE(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Dn,Dn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ip(e),e;default:if(typeof t.status=="string")t.then(Dn,Dn);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ip(e),e}throw Fi=t,Er}}function ki(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Fi=n,Er):n}}var Fi=null;function np(){if(Fi===null)throw Error(L(459));var e=Fi;return Fi=null,e}function ip(e){if(e===Er||e===wu)throw Error(L(483))}var qa=null,Ds=0;function zl(e){var t=Ds;return Ds+=1,qa===null&&(qa=[]),hE(qa,e,t)}function Gr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hl(e,t){throw t.$$typeof===sS?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fE(e){function t(A,E){if(e){var S=A.deletions;S===null?(A.deletions=[E],A.flags|=16):S.push(E)}}function n(A,E){if(!e)return null;for(;E!==null;)t(A,E),E=E.sibling;return null}function i(A){for(var E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function a(A,E){return A=Mn(A,E),A.index=0,A.sibling=null,A}function r(A,E,S){return A.index=S,e?(S=A.alternate,S!==null?(S=S.index,S<E?(A.flags|=67108866,E):S):(A.flags|=67108866,E)):(A.flags|=1048576,E)}function s(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function o(A,E,S,M){return E===null||E.tag!==6?(E=Uc(S,A.mode,M),E.return=A,E):(E=a(E,S),E.return=A,E)}function u(A,E,S,M){var P=S.type;return P===Ra?d(A,E,S.props.children,M,S.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Xn&&ki(P)===E.type)?(E=a(E,S.props),Gr(E,S),E.return=A,E):(E=co(S.type,S.key,S.props,null,A.mode,M),Gr(E,S),E.return=A,E)}function h(A,E,S,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Lc(S,A.mode,M),E.return=A,E):(E=a(E,S.children||[]),E.return=A,E)}function d(A,E,S,M,P){return E===null||E.tag!==7?(E=Gi(S,A.mode,M,P),E.return=A,E):(E=a(E,S),E.return=A,E)}function p(A,E,S){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Uc(""+E,A.mode,S),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Vl:return S=co(E.type,E.key,E.props,null,A.mode,S),Gr(S,E),S.return=A,S;case $r:return E=Lc(E,A.mode,S),E.return=A,E;case Xn:return E=ki(E),p(A,E,S)}if(Jr(E)||Pr(E))return E=Gi(E,A.mode,S,null),E.return=A,E;if(typeof E.then=="function")return p(A,zl(E),S);if(E.$$typeof===Cn)return p(A,Pl(A,E),S);Hl(A,E)}return null}function g(A,E,S,M){var P=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return P!==null?null:o(A,E,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vl:return S.key===P?u(A,E,S,M):null;case $r:return S.key===P?h(A,E,S,M):null;case Xn:return S=ki(S),g(A,E,S,M)}if(Jr(S)||Pr(S))return P!==null?null:d(A,E,S,M,null);if(typeof S.then=="function")return g(A,E,zl(S),M);if(S.$$typeof===Cn)return g(A,E,Pl(A,S),M);Hl(A,S)}return null}function y(A,E,S,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return A=A.get(S)||null,o(E,A,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Vl:return A=A.get(M.key===null?S:M.key)||null,u(E,A,M,P);case $r:return A=A.get(M.key===null?S:M.key)||null,h(E,A,M,P);case Xn:return M=ki(M),y(A,E,S,M,P)}if(Jr(M)||Pr(M))return A=A.get(S)||null,d(E,A,M,P,null);if(typeof M.then=="function")return y(A,E,S,zl(M),P);if(M.$$typeof===Cn)return y(A,E,S,Pl(E,M),P);Hl(E,M)}return null}function I(A,E,S,M){for(var P=null,V=null,T=E,v=E=0,b=null;T!==null&&v<S.length;v++){T.index>v?(b=T,T=null):b=T.sibling;var x=g(A,T,S[v],M);if(x===null){T===null&&(T=b);break}e&&T&&x.alternate===null&&t(A,T),E=r(x,E,v),V===null?P=x:V.sibling=x,V=x,T=b}if(v===S.length)return n(A,T),rt&&In(A,v),P;if(T===null){for(;v<S.length;v++)T=p(A,S[v],M),T!==null&&(E=r(T,E,v),V===null?P=T:V.sibling=T,V=T);return rt&&In(A,v),P}for(T=i(T);v<S.length;v++)b=y(T,A,v,S[v],M),b!==null&&(e&&b.alternate!==null&&T.delete(b.key===null?v:b.key),E=r(b,E,v),V===null?P=b:V.sibling=b,V=b);return e&&T.forEach(function(N){return t(A,N)}),rt&&In(A,v),P}function R(A,E,S,M){if(S==null)throw Error(L(151));for(var P=null,V=null,T=E,v=E=0,b=null,x=S.next();T!==null&&!x.done;v++,x=S.next()){T.index>v?(b=T,T=null):b=T.sibling;var N=g(A,T,x.value,M);if(N===null){T===null&&(T=b);break}e&&T&&N.alternate===null&&t(A,T),E=r(N,E,v),V===null?P=N:V.sibling=N,V=N,T=b}if(x.done)return n(A,T),rt&&In(A,v),P;if(T===null){for(;!x.done;v++,x=S.next())x=p(A,x.value,M),x!==null&&(E=r(x,E,v),V===null?P=x:V.sibling=x,V=x);return rt&&In(A,v),P}for(T=i(T);!x.done;v++,x=S.next())x=y(T,A,v,x.value,M),x!==null&&(e&&x.alternate!==null&&T.delete(x.key===null?v:x.key),E=r(x,E,v),V===null?P=x:V.sibling=x,V=x);return e&&T.forEach(function(D){return t(A,D)}),rt&&In(A,v),P}function C(A,E,S,M){if(typeof S=="object"&&S!==null&&S.type===Ra&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Vl:t:{for(var P=S.key;E!==null;){if(E.key===P){if(P=S.type,P===Ra){if(E.tag===7){n(A,E.sibling),M=a(E,S.props.children),M.return=A,A=M;break t}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Xn&&ki(P)===E.type){n(A,E.sibling),M=a(E,S.props),Gr(M,S),M.return=A,A=M;break t}n(A,E);break}else t(A,E);E=E.sibling}S.type===Ra?(M=Gi(S.props.children,A.mode,M,S.key),M.return=A,A=M):(M=co(S.type,S.key,S.props,null,A.mode,M),Gr(M,S),M.return=A,A=M)}return s(A);case $r:t:{for(P=S.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(A,E.sibling),M=a(E,S.children||[]),M.return=A,A=M;break t}else{n(A,E);break}else t(A,E);E=E.sibling}M=Lc(S,A.mode,M),M.return=A,A=M}return s(A);case Xn:return S=ki(S),C(A,E,S,M)}if(Jr(S))return I(A,E,S,M);if(Pr(S)){if(P=Pr(S),typeof P!="function")throw Error(L(150));return S=P.call(S),R(A,E,S,M)}if(typeof S.then=="function")return C(A,E,zl(S),M);if(S.$$typeof===Cn)return C(A,E,Pl(A,S),M);Hl(A,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,E!==null&&E.tag===6?(n(A,E.sibling),M=a(E,S),M.return=A,A=M):(n(A,E),M=Uc(S,A.mode,M),M.return=A,A=M),s(A)):n(A,E)}return function(A,E,S,M){try{Ds=0;var P=C(A,E,S,M);return qa=null,P}catch(T){if(T===Er||T===wu)throw T;var V=Ue(29,T,null,A.mode);return V.lanes=M,V.return=A,V}finally{}}}var Ji=fE(!0),dE=fE(!1),$n=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ui(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ci(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ct&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=Vo(e),aE(e,null,n),t}return xu(e,i,t,n),Vo(e)}function hs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,D_(e,n)}}function jc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Hh=!1;function fs(){if(Hh){var e=Ga;if(e!==null)throw e}}function ds(e,t,n,i){Hh=!1;var a=e.updateQueue;$n=!1;var r=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,s===null?r=h:s.next=h,s=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=u))}if(r!==null){var p=a.baseState;s=0,d=h=u=null,o=r;do{var g=o.lane&-536870913,y=g!==o.lane;if(y?(at&g)===g:(i&g)===g){g!==0&&g===Wa&&(Hh=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var I=e,R=o;g=t;var C=n;switch(R.tag){case 1:if(I=R.payload,typeof I=="function"){p=I.call(C,p,g);break t}p=I;break t;case 3:I.flags=I.flags&-65537|128;case 0:if(I=R.payload,g=typeof I=="function"?I.call(C,p,g):I,g==null)break t;p=wt({},p,g);break t;case 2:$n=!0}}g=o.callback,g!==null&&(e.flags|=64,y&&(e.flags|=8192),y=a.callbacks,y===null?a.callbacks=[g]:y.push(g))}else y={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=y,u=p):d=d.next=y,s|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;y=o,o=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);d===null&&(u=p),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=d,r===null&&(a.shared.lanes=0),bi|=s,e.lanes=s,e.memoizedState=p}}function mE(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function gE(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)mE(n[e],t)}var tr=yn(null),jo=yn(0);function ap(e,t){e=Pn,vt(jo,e),vt(tr,t),Pn=e|t.baseLanes}function Gh(){vt(jo,Pn),vt(tr,tr.current)}function dd(){Pn=jo.current,Jt(tr),Jt(jo)}var qe=yn(null),Ze=null;function Zn(e){var t=e.alternate;vt(Lt,Lt.current&1),vt(qe,e),Ze===null&&(t===null||tr.current!==null||t.memoizedState!==null)&&(Ze=e)}function qh(e){vt(Lt,Lt.current),vt(qe,e),Ze===null&&(Ze=e)}function pE(e){e.tag===22?(vt(Lt,Lt.current),vt(qe,e),Ze===null&&(Ze=e)):Wn()}function Wn(){vt(Lt,Lt.current),vt(qe,qe.current)}function Ve(e){Jt(qe),Ze===e&&(Ze=null),Jt(Lt)}var Lt=yn(0);function Bo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||hf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kn=0,W=null,yt=null,Pt=null,Po=!1,Fa=!1,Zi=!1,zo=0,Os=0,Ya=null,T1=0;function Dt(){throw Error(L(321))}function md(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ge(e[n],t[n]))return!1;return!0}function gd(e,t,n,i,a,r){return kn=r,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?KE:wd,Zi=!1,r=n(i,a),Zi=!1,Fa&&(r=_E(t,n,i,a)),yE(e),r}function yE(e){K.H=Ms;var t=yt!==null&&yt.next!==null;if(kn=0,Pt=yt=W=null,Po=!1,Os=0,Ya=null,t)throw Error(L(300));e===null||Gt||(e=e.dependencies,e!==null&&Lo(e)&&(Gt=!0))}function _E(e,t,n,i){W=e;var a=0;do{if(Fa&&(Ya=null),Os=0,Fa=!1,25<=a)throw Error(L(301));if(a+=1,Pt=yt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}K.H=QE,r=t(n,i)}while(Fa);return r}function b1(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?il(t):t,e=e.useState()[0],(yt!==null?yt.memoizedState:null)!==e&&(W.flags|=1024),t}function pd(){var e=zo!==0;return zo=0,e}function yd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _d(e){if(Po){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Po=!1}kn=0,Pt=yt=W=null,Fa=!1,Os=zo=0,Ya=null}function ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?W.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function kt(){if(yt===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=Pt===null?W.memoizedState:Pt.next;if(t!==null)Pt=t,yt=e;else{if(e===null)throw W.alternate===null?Error(L(467)):Error(L(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Pt===null?W.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var t=Os;return Os+=1,Ya===null&&(Ya=[]),e=hE(Ya,e,t),t=W,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?KE:wd),e}function Iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===Cn)return ae(e)}throw Error(L(438,String(e)))}function Ed(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ru(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=lS;return t.index++,n}function jn(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=kt();return vd(t,yt,e)}function vd(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var a=e.baseQueue,r=i.pending;if(r!==null){if(a!==null){var s=a.next;a.next=r.next,r.next=s}t.baseQueue=a=r,i.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var o=s=null,u=null,h=t,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(at&p)===p:(kn&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===Wa&&(d=!0);else if((kn&g)===g){h=h.next,g===Wa&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,s=r):u=u.next=p,W.lanes|=g,bi|=g;p=h.action,Zi&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else g={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,s=r):u=u.next=g,W.lanes|=p,bi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?s=r:u.next=o,!Ge(r,e.memoizedState)&&(Gt=!0,d&&(n=Ga,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=u,i.lastRenderedState=r}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Bc(e){var t=kt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do r=e(r,s.action),s=s.next;while(s!==a);Ge(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function EE(e,t,n){var i=W,a=kt(),r=rt;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=t();var s=!Ge((yt||a).memoizedState,n);if(s&&(a.memoizedState=n,Gt=!0),a=a.queue,Td(bE.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||Pt!==null&&Pt.memoizedState.tag&1){if(i.flags|=2048,er(9,{destroy:void 0},TE.bind(null,i,a,n,t),null),Et===null)throw Error(L(349));r||kn&127||vE(i,t,n)}return n}function vE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=Ru(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function TE(e,t,n,i){t.value=n,t.getSnapshot=i,AE(t)&&SE(e)}function bE(e,t,n){return n(function(){AE(t)&&SE(e)})}function AE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ge(e,n)}catch{return!0}}function SE(e){var t=sa(e,2);t!==null&&Ie(t,e,2)}function Fh(e){var t=ye();if(typeof e=="function"){var n=e;if(e=n(),Zi){ei(!0);try{n()}finally{ei(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:e},t}function xE(e,t,n,i){return e.baseState=n,vd(e,yt,typeof i=="function"?i:jn)}function A1(e,t,n,i,a){if(Cu(e))throw Error(L(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};K.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,wE(t,r)):(r.next=n.next,t.pending=n.next=r)}}function wE(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var r=K.T,s={};K.T=s;try{var o=n(a,i),u=K.S;u!==null&&u(s,o),rp(e,t,o)}catch(h){Yh(e,t,h)}finally{r!==null&&s.types!==null&&(r.types=s.types),K.T=r}}else try{r=n(a,i),rp(e,t,r)}catch(h){Yh(e,t,h)}}function rp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){sp(e,t,i)},function(i){return Yh(e,t,i)}):sp(e,t,n)}function sp(e,t,n){t.status="fulfilled",t.value=n,RE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,wE(e,n)))}function Yh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,RE(t),t=t.next;while(t!==i)}e.action=null}function RE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function IE(e,t){return t}function lp(e,t){if(rt){var n=Et.formState;if(n!==null){t:{var i=W;if(rt){if(St){e:{for(var a=St,r=Je;a.nodeType!==8;){if(!r){a=null;break e}if(a=We(a.nextSibling),a===null){a=null;break e}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){St=We(a.nextSibling),i=a.data==="F!";break t}}vi(i)}i=!1}i&&(t=n[0])}}return n=ye(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IE,lastRenderedState:t},n.queue=i,n=qE.bind(null,W,i),i.dispatch=n,i=Fh(!1),r=xd.bind(null,W,!1,i.queue),i=ye(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=A1.bind(null,W,a,r,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function op(e){var t=kt();return NE(t,yt,e)}function NE(e,t,n){if(t=vd(e,t,IE)[0],e=fo(jn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=il(t)}catch(s){throw s===Er?wu:s}else i=t;t=kt();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(W.flags|=2048,er(9,{destroy:void 0},S1.bind(null,a,n),null)),[i,r,e]}function S1(e,t){e.action=t}function up(e){var t=kt(),n=yt;if(n!==null)return NE(t,n,e);kt(),t=t.memoizedState,n=kt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function er(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=Ru(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function CE(){return kt().memoizedState}function mo(e,t,n,i){var a=ye();W.flags|=e,a.memoizedState=er(1|t,{destroy:void 0},n,i===void 0?null:i)}function Nu(e,t,n,i){var a=kt();i=i===void 0?null:i;var r=a.memoizedState.inst;yt!==null&&i!==null&&md(i,yt.memoizedState.deps)?a.memoizedState=er(t,r,n,i):(W.flags|=e,a.memoizedState=er(1|t,r,n,i))}function cp(e,t){mo(8390656,8,e,t)}function Td(e,t){Nu(2048,8,e,t)}function x1(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=Ru(),W.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function DE(e){var t=kt().memoizedState;return x1({ref:t,nextImpl:e}),function(){if(ct&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function OE(e,t){return Nu(4,2,e,t)}function ME(e,t){return Nu(4,4,e,t)}function VE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UE(e,t,n){n=n!=null?n.concat([e]):null,Nu(4,4,VE.bind(null,t,e),n)}function bd(){}function LE(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&md(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function kE(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&md(t,i[1]))return i[0];if(i=e(),Zi){ei(!0);try{e()}finally{ei(!1)}}return n.memoizedState=[i,t],i}function Ad(e,t,n){return n===void 0||kn&1073741824&&!(at&261930)?e.memoizedState=t:(e.memoizedState=n,e=xv(),W.lanes|=e,bi|=e,n)}function jE(e,t,n,i){return Ge(n,t)?n:tr.current!==null?(e=Ad(e,n,i),Ge(e,t)||(Gt=!0),e):!(kn&42)||kn&1073741824&&!(at&261930)?(Gt=!0,e.memoizedState=n):(e=xv(),W.lanes|=e,bi|=e,t)}function BE(e,t,n,i,a){var r=ht.p;ht.p=r!==0&&8>r?r:8;var s=K.T,o={};K.T=o,xd(e,!1,t,n);try{var u=a(),h=K.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=v1(u,i);ms(e,t,d,ze(e))}else ms(e,t,i,ze(e))}catch(p){ms(e,t,{then:function(){},status:"rejected",reason:p},ze())}finally{ht.p=r,s!==null&&o.types!==null&&(s.types=o.types),K.T=s}}function w1(){}function Kh(e,t,n,i){if(e.tag!==5)throw Error(L(476));var a=PE(e).queue;BE(e,a,t,Hi,n===null?w1:function(){return zE(e),n(i)})}function PE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Hi,baseState:Hi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:Hi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zE(e){var t=PE(e);t.next===null&&(t=e.alternate.memoizedState),ms(e,t.next.queue,{},ze())}function Sd(){return ae(Ls)}function HE(){return kt().memoizedState}function GE(){return kt().memoizedState}function R1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ze();e=ui(n);var i=ci(t,e,n);i!==null&&(Ie(i,t,n),hs(i,t,n)),t={cache:ud()},e.payload=t;return}t=t.return}}function I1(e,t,n){var i=ze();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cu(e)?FE(t,n):(n=rd(e,t,n,i),n!==null&&(Ie(n,e,i),YE(n,t,i)))}function qE(e,t,n){var i=ze();ms(e,t,n,i)}function ms(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))FE(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,o=r(s,n);if(a.hasEagerState=!0,a.eagerState=o,Ge(o,s))return xu(e,t,a,0),Et===null&&Su(),!1}catch{}finally{}if(n=rd(e,t,a,i),n!==null)return Ie(n,e,i),YE(n,t,i),!0}return!1}function xd(e,t,n,i){if(i={lane:2,revertLane:Vd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(t)throw Error(L(479))}else t=rd(e,n,i,2),t!==null&&Ie(t,e,2)}function Cu(e){var t=e.alternate;return e===W||t!==null&&t===W}function FE(e,t){Fa=Po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,D_(e,n)}}var Ms={readContext:ae,use:Iu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Ms.useEffectEvent=Dt;var KE={readContext:ae,use:Iu,useCallback:function(e,t){return ye().memoizedState=[e,t===void 0?null:t],e},useContext:ae,useEffect:cp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,mo(4194308,4,VE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mo(4194308,4,e,t)},useInsertionEffect:function(e,t){mo(4,2,e,t)},useMemo:function(e,t){var n=ye();t=t===void 0?null:t;var i=e();if(Zi){ei(!0);try{e()}finally{ei(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ye();if(n!==void 0){var a=n(t);if(Zi){ei(!0);try{n(t)}finally{ei(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=I1.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=ye();return e={current:e},t.memoizedState=e},useState:function(e){e=Fh(e);var t=e.queue,n=qE.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:bd,useDeferredValue:function(e,t){var n=ye();return Ad(n,e,t)},useTransition:function(){var e=Fh(!1);return e=BE.bind(null,W,e.queue,!0,!1),ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,a=ye();if(rt){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Et===null)throw Error(L(349));at&127||vE(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,cp(bE.bind(null,i,r,e),[e]),i.flags|=2048,er(9,{destroy:void 0},TE.bind(null,i,r,n,t),null),n},useId:function(){var e=ye(),t=Et.identifierPrefix;if(rt){var n=un,i=on;n=(i&~(1<<32-Pe(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=zo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=T1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Sd,useFormState:lp,useActionState:lp,useOptimistic:function(e){var t=ye();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xd.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ed,useCacheRefresh:function(){return ye().memoizedState=R1.bind(null,W)},useEffectEvent:function(e){var t=ye(),n={impl:e};return t.memoizedState=n,function(){if(ct&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},wd={readContext:ae,use:Iu,useCallback:LE,useContext:ae,useEffect:Td,useImperativeHandle:UE,useInsertionEffect:OE,useLayoutEffect:ME,useMemo:kE,useReducer:fo,useRef:CE,useState:function(){return fo(jn)},useDebugValue:bd,useDeferredValue:function(e,t){var n=kt();return jE(n,yt.memoizedState,e,t)},useTransition:function(){var e=fo(jn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:il(e),t]},useSyncExternalStore:EE,useId:HE,useHostTransitionStatus:Sd,useFormState:op,useActionState:op,useOptimistic:function(e,t){var n=kt();return xE(n,yt,e,t)},useMemoCache:Ed,useCacheRefresh:GE};wd.useEffectEvent=DE;var QE={readContext:ae,use:Iu,useCallback:LE,useContext:ae,useEffect:Td,useImperativeHandle:UE,useInsertionEffect:OE,useLayoutEffect:ME,useMemo:kE,useReducer:Bc,useRef:CE,useState:function(){return Bc(jn)},useDebugValue:bd,useDeferredValue:function(e,t){var n=kt();return yt===null?Ad(n,e,t):jE(n,yt.memoizedState,e,t)},useTransition:function(){var e=Bc(jn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:il(e),t]},useSyncExternalStore:EE,useId:HE,useHostTransitionStatus:Sd,useFormState:up,useActionState:up,useOptimistic:function(e,t){var n=kt();return yt!==null?xE(n,yt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:GE};QE.useEffectEvent=DE;function Pc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ze(),a=ui(i);a.payload=t,n!=null&&(a.callback=n),t=ci(e,a,i),t!==null&&(Ie(t,e,i),hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ze(),a=ui(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ci(e,a,i),t!==null&&(Ie(t,e,i),hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),i=ui(n);i.tag=2,t!=null&&(i.callback=t),t=ci(e,i,n),t!==null&&(Ie(t,e,n),hs(t,e,n))}};function hp(e,t,n,i,a,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,s):t.prototype&&t.prototype.isPureReactComponent?!Is(n,i)||!Is(a,r):!0}function fp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Qh.enqueueReplaceState(t,t.state,null)}function Wi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=wt({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function XE(e){Mo(e)}function $E(e){console.error(e)}function JE(e){Mo(e)}function Ho(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function dp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Xh(e,t,n){return n=ui(n),n.tag=3,n.payload={element:null},n.callback=function(){Ho(e,t)},n}function ZE(e){return e=ui(e),e.tag=3,e}function WE(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;e.payload=function(){return a(r)},e.callback=function(){dp(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){dp(t,n,i),typeof a!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function N1(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&_r(t,n,a,!0),n=qe.current,n!==null){switch(n.tag){case 31:case 13:return Ze===null?Ko():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===ko?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Jc(e,i,a)),!1;case 22:return n.flags|=65536,i===ko?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Jc(e,i,a)),!1}throw Error(L(435,n.tag))}return Jc(e,i,a),Ko(),!1}if(rt)return t=qe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==Lh&&(e=Error(L(422),{cause:i}),Cs($e(e,n)))):(i!==Lh&&(t=Error(L(423),{cause:i}),Cs($e(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=$e(i,n),a=Xh(e.stateNode,i,a),jc(e,a),Ot!==4&&(Ot=2)),!1;var r=Error(L(520),{cause:i});if(r=$e(r,n),ys===null?ys=[r]:ys.push(r),Ot!==4&&(Ot=2),t===null)return!0;i=$e(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Xh(n.stateNode,i,e),jc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=ZE(a),WE(a,e,n,i),jc(n,a),!1}n=n.return}while(n!==null);return!1}var Rd=Error(L(461)),Gt=!1;function Wt(e,t,n,i){t.child=e===null?dE(t,null,n,i):Ji(t,e.child,n,i)}function mp(e,t,n,i,a){n=n.render;var r=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return $i(t),i=gd(e,t,n,s,r,a),o=pd(),e!==null&&!Gt?(yd(e,t,a),Bn(e,t,a)):(rt&&o&&ld(t),t.flags|=1,Wt(e,t,i,a),t.child)}function gp(e,t,n,i,a){if(e===null){var r=n.type;return typeof r=="function"&&!sd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,tv(e,t,r,i,a)):(e=co(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Id(e,a)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Is,n(s,i)&&e.ref===t.ref)return Bn(e,t,a)}return t.flags|=1,e=Mn(r,i),e.ref=t.ref,e.return=t,t.child=e}function tv(e,t,n,i,a){if(e!==null){var r=e.memoizedProps;if(Is(r,i)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=i=r,Id(e,a))e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,Bn(e,t,a)}return $h(e,t,n,i,a)}function ev(e,t,n,i){var a=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,t.child=null;return pp(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ho(t,r!==null?r.cachePool:null),r!==null?ap(t,r):Gh(),pE(t);else return i=t.lanes=536870912,pp(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(ho(t,r.cachePool),ap(t,r),Wn(),t.memoizedState=null):(e!==null&&ho(t,null),Gh(),Wn());return Wt(e,t,a,n),t.child}function Wr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pp(e,t,n,i,a){var r=cd();return r=r===null?null:{parent:Ht._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ho(t,null),Gh(),pE(t),e!==null&&_r(e,t,i,!0),t.childLanes=a,null}function go(e,t){return t=Go({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yp(e,t,n){return Ji(t,e.child,null,n),e=go(t,t.pendingProps),e.flags|=2,Ve(t),t.memoizedState=null,e}function C1(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(rt){if(i.mode==="hidden")return e=go(t,i),t.lanes=536870912,Wr(null,e);if(qh(t),(e=St)?(e=Kv(e,Je),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ei!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=sE(e),n.return=t,t.child=n,ne=t,St=null)):e=null,e===null)throw vi(t);return t.lanes=536870912,null}return go(t,i)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(qh(t),a)if(t.flags&256)t.flags&=-257,t=yp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Gt||_r(e,t,n,!1),a=(n&e.childLanes)!==0,Gt||a){if(i=Et,i!==null&&(s=O_(i,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,sa(e,s),Ie(i,e,s),Rd;Ko(),t=yp(e,t,n)}else e=r.treeContext,St=We(s.nextSibling),ne=t,rt=!0,oi=null,Je=!1,e!==null&&oE(t,e),t=go(t,i),t.flags|=4096;return t}return e=Mn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function po(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function $h(e,t,n,i,a){return $i(t),n=gd(e,t,n,i,void 0,a),i=pd(),e!==null&&!Gt?(yd(e,t,a),Bn(e,t,a)):(rt&&i&&ld(t),t.flags|=1,Wt(e,t,n,a),t.child)}function _p(e,t,n,i,a,r){return $i(t),t.updateQueue=null,n=_E(t,i,n,a),yE(e),i=pd(),e!==null&&!Gt?(yd(e,t,r),Bn(e,t,r)):(rt&&i&&ld(t),t.flags|=1,Wt(e,t,n,r),t.child)}function Ep(e,t,n,i,a){if($i(t),t.stateNode===null){var r=Ua,s=n.contextType;typeof s=="object"&&s!==null&&(r=ae(s)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Qh,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},fd(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?ae(s):Ua,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Pc(t,n,s,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&Qh.enqueueReplaceState(r,r.state,null),ds(t,i,r,a),fs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=Wi(n,o);r.props=u;var h=r.context,d=n.contextType;s=Ua,typeof d=="object"&&d!==null&&(s=ae(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||h!==s)&&fp(t,r,i,s),$n=!1;var g=t.memoizedState;r.state=g,ds(t,i,r,a),fs(),h=t.memoizedState,o||g!==h||$n?(typeof p=="function"&&(Pc(t,n,p,i),h=t.memoizedState),(u=$n||hp(t,n,u,i,g,h,s))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=s,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,zh(e,t),s=t.memoizedProps,d=Wi(n,s),r.props=d,p=t.pendingProps,g=r.context,h=n.contextType,u=Ua,typeof h=="object"&&h!==null&&(u=ae(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==p||g!==u)&&fp(t,r,i,u),$n=!1,g=t.memoizedState,r.state=g,ds(t,i,r,a),fs();var y=t.memoizedState;s!==p||g!==y||$n||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof o=="function"&&(Pc(t,n,o,i),y=t.memoizedState),(d=$n||hp(t,n,d,i,g,y,u)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,y,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,y,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),r.props=i,r.state=y,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,po(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Ji(t,e.child,null,a),t.child=Ji(t,null,n,a)):Wt(e,t,n,a),t.memoizedState=r.state,e=t.child):e=Bn(e,t,a),e}function vp(e,t,n,i){return Xi(),t.flags|=256,Wt(e,t,n,i),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hc(e){return{baseLanes:e,cachePool:cE()}}function Gc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Le),e}function nv(e,t,n){var i=t.pendingProps,a=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(rt){if(a?Zn(t):Wn(),(e=St)?(e=Kv(e,Je),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ei!==null?{id:on,overflow:un}:null,retryLane:536870912,hydrationErrors:null},n=sE(e),n.return=t,t.child=n,ne=t,St=null)):e=null,e===null)throw vi(t);return hf(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,a?(Wn(),a=t.mode,o=Go({mode:"hidden",children:o},a),i=Gi(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Hc(n),i.childLanes=Gc(e,s,n),t.memoizedState=zc,Wr(null,i)):(Zn(t),Jh(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(Zn(t),t.flags&=-257,t=qc(e,t,n)):t.memoizedState!==null?(Wn(),t.child=e.child,t.flags|=128,t=null):(Wn(),o=i.fallback,a=t.mode,i=Go({mode:"visible",children:i.children},a),o=Gi(o,a,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Ji(t,e.child,null,n),i=t.child,i.memoizedState=Hc(n),i.childLanes=Gc(e,s,n),t.memoizedState=zc,t=Wr(null,i));else if(Zn(t),hf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,i=Error(L(419)),i.stack="",i.digest=s,Cs({value:i,source:null,stack:null}),t=qc(e,t,n)}else if(Gt||_r(e,t,n,!1),s=(n&e.childLanes)!==0,Gt||s){if(s=Et,s!==null&&(i=O_(s,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,sa(e,i),Ie(s,e,i),Rd;cf(o)||Ko(),t=qc(e,t,n)}else cf(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,St=We(o.nextSibling),ne=t,rt=!0,oi=null,Je=!1,e!==null&&oE(t,e),t=Jh(t,i.children),t.flags|=4096);return t}return a?(Wn(),o=i.fallback,a=t.mode,u=e.child,h=u.sibling,i=Mn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Mn(h,o):(o=Gi(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,Wr(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Hc(n):(a=o.cachePool,a!==null?(u=Ht._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=cE(),o={baseLanes:o.baseLanes|n,cachePool:a}),i.memoizedState=o,i.childLanes=Gc(e,s,n),t.memoizedState=zc,Wr(e.child,i)):(Zn(t),n=e.child,e=n.sibling,n=Mn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Jh(e,t){return t=Go({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Go(e,t){return e=Ue(22,e,null,t),e.lanes=0,e}function qc(e,t,n){return Ji(t,e.child,null,n),e=Jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),jh(e.return,t,n)}function Fc(e,t,n,i,a,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a,s.treeForkCount=r)}function iv(e,t,n){var i=t.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var s=Lt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,vt(Lt,s),Wt(e,t,i,n),i=rt?Ns:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,n,t);else if(e.tag===19)Tp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Bo(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fc(t,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Bo(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fc(t,!0,n,null,r,i);break;case"together":Fc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,!(n&t.childLanes))if(e!==null){if(_r(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Id(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function D1(e,t,n){switch(t.tag){case 3:No(t,t.stateNode.containerInfo),Jn(t,Ht,e.memoizedState.cache),Xi();break;case 27:case 5:xh(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:Jn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Zn(t),t.flags|=128,null):n&t.child.childLanes?nv(e,t,n):(Zn(t),e=Bn(e,t,n),e!==null?e.sibling:null);Zn(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(_r(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return iv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(Lt,Lt.current),i)break;return null;case 22:return t.lanes=0,ev(e,t,n,t.pendingProps);case 24:Jn(t,Ht,e.memoizedState.cache)}return Bn(e,t,n)}function av(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Gt=!0;else{if(!Id(e,n)&&!(t.flags&128))return Gt=!1,D1(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,rt&&t.flags&1048576&&lE(t,Ns,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=ki(t.elementType),t.type=e,typeof e=="function")sd(e)?(i=Wi(e,i),t.tag=1,t=Ep(null,t,e,i,n)):(t.tag=0,t=$h(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===Yf){t.tag=11,t=mp(null,t,e,i,n);break t}else if(a===Kf){t.tag=14,t=gp(null,t,e,i,n);break t}}throw t=Ah(e)||e,Error(L(306,t,""))}}return t;case 0:return $h(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=Wi(i,t.pendingProps),Ep(e,t,i,a,n);case 3:t:{if(No(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var r=t.memoizedState;a=r.element,zh(e,t),ds(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Jn(t,Ht,i),i!==r.cache&&Bh(t,[Ht],n,!0),fs(),i=s.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=vp(e,t,i,n);break t}else if(i!==a){a=$e(Error(L(424)),t),Cs(a),t=vp(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=We(e.firstChild),ne=t,rt=!0,oi=null,Je=!0,n=dE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Xi(),i===a){t=Bn(e,t,n);break t}Wt(e,t,i,n)}t=t.child}return t;case 26:return po(e,t),e===null?(n=zp(t.type,null,t.pendingProps,null))?t.memoizedState=n:rt||(n=t.type,e=t.pendingProps,i=Jo(li.current).createElement(n),i[ee]=t,i[Ne]=e,re(i,n,e),$t(i),t.stateNode=i):t.memoizedState=zp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xh(t),e===null&&rt&&(i=t.stateNode=Qv(t.type,t.pendingProps,li.current),ne=t,Je=!0,a=St,Ii(t.type)?(ff=a,St=We(i.firstChild)):St=a),Wt(e,t,t.pendingProps.children,n),po(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&rt&&((a=i=St)&&(i=lx(i,t.type,t.pendingProps,Je),i!==null?(t.stateNode=i,ne=t,St=We(i.firstChild),Je=!1,a=!0):a=!1),a||vi(t)),xh(t),a=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,i=r.children,of(a,r)?i=null:s!==null&&of(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=gd(e,t,b1,null,null,n),Ls._currentValue=a),po(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&rt&&((e=n=St)&&(n=ox(n,t.pendingProps,Je),n!==null?(t.stateNode=n,ne=t,St=null,e=!0):e=!1),e||vi(t)),null;case 13:return nv(e,t,n);case 4:return No(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ji(t,null,i,n):Wt(e,t,i,n),t.child;case 11:return mp(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Jn(t,t.type,i.value),Wt(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,$i(t),a=ae(a),i=i(a),t.flags|=1,Wt(e,t,i,n),t.child;case 14:return gp(e,t,t.type,t.pendingProps,n);case 15:return tv(e,t,t.type,t.pendingProps,n);case 19:return iv(e,t,n);case 31:return C1(e,t,n);case 22:return ev(e,t,n,t.pendingProps);case 24:return $i(t),i=ae(Ht),e===null?(a=cd(),a===null&&(a=Et,r=ud(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:i,cache:a},fd(t),Jn(t,Ht,a)):(e.lanes&n&&(zh(e,t),ds(t,null,null,n),fs()),a=e.memoizedState,r=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Jn(t,Ht,i)):(i=r.cache,Jn(t,Ht,i),i!==a.cache&&Bh(t,[Ht],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function An(e){e.flags|=4}function Yc(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(Iv())e.flags|=8192;else throw Fi=ko,hd}else e.flags&=-16777217}function bp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Jv(t))if(Iv())e.flags|=8192;else throw Fi=ko,hd}function Gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?N_():536870912,e.lanes|=t,nr|=t)}function qr(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function O1(e,t,n){var i=t.pendingProps;switch(od(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Vn(Ht),$a(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ga(t)?An(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kc())),At(t),null;case 26:var a=t.type,r=t.memoizedState;return e===null?(An(t),r!==null?(At(t),bp(t,r)):(At(t),Yc(t,a,null,i,n))):r?r!==e.memoizedState?(An(t),At(t),bp(t,r)):(At(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&An(t),At(t),Yc(t,a,e,i,n)),null;case 27:if(Co(t),n=li.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return At(t),null}e=hn.current,ga(t)?Jg(t):(e=Qv(a,i,n),t.stateNode=e,An(t))}return At(t),null;case 5:if(Co(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return At(t),null}if(r=hn.current,ga(t))Jg(t);else{var s=Jo(li.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?s.createElement(a,{is:i.is}):s.createElement(a)}}r[ee]=t,r[Ne]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;t:switch(re(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&An(t)}}return At(t),Yc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=li.current,ga(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=ne,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[ee]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||qv(e.nodeValue,n)),e||vi(t,!0)}else e=Jo(e).createTextNode(i),e[ee]=t,t.stateNode=e}return At(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ga(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[ee]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),e=!1}else n=kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ve(t),t):(Ve(t),null);if(t.flags&128)throw Error(L(558))}return At(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=ga(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[ee]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),a=!1}else a=kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Ve(t),t):(Ve(t),null)}return Ve(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Gl(t,t.updateQueue),At(t),null);case 4:return $a(),e===null&&Ud(t.stateNode.containerInfo),At(t),null;case 10:return Vn(t.type),At(t),null;case 19:if(Jt(Lt),i=t.memoizedState,i===null)return At(t),null;if(a=(t.flags&128)!==0,r=i.rendering,r===null)if(a)qr(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Bo(e),r!==null){for(t.flags|=128,qr(i,!1),e=r.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)rE(n,e),n=n.sibling;return vt(Lt,Lt.current&1|2),rt&&In(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&je()>Fo&&(t.flags|=128,a=!0,qr(i,!1),t.lanes=4194304)}else{if(!a)if(e=Bo(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),qr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!rt)return At(t),null}else 2*je()-i.renderingStartTime>Fo&&n!==536870912&&(t.flags|=128,a=!0,qr(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=Lt.current,vt(Lt,a?n&1|2:n&1),rt&&In(t,i.treeForkCount),e):(At(t),null);case 22:case 23:return Ve(t),dd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),n=t.updateQueue,n!==null&&Gl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Jt(qi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Vn(Ht),At(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function M1(e,t){switch(od(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vn(Ht),$a(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Co(t),null;case 31:if(t.memoizedState!==null){if(Ve(t),t.alternate===null)throw Error(L(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ve(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(Lt),null;case 4:return $a(),null;case 10:return Vn(t.type),null;case 22:case 23:return Ve(t),dd(),e!==null&&Jt(qi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vn(Ht),null;case 25:return null;default:return null}}function rv(e,t){switch(od(t),t.tag){case 3:Vn(Ht),$a();break;case 26:case 27:case 5:Co(t);break;case 4:$a();break;case 31:t.memoizedState!==null&&Ve(t);break;case 13:Ve(t);break;case 19:Jt(Lt);break;case 10:Vn(t.type);break;case 22:case 23:Ve(t),dd(),e!==null&&Jt(qi);break;case 24:Vn(Ht)}}function al(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==a)}}catch(o){mt(t,t.return,o)}}function Ti(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=t;var u=n,h=o;try{h()}catch(d){mt(a,u,d)}}}i=i.next}while(i!==r)}}catch(d){mt(t,t.return,d)}}function sv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{gE(t,n)}catch(i){mt(e,e.return,i)}}}function lv(e,t,n){n.props=Wi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){mt(e,t,i)}}function gs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){mt(e,t,a)}}function cn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){mt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){mt(e,t,a)}else n.current=null}function ov(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){mt(e,e.return,a)}}function Kc(e,t,n){try{var i=e.stateNode;ex(i,e.type,n,t),i[Ne]=t}catch(a){mt(e,e.return,a)}}function uv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ii(e.type)||e.tag===4}function Qc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dn));else if(i!==4&&(i===27&&Ii(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zh(e,t,n),e=e.sibling;e!==null;)Zh(e,t,n),e=e.sibling}function qo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ii(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qo(e,t,n),e=e.sibling;e!==null;)qo(e,t,n),e=e.sibling}function cv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);re(t,i,n),t[ee]=e,t[Ne]=n}catch(r){mt(e,e.return,r)}}var Nn=!1,zt=!1,Xc=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function V1(e,t){if(e=e.containerInfo,sf=eu,e=J_(e),id(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,h=0,d=0,p=e,g=null;e:for(;;){for(var y;p!==n||a!==0&&p.nodeType!==3||(o=s+a),p!==r||i!==0&&p.nodeType!==3||(u=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===e)break e;if(g===n&&++h===a&&(o=s),g===r&&++d===i&&(u=s),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lf={focusedElem:e,selectionRange:n},eu=!1,Xt=t;Xt!==null;)if(t=Xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xt=e;else for(;Xt!==null;){switch(t=Xt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var I=Wi(n.type,a);e=i.getSnapshotBeforeUpdate(I,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(R){mt(n,n.return,R)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)uf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,Xt=e;break}Xt=t.return}}function hv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:xn(e,n),i&4&&al(5,n);break;case 1:if(xn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){mt(n,n.return,s)}else{var a=Wi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){mt(n,n.return,s)}}i&64&&sv(n),i&512&&gs(n,n.return);break;case 3:if(xn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gE(e,t)}catch(s){mt(n,n.return,s)}}break;case 27:t===null&&i&4&&cv(n);case 26:case 5:xn(e,n),t===null&&i&4&&ov(n),i&512&&gs(n,n.return);break;case 12:xn(e,n);break;case 31:xn(e,n),i&4&&mv(e,n);break;case 13:xn(e,n),i&4&&gv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=G1.bind(null,n),ux(e,n))));break;case 22:if(i=n.memoizedState!==null||Nn,!i){t=t!==null&&t.memoizedState!==null||zt,a=Nn;var r=zt;Nn=i,(zt=t)&&!r?Rn(e,n,(n.subtreeFlags&8772)!==0):xn(e,n),Nn=a,zt=r}break;case 30:break;default:xn(e,n)}}function fv(e){var t=e.alternate;t!==null&&(e.alternate=null,fv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,xe=!1;function Sn(e,t,n){for(n=n.child;n!==null;)dv(e,t,n),n=n.sibling}function dv(e,t,n){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Js,n)}catch{}switch(n.tag){case 26:zt||cn(n,t),Sn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||cn(n,t);var i=Rt,a=xe;Ii(n.type)&&(Rt=n.stateNode,xe=!1),Sn(e,t,n),Es(n.stateNode),Rt=i,xe=a;break;case 5:zt||cn(n,t);case 6:if(i=Rt,a=xe,Rt=null,Sn(e,t,n),Rt=i,xe=a,Rt!==null)if(xe)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(r){mt(n,t,r)}else try{Rt.removeChild(n.stateNode)}catch(r){mt(n,t,r)}break;case 18:Rt!==null&&(xe?(e=Rt,Lp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),sr(e)):Lp(Rt,n.stateNode));break;case 4:i=Rt,a=xe,Rt=n.stateNode.containerInfo,xe=!0,Sn(e,t,n),Rt=i,xe=a;break;case 0:case 11:case 14:case 15:Ti(2,n,t),zt||Ti(4,n,t),Sn(e,t,n);break;case 1:zt||(cn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&lv(n,t,i)),Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:zt=(i=zt)||n.memoizedState!==null,Sn(e,t,n),zt=i;break;default:Sn(e,t,n)}}function mv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{sr(e)}catch(n){mt(t,t.return,n)}}}function gv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sr(e)}catch(n){mt(t,t.return,n)}}function U1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ap),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ap),t;default:throw Error(L(435,e.tag))}}function ql(e,t){var n=U1(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=q1.bind(null,e,i);i.then(a,a)}})}function be(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Ii(o.type)){Rt=o.stateNode,xe=!1;break t}break;case 5:Rt=o.stateNode,xe=!1;break t;case 3:case 4:Rt=o.stateNode.containerInfo,xe=!0;break t}o=o.return}if(Rt===null)throw Error(L(160));dv(r,s,a),Rt=null,xe=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pv(t,e),t=t.sibling}var rn=null;function pv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:be(t,e),Ae(e),i&4&&(Ti(3,e,e.return),al(3,e),Ti(5,e,e.return));break;case 1:be(t,e),Ae(e),i&512&&(zt||n===null||cn(n,n.return)),i&64&&Nn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=rn;if(be(t,e),Ae(e),i&512&&(zt||n===null||cn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[tl]||r[ee]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),re(r,i,n),r[ee]=e,$t(r),i=r;break t;case"link":var s=Gp("link","href",a).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(r=s[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}r=a.createElement(i),re(r,i,n),a.head.appendChild(r);break;case"meta":if(s=Gp("meta","content",a).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(r=s[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}r=a.createElement(i),re(r,i,n),a.head.appendChild(r);break;default:throw Error(L(468,i))}r[ee]=e,$t(r),i=r}e.stateNode=i}else qp(a,e.type,e.stateNode);else e.stateNode=Hp(a,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?qp(a,e.type,e.stateNode):Hp(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Kc(e,e.memoizedProps,n.memoizedProps)}break;case 27:be(t,e),Ae(e),i&512&&(zt||n===null||cn(n,n.return)),n!==null&&i&4&&Kc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(be(t,e),Ae(e),i&512&&(zt||n===null||cn(n,n.return)),e.flags&32){a=e.stateNode;try{Za(a,"")}catch(I){mt(e,e.return,I)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Kc(e,a,n!==null?n.memoizedProps:a)),i&1024&&(Xc=!0);break;case 6:if(be(t,e),Ae(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(I){mt(e,e.return,I)}}break;case 3:if(Eo=null,a=rn,rn=Zo(t.containerInfo),be(t,e),rn=a,Ae(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{sr(t.containerInfo)}catch(I){mt(e,e.return,I)}Xc&&(Xc=!1,yv(e));break;case 4:i=rn,rn=Zo(e.stateNode.containerInfo),be(t,e),Ae(e),rn=i;break;case 12:be(t,e),Ae(e);break;case 31:be(t,e),Ae(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ql(e,i)));break;case 13:be(t,e),Ae(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Du=je()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ql(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Nn,d=zt;if(Nn=h||a,zt=d||u,be(t,e),zt=d,Nn=h,Ae(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||Nn||zt||ji(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,a)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(I){mt(u,u.return,I)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(I){mt(u,u.return,I)}}}else if(t.tag===18){if(n===null){u=t;try{var y=u.stateNode;a?kp(y,!0):kp(u.stateNode,!1)}catch(I){mt(u,u.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ql(e,n))));break;case 19:be(t,e),Ae(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ql(e,i)));break;case 30:break;case 21:break;default:be(t,e),Ae(e)}}function Ae(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(uv(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var a=n.stateNode,r=Qc(e);qo(e,r,a);break;case 5:var s=n.stateNode;n.flags&32&&(Za(s,""),n.flags&=-33);var o=Qc(e);qo(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Qc(e);Zh(e,h,u);break;default:throw Error(L(161))}}catch(d){mt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hv(e,t.alternate,t),t=t.sibling}function ji(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ti(4,t,t.return),ji(t);break;case 1:cn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lv(t,t.return,n),ji(t);break;case 27:Es(t.stateNode);case 26:case 5:cn(t,t.return),ji(t);break;case 22:t.memoizedState===null&&ji(t);break;case 30:ji(t);break;default:ji(t)}e=e.sibling}}function Rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Rn(a,r,n),al(4,r);break;case 1:if(Rn(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){mt(i,i.return,h)}if(i=r,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)mE(u[a],o)}catch(h){mt(i,i.return,h)}}n&&s&64&&sv(r),gs(r,r.return);break;case 27:cv(r);case 26:case 5:Rn(a,r,n),n&&i===null&&s&4&&ov(r),gs(r,r.return);break;case 12:Rn(a,r,n);break;case 31:Rn(a,r,n),n&&s&4&&mv(a,r);break;case 13:Rn(a,r,n),n&&s&4&&gv(a,r);break;case 22:r.memoizedState===null&&Rn(a,r,n),gs(r,r.return);break;case 30:break;default:Rn(a,r,n)}t=t.sibling}}function Nd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&nl(n))}function Cd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&nl(e))}function an(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_v(e,t,n,i),t=t.sibling}function _v(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,i),a&2048&&al(9,t);break;case 1:an(e,t,n,i);break;case 3:an(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&nl(e)));break;case 12:if(a&2048){an(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,o=r.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){mt(t,t.return,u)}}else an(e,t,n,i);break;case 31:an(e,t,n,i);break;case 13:an(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?an(e,t,n,i):ps(e,t):r._visibility&2?an(e,t,n,i):(r._visibility|=2,Ta(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Nd(s,t);break;case 24:an(e,t,n,i),a&2048&&Cd(t.alternate,t);break;default:an(e,t,n,i)}}function Ta(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,o=n,u=i,h=s.flags;switch(s.tag){case 0:case 11:case 15:Ta(r,s,o,u,a),al(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Ta(r,s,o,u,a):ps(r,s):(d._visibility|=2,Ta(r,s,o,u,a)),a&&h&2048&&Nd(s.alternate,s);break;case 24:Ta(r,s,o,u,a),a&&h&2048&&Cd(s.alternate,s);break;default:Ta(r,s,o,u,a)}t=t.sibling}}function ps(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:ps(n,i),a&2048&&Nd(i.alternate,i);break;case 24:ps(n,i),a&2048&&Cd(i.alternate,i);break;default:ps(n,i)}t=t.sibling}}var ts=8192;function pa(e,t,n){if(e.subtreeFlags&ts)for(e=e.child;e!==null;)Ev(e,t,n),e=e.sibling}function Ev(e,t,n){switch(e.tag){case 26:pa(e,t,n),e.flags&ts&&e.memoizedState!==null&&Tx(n,rn,e.memoizedState,e.memoizedProps);break;case 5:pa(e,t,n);break;case 3:case 4:var i=rn;rn=Zo(e.stateNode.containerInfo),pa(e,t,n),rn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ts,ts=16777216,pa(e,t,n),ts=i):pa(e,t,n));break;default:pa(e,t,n)}}function vv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Xt=i,bv(i,e)}vv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tv(e),e=e.sibling}function Tv(e){switch(e.tag){case 0:case 11:case 15:Fr(e),e.flags&2048&&Ti(9,e,e.return);break;case 3:Fr(e);break;case 12:Fr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yo(e)):Fr(e);break;default:Fr(e)}}function yo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Xt=i,bv(i,e)}vv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ti(8,t,t.return),yo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,yo(t));break;default:yo(t)}e=e.sibling}}function bv(e,t){for(;Xt!==null;){var n=Xt;switch(n.tag){case 0:case 11:case 15:Ti(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:nl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Xt=i;else t:for(n=e;Xt!==null;){i=Xt;var a=i.sibling,r=i.return;if(fv(i),i===n){Xt=null;break t}if(a!==null){a.return=r,Xt=a;break t}Xt=r}}}var L1={getCacheForType:function(e){var t=ae(Ht),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ae(Ht).controller.signal}},k1=typeof WeakMap=="function"?WeakMap:Map,ct=0,Et=null,nt=null,at=0,dt=0,Me=null,ii=!1,vr=!1,Dd=!1,Pn=0,Ot=0,bi=0,Yi=0,Od=0,Le=0,nr=0,ys=null,we=null,Wh=!1,Du=0,Av=0,Fo=1/0,Yo=null,hi=null,qt=0,fi=null,ir=null,Un=0,tf=0,ef=null,Sv=null,_s=0,nf=null;function ze(){return ct&2&&at!==0?at&-at:K.T!==null?Vd():M_()}function xv(){if(Le===0)if(!(at&536870912)||rt){var e=Ll;Ll<<=1,!(Ll&3932160)&&(Ll=262144),Le=e}else Le=536870912;return e=qe.current,e!==null&&(e.flags|=32),Le}function Ie(e,t,n){(e===Et&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(ar(e,0),ai(e,at,Le,!1)),Ws(e,n),(!(ct&2)||e!==Et)&&(e===Et&&(!(ct&2)&&(Yi|=n),Ot===4&&ai(e,at,Le,!1)),_n(e))}function wv(e,t,n){if(ct&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Zs(e,t),a=i?P1(e,t):$c(e,t,!0),r=i;do{if(a===0){vr&&!i&&ai(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!j1(n)){a=$c(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;a=ys;var u=o.current.memoizedState.isDehydrated;if(u&&(ar(o,s).flags|=256),s=$c(o,s,!1),s!==2){if(Dd&&!u){o.errorRecoveryDisabledLanes|=r,Yi|=r,a=4;break t}r=we,we=a,r!==null&&(we===null?we=r:we.push.apply(we,r))}a=s}if(r=!1,a!==2)continue}}if(a===1){ar(e,0),ai(e,t,0,!0);break}t:{switch(i=e,r=a,r){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:ai(i,t,Le,!ii);break t;case 2:we=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(a=Du+300-je(),10<a)){if(ai(i,t,Le,!ii),vu(i,0,!0)!==0)break t;Un=t,i.timeoutHandle=Yv(Sp.bind(null,i,n,we,Yo,Wh,t,Le,Yi,nr,ii,r,"Throttled",-0,0),a);break t}Sp(i,n,we,Yo,Wh,t,Le,Yi,nr,ii,r,null,-0,0)}}break}while(!0);_n(e)}function Sp(e,t,n,i,a,r,s,o,u,h,d,p,g,y){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},Ev(t,r,p);var I=(r&62914560)===r?Du-je():(r&4194048)===r?Av-je():0;if(I=bx(p,I),I!==null){Un=r,e.cancelPendingCommit=I(wp.bind(null,e,t,r,n,i,a,s,o,u,d,p,null,g,y)),ai(e,r,s,!h);return}}wp(e,t,r,n,i,a,s,o,u)}function j1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!Ge(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ai(e,t,n,i){t&=~Od,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var r=31-Pe(a),s=1<<r;i[r]=-1,a&=~s}n!==0&&C_(e,n,t)}function Ou(){return ct&6?!0:(rl(0),!1)}function Md(){if(nt!==null){if(dt===0)var e=nt.return;else e=nt,On=la=null,_d(e),qa=null,Ds=0,e=nt;for(;e!==null;)rv(e.alternate,e),e=e.return;nt=null}}function ar(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ax(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Un=0,Md(),Et=e,nt=n=Mn(e.current,null),at=t,dt=0,Me=null,ii=!1,vr=Zs(e,t),Dd=!1,nr=Le=Od=Yi=bi=Ot=0,we=ys=null,Wh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-Pe(i),r=1<<a;t|=e[a],i&=~r}return Pn=t,Su(),n}function Rv(e,t){W=null,K.H=Ms,t===Er||t===wu?(t=np(),dt=3):t===hd?(t=np(),dt=4):dt=t===Rd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Me=t,nt===null&&(Ot=1,Ho(e,$e(t,e.current)))}function Iv(){var e=qe.current;return e===null?!0:(at&4194048)===at?Ze===null:(at&62914560)===at||at&536870912?e===Ze:!1}function Nv(){var e=K.H;return K.H=Ms,e===null?Ms:e}function Cv(){var e=K.A;return K.A=L1,e}function Ko(){Ot=4,ii||(at&4194048)!==at&&qe.current!==null||(vr=!0),!(bi&134217727)&&!(Yi&134217727)||Et===null||ai(Et,at,Le,!1)}function $c(e,t,n){var i=ct;ct|=2;var a=Nv(),r=Cv();(Et!==e||at!==t)&&(Yo=null,ar(e,t)),t=!1;var s=Ot;t:do try{if(dt!==0&&nt!==null){var o=nt,u=Me;switch(dt){case 8:Md(),s=6;break t;case 3:case 2:case 9:case 6:qe.current===null&&(t=!0);var h=dt;if(dt=0,Me=null,ja(e,o,u,h),n&&vr){s=0;break t}break;default:h=dt,dt=0,Me=null,ja(e,o,u,h)}}B1(),s=Ot;break}catch(d){Rv(e,d)}while(!0);return t&&e.shellSuspendCounter++,On=la=null,ct=i,K.H=a,K.A=r,nt===null&&(Et=null,at=0,Su()),s}function B1(){for(;nt!==null;)Dv(nt)}function P1(e,t){var n=ct;ct|=2;var i=Nv(),a=Cv();Et!==e||at!==t?(Yo=null,Fo=je()+500,ar(e,t)):vr=Zs(e,t);t:do try{if(dt!==0&&nt!==null){t=nt;var r=Me;e:switch(dt){case 1:dt=0,Me=null,ja(e,t,r,1);break;case 2:case 9:if(ep(r)){dt=0,Me=null,xp(t);break}t=function(){dt!==2&&dt!==9||Et!==e||(dt=7),_n(e)},r.then(t,t);break t;case 3:dt=7;break t;case 4:dt=5;break t;case 7:ep(r)?(dt=0,Me=null,xp(t)):(dt=0,Me=null,ja(e,t,r,7));break;case 5:var s=null;switch(nt.tag){case 26:s=nt.memoizedState;case 5:case 27:var o=nt;if(s?Jv(s):o.stateNode.complete){dt=0,Me=null;var u=o.sibling;if(u!==null)nt=u;else{var h=o.return;h!==null?(nt=h,Mu(h)):nt=null}break e}}dt=0,Me=null,ja(e,t,r,5);break;case 6:dt=0,Me=null,ja(e,t,r,6);break;case 8:Md(),Ot=6;break t;default:throw Error(L(462))}}z1();break}catch(d){Rv(e,d)}while(!0);return On=la=null,K.H=i,K.A=a,ct=n,nt!==null?0:(Et=null,at=0,Su(),Ot)}function z1(){for(;nt!==null&&!cS();)Dv(nt)}function Dv(e){var t=av(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?Mu(e):nt=t}function xp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_p(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=_p(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:_d(t);default:rv(n,t),t=nt=rE(t,Pn),t=av(n,t,Pn)}e.memoizedProps=e.pendingProps,t===null?Mu(e):nt=t}function ja(e,t,n,i){On=la=null,_d(t),qa=null,Ds=0;var a=t.return;try{if(N1(e,a,t,n,at)){Ot=1,Ho(e,$e(n,e.current)),nt=null;return}}catch(r){if(a!==null)throw nt=a,r;Ot=1,Ho(e,$e(n,e.current)),nt=null;return}t.flags&32768?(rt||i===1?e=!0:vr||at&536870912?e=!1:(ii=e=!0,(i===2||i===9||i===3||i===6)&&(i=qe.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ov(t,e)):Mu(t)}function Mu(e){var t=e;do{if(t.flags&32768){Ov(t,ii);return}e=t.return;var n=O1(t.alternate,t,Pn);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Ot===0&&(Ot=5)}function Ov(e,t){do{var n=M1(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Ot=6,nt=null}function wp(e,t,n,i,a,r,s,o,u){e.cancelPendingCommit=null;do Vu();while(qt!==0);if(ct&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(r=t.lanes|t.childLanes,r|=ad,vS(e,n,r,s,o,u),e===Et&&(nt=Et=null,at=0),ir=t,fi=e,Un=n,tf=r,ef=a,Sv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,F1(Do,function(){return kv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,a=ht.p,ht.p=2,s=ct,ct|=4;try{V1(e,t,n)}finally{ct=s,ht.p=a,K.T=i}}qt=1,Mv(),Vv(),Uv()}}function Mv(){if(qt===1){qt=0;var e=fi,t=ir,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=ht.p;ht.p=2;var a=ct;ct|=4;try{pv(t,e);var r=lf,s=J_(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&$_(o.ownerDocument.documentElement,o)){if(u!==null&&id(o)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var p=o.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var y=g.getSelection(),I=o.textContent.length,R=Math.min(u.start,I),C=u.end===void 0?R:Math.min(u.end,I);!y.extend&&R>C&&(s=C,C=R,R=s);var A=Qg(o,R),E=Qg(o,C);if(A&&E&&(y.rangeCount!==1||y.anchorNode!==A.node||y.anchorOffset!==A.offset||y.focusNode!==E.node||y.focusOffset!==E.offset)){var S=p.createRange();S.setStart(A.node,A.offset),y.removeAllRanges(),R>C?(y.addRange(S),y.extend(E.node,E.offset)):(S.setEnd(E.node,E.offset),y.addRange(S))}}}}for(p=[],y=o;y=y.parentNode;)y.nodeType===1&&p.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var M=p[o];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}eu=!!sf,lf=sf=null}finally{ct=a,ht.p=i,K.T=n}}e.current=t,qt=2}}function Vv(){if(qt===2){qt=0;var e=fi,t=ir,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=ht.p;ht.p=2;var a=ct;ct|=4;try{hv(e,t.alternate,t)}finally{ct=a,ht.p=i,K.T=n}}qt=3}}function Uv(){if(qt===4||qt===3){qt=0,hS();var e=fi,t=ir,n=Un,i=Sv;t.subtreeFlags&10256||t.flags&10256?qt=5:(qt=0,ir=fi=null,Lv(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(hi=null),$f(n),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Js,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,a=ht.p,ht.p=2,K.T=null;try{for(var r=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];r(o.value,{componentStack:o.stack})}}finally{K.T=t,ht.p=a}}Un&3&&Vu(),_n(e),a=e.pendingLanes,n&261930&&a&42?e===nf?_s++:(_s=0,nf=e):_s=0,rl(0)}}function Lv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,nl(t)))}function Vu(){return Mv(),Vv(),Uv(),kv()}function kv(){if(qt!==5)return!1;var e=fi,t=tf;tf=0;var n=$f(Un),i=K.T,a=ht.p;try{ht.p=32>n?32:n,K.T=null,n=ef,ef=null;var r=fi,s=Un;if(qt=0,ir=fi=null,Un=0,ct&6)throw Error(L(331));var o=ct;if(ct|=4,Tv(r.current),_v(r,r.current,s,n),ct=o,rl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Js,r)}catch{}return!0}finally{ht.p=a,K.T=i,Lv(e,t)}}function Rp(e,t,n){t=$e(n,t),t=Xh(e.stateNode,t,2),e=ci(e,t,2),e!==null&&(Ws(e,2),_n(e))}function mt(e,t,n){if(e.tag===3)Rp(e,e,n);else for(;t!==null;){if(t.tag===3){Rp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(hi===null||!hi.has(i))){e=$e(n,e),n=ZE(2),i=ci(t,n,2),i!==null&&(WE(n,i,t,e),Ws(i,2),_n(i));break}}t=t.return}}function Jc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new k1;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(Dd=!0,a.add(n),e=H1.bind(null,e,t,n),t.then(e,e))}function H1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(at&n)===n&&(Ot===4||Ot===3&&(at&62914560)===at&&300>je()-Du?!(ct&2)&&ar(e,0):Od|=n,nr===at&&(nr=0)),_n(e)}function jv(e,t){t===0&&(t=N_()),e=sa(e,t),e!==null&&(Ws(e,t),_n(e))}function G1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jv(e,n)}function q1(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),jv(e,n)}function F1(e,t){return Qf(e,t)}var Qo=null,ba=null,af=!1,Xo=!1,Zc=!1,ri=0;function _n(e){e!==ba&&e.next===null&&(ba===null?Qo=ba=e:ba=ba.next=e),Xo=!0,af||(af=!0,K1())}function rl(e,t){if(!Zc&&Xo){Zc=!0;do for(var n=!1,i=Qo;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var s=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-Pe(42|e)+1)-1,r&=a&~(s&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Ip(i,r))}else r=at,r=vu(i,i===Et?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Zs(i,r)||(n=!0,Ip(i,r));i=i.next}while(n);Zc=!1}}function Y1(){Bv()}function Bv(){Xo=af=!1;var e=0;ri!==0&&ix()&&(e=ri);for(var t=je(),n=null,i=Qo;i!==null;){var a=i.next,r=Pv(i,t);r===0?(i.next=null,n===null?Qo=a:n.next=a,a===null&&(ba=n)):(n=i,(e!==0||r&3)&&(Xo=!0)),i=a}qt!==0&&qt!==5||rl(e),ri!==0&&(ri=0)}function Pv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-Pe(r),o=1<<s,u=a[s];u===-1?(!(o&n)||o&i)&&(a[s]=ES(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=Et,n=at,n=vu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&wc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Zs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&wc(i),$f(n)){case 2:case 8:n=R_;break;case 32:n=Do;break;case 268435456:n=I_;break;default:n=Do}return i=zv.bind(null,e),n=Qf(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&wc(i),e.callbackPriority=2,e.callbackNode=null,2}function zv(e,t){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var i=at;return i=vu(e,e===Et?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(wv(e,i,t),Pv(e,je()),e.callbackNode!=null&&e.callbackNode===n?zv.bind(null,e):null)}function Ip(e,t){if(Vu())return null;wv(e,t,!0)}function K1(){rx(function(){ct&6?Qf(w_,Y1):Bv()})}function Vd(){if(ri===0){var e=Wa;e===0&&(e=Ul,Ul<<=1,!(Ul&261888)&&(Ul=256)),ri=e}return ri}function Np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lo(""+e)}function Cp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Q1(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var r=Np((a[Ne]||null).action),s=i.submitter;s&&(t=(t=s[Ne]||null)?Np(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var o=new Tu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ri!==0){var u=s?Cp(a,s):new FormData(a);Kh(n,{pending:!0,data:u,method:a.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=s?Cp(a,s):new FormData(a),Kh(n,{pending:!0,data:u,method:a.method,action:r},r,u))},currentTarget:a}]})}}for(var Wc=0;Wc<Uh.length;Wc++){var th=Uh[Wc],X1=th.toLowerCase(),$1=th[0].toUpperCase()+th.slice(1);sn(X1,"on"+$1)}sn(W_,"onAnimationEnd");sn(tE,"onAnimationIteration");sn(eE,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(f1,"onTransitionRun");sn(d1,"onTransitionStart");sn(m1,"onTransitionCancel");sn(nE,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function Hv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(d){Mo(d)}a.currentTarget=null,r=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,h=o.currentTarget,o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(d){Mo(d)}a.currentTarget=null,r=u}}}}function et(e,t){var n=t[Rh];n===void 0&&(n=t[Rh]=new Set);var i=e+"__bubble";n.has(i)||(Gv(t,e,2,!1),n.add(i))}function eh(e,t,n){var i=0;t&&(i|=4),Gv(n,e,i,t)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Ud(e){if(!e[Fl]){e[Fl]=!0,V_.forEach(function(n){n!=="selectionchange"&&(J1.has(n)||eh(n,!1,e),eh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fl]||(t[Fl]=!0,eh("selectionchange",!1,t))}}function Gv(e,t,n,i){switch(nT(t)){case 2:var a=xx;break;case 8:a=wx;break;default:a=Bd}n=a.bind(null,t,n,e),a=void 0,!Oh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function nh(e,t,n,i,a){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Na(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=r=s;continue t}o=o.parentNode}}i=i.return}H_(function(){var h=r,d=Wf(n),p=[];t:{var g=iE.get(e);if(g!==void 0){var y=Tu,I=e;switch(e){case"keypress":if(uo(n)===0)break t;case"keydown":case"keyup":y=qS;break;case"focusin":I="focus",y=Dc;break;case"focusout":I="blur",y=Dc;break;case"beforeblur":case"afterblur":y=Dc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=OS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=KS;break;case W_:case tE:case eE:y=US;break;case nE:y=XS;break;case"scroll":case"scrollend":y=CS;break;case"wheel":y=JS;break;case"copy":case"cut":case"paste":y=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pg;break;case"toggle":case"beforetoggle":y=WS}var R=(t&4)!==0,C=!R&&(e==="scroll"||e==="scrollend"),A=R?g!==null?g+"Capture":null:g;R=[];for(var E=h,S;E!==null;){var M=E;if(S=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||S===null||A===null||(M=ws(E,A),M!=null&&R.push(Us(E,M,S))),C)break;E=E.return}0<R.length&&(g=new y(g,I,null,n,d),p.push({event:g,listeners:R}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Dh&&(I=n.relatedTarget||n.fromElement)&&(Na(I)||I[pr]))break t;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(I=n.relatedTarget||n.toElement,y=h,I=I?Na(I):null,I!==null&&(C=$s(I),R=I.tag,I!==C||R!==5&&R!==27&&R!==6)&&(I=null)):(y=null,I=h),y!==I)){if(R=jg,M="onMouseLeave",A="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(R=Pg,M="onPointerLeave",A="onPointerEnter",E="pointer"),C=y==null?g:Zr(y),S=I==null?g:Zr(I),g=new R(M,E+"leave",y,n,d),g.target=C,g.relatedTarget=S,M=null,Na(d)===h&&(R=new R(A,E+"enter",I,n,d),R.target=S,R.relatedTarget=C,M=R),C=M,y&&I)e:{for(R=Z1,A=y,E=I,S=0,M=A;M;M=R(M))S++;M=0;for(var P=E;P;P=R(P))M++;for(;0<S-M;)A=R(A),S--;for(;0<M-S;)E=R(E),M--;for(;S--;){if(A===E||E!==null&&A===E.alternate){R=A;break e}A=R(A),E=R(E)}R=null}else R=null;y!==null&&Dp(p,g,y,R,!1),I!==null&&C!==null&&Dp(p,C,I,R,!0)}}t:{if(g=h?Zr(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var V=qg;else if(Gg(g))if(Q_)V=u1;else{V=l1;var T=s1}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&Zf(h.elementType)&&(V=qg):V=o1;if(V&&(V=V(e,h))){K_(p,V,n,d);break t}T&&T(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&Ch(g,"number",g.value)}switch(T=h?Zr(h):window,e){case"focusin":(Gg(T)||T.contentEditable==="true")&&(Oa=T,Mh=h,us=null);break;case"focusout":us=Mh=Oa=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Xg(p,n,d);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":Xg(p,n,d)}var v;if(nd)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Da?F_(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(q_&&n.locale!=="ko"&&(Da||b!=="onCompositionStart"?b==="onCompositionEnd"&&Da&&(v=G_()):(ni=d,td="value"in ni?ni.value:ni.textContent,Da=!0)),T=$o(h,b),0<T.length&&(b=new Bg(b,e,null,n,d),p.push({event:b,listeners:T}),v?b.data=v:(v=Y_(n),v!==null&&(b.data=v)))),(v=e1?n1(e,n):i1(e,n))&&(b=$o(h,"onBeforeInput"),0<b.length&&(T=new Bg("onBeforeInput","beforeinput",null,n,d),p.push({event:T,listeners:b}),T.data=v)),Q1(p,e,h,n,d)}Hv(p,t)})}function Us(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=ws(e,n),a!=null&&i.unshift(Us(e,a,r)),a=ws(e,t),a!=null&&i.push(Us(e,a,r))),e.tag===3)return i;e=e.return}return[]}function Z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dp(e,t,n,i,a){for(var r=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=ws(n,r),h!=null&&s.unshift(Us(n,h,u))):a||(h=ws(n,r),h!=null&&s.push(Us(n,h,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var W1=/\r\n?/g,tx=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(tx,"")}function qv(e,t){return t=Op(t),Op(e)===t}function pt(e,t,n,i,a,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Za(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Za(e,""+i);break;case"className":jl(e,"class",i);break;case"tabIndex":jl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(e,n,i);break;case"style":z_(e,i,r);break;case"data":if(t!=="object"){jl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=lo(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&pt(e,t,"name",a.name,a,null),pt(e,t,"formEncType",a.formEncType,a,null),pt(e,t,"formMethod",a.formMethod,a,null),pt(e,t,"formTarget",a.formTarget,a,null)):(pt(e,t,"encType",a.encType,a,null),pt(e,t,"method",a.method,a,null),pt(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=lo(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Dn);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=lo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":et("beforetoggle",e),et("toggle",e),so(e,"popover",i);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":so(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=IS.get(n)||n,so(e,n,i))}}function rf(e,t,n,i,a,r){switch(n){case"style":z_(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Za(e,i):(typeof i=="number"||typeof i=="bigint")&&Za(e,""+i);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!U_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[Ne]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):so(e,n,i)}}}function re(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:pt(e,t,r,s,n,null)}}a&&pt(e,t,"srcSet",n.srcSet,n,null),i&&pt(e,t,"src",n.src,n,null);return;case"input":et("invalid",e);var o=r=s=a=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,t));break;default:pt(e,t,i,d,n,null)}}j_(e,r,o,u,h,s,a,!1);return;case"select":et("invalid",e),i=s=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:pt(e,t,a,o,n,null)}t=r,n=s,e.multiple=!!i,t!=null?za(e,!!i,t,!1):n!=null&&za(e,!!i,n,!0);return;case"textarea":et("invalid",e),r=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(L(91));break;default:pt(e,t,s,o,n,null)}P_(e,i,a,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pt(e,t,u,i,n,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(i=0;i<Vs.length;i++)et(Vs[i],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:pt(e,t,h,i,n,null)}return;default:if(Zf(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&rf(e,t,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&pt(e,t,o,i,n,null))}function ex(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,s=null,o=null,u=null,h=null,d=null;for(y in n){var p=n[y];if(n.hasOwnProperty(y)&&p!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(y)||pt(e,t,y,null,i,p)}}for(var g in i){var y=i[g];if(p=n[g],i.hasOwnProperty(g)&&(y!=null||p!=null))switch(g){case"type":r=y;break;case"name":a=y;break;case"checked":h=y;break;case"defaultChecked":d=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,t));break;default:y!==p&&pt(e,t,g,y,i,p)}}Nh(e,s,o,u,h,d,r,a);return;case"select":y=s=o=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(r)||pt(e,t,r,null,i,u)}for(a in i)if(r=i[a],u=n[a],i.hasOwnProperty(a)&&(r!=null||u!=null))switch(a){case"value":g=r;break;case"defaultValue":o=r;break;case"multiple":s=r;default:r!==u&&pt(e,t,a,r,i,u)}t=o,n=s,i=y,g!=null?za(e,!!n,g,!1):!!i!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:pt(e,t,o,null,i,a)}for(s in i)if(a=i[s],r=n[s],i.hasOwnProperty(s)&&(a!=null||r!=null))switch(s){case"value":g=a;break;case"defaultValue":y=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(L(91));break;default:a!==r&&pt(e,t,s,a,i,r)}B_(e,g,y);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:pt(e,t,I,null,i,g)}for(u in i)if(g=i[u],y=n[u],i.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:pt(e,t,u,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var R in n)g=n[R],n.hasOwnProperty(R)&&g!=null&&!i.hasOwnProperty(R)&&pt(e,t,R,null,i,g);for(h in i)if(g=i[h],y=n[h],i.hasOwnProperty(h)&&g!==y&&(g!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,t));break;default:pt(e,t,h,g,i,y)}return;default:if(Zf(t)){for(var C in n)g=n[C],n.hasOwnProperty(C)&&g!==void 0&&!i.hasOwnProperty(C)&&rf(e,t,C,void 0,i,g);for(d in i)g=i[d],y=n[d],!i.hasOwnProperty(d)||g===y||g===void 0&&y===void 0||rf(e,t,d,g,i,y);return}}for(var A in n)g=n[A],n.hasOwnProperty(A)&&g!=null&&!i.hasOwnProperty(A)&&pt(e,t,A,null,i,g);for(p in i)g=i[p],y=n[p],!i.hasOwnProperty(p)||g===y||g==null&&y==null||pt(e,t,p,g,i,y)}function Mp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,s=a.initiatorType,o=a.duration;if(r&&o&&Mp(s)){for(s=0,o=a.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var d=u.transferSize,p=u.initiatorType;d&&Mp(p)&&(u=u.responseEnd,s+=d*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(r+s)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sf=null,lf=null;function Jo(e){return e.nodeType===9?e:e.ownerDocument}function Vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function of(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ih=null;function ix(){var e=window.event;return e&&e.type==="popstate"?e===ih?!1:(ih=e,!0):(ih=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,ax=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,rx=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(e){return Up.resolve(null).then(e).catch(sx)}:Yv;function sx(e){setTimeout(function(){throw e})}function Ii(e){return e==="head"}function Lp(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),sr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Es(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Es(n);for(var r=n.firstChild;r;){var s=r.nextSibling,o=r.nodeName;r[tl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&Es(e.ownerDocument.body);n=a}while(n);sr(t)}function kp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function uf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uf(n),Jf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function lx(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[tl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=We(e.nextSibling),e===null)break}return null}function ox(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=We(e.nextSibling),e===null))return null;return e}function Kv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=We(e.nextSibling),e===null))return null;return e}function cf(e){return e.data==="$?"||e.data==="$~"}function hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ux(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function We(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ff=null;function jp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return We(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Bp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Qv(e,t,n){switch(t=Jo(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function Es(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jf(e)}var tn=new Map,Pp=new Set;function Zo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=ht.d;ht.d={f:cx,r:hx,D:fx,C:dx,L:mx,m:gx,X:yx,S:px,M:_x};function cx(){var e=qn.f(),t=Ou();return e||t}function hx(e){var t=yr(e);t!==null&&t.tag===5&&t.type==="form"?zE(t):qn.r(e)}var Tr=typeof document>"u"?null:document;function Xv(e,t,n){var i=Tr;if(i&&typeof t=="string"&&t){var a=Xe(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Pp.has(a)||(Pp.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),re(t,"link",e),$t(t),i.head.appendChild(t)))}}function fx(e){qn.D(e),Xv("dns-prefetch",e,null)}function dx(e,t){qn.C(e,t),Xv("preconnect",e,t)}function mx(e,t,n){qn.L(e,t,n);var i=Tr;if(i&&e&&t){var a='link[rel="preload"][as="'+Xe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Xe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Xe(n.imageSizes)+'"]')):a+='[href="'+Xe(e)+'"]';var r=a;switch(t){case"style":r=rr(e);break;case"script":r=br(e)}tn.has(r)||(e=wt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),tn.set(r,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(sl(r))||t==="script"&&i.querySelector(ll(r))||(t=i.createElement("link"),re(t,"link",e),$t(t),i.head.appendChild(t)))}}function gx(e,t){qn.m(e,t);var n=Tr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Xe(i)+'"][href="'+Xe(e)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=br(e)}if(!tn.has(r)&&(e=wt({rel:"modulepreload",href:e},t),tn.set(r,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ll(r)))return}i=n.createElement("link"),re(i,"link",e),$t(i),n.head.appendChild(i)}}}function px(e,t,n){qn.S(e,t,n);var i=Tr;if(i&&e){var a=Pa(i).hoistableStyles,r=rr(e);t=t||"default";var s=a.get(r);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(sl(r)))o.loading=5;else{e=wt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=tn.get(r))&&Ld(e,n);var u=s=i.createElement("link");$t(u),re(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,_o(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(r,s)}}}function yx(e,t){qn.X(e,t);var n=Tr;if(n&&e){var i=Pa(n).hoistableScripts,a=br(e),r=i.get(a);r||(r=n.querySelector(ll(a)),r||(e=wt({src:e,async:!0},t),(t=tn.get(a))&&kd(e,t),r=n.createElement("script"),$t(r),re(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function _x(e,t){qn.M(e,t);var n=Tr;if(n&&e){var i=Pa(n).hoistableScripts,a=br(e),r=i.get(a);r||(r=n.querySelector(ll(a)),r||(e=wt({src:e,async:!0,type:"module"},t),(t=tn.get(a))&&kd(e,t),r=n.createElement("script"),$t(r),re(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function zp(e,t,n,i){var a=(a=li.current)?Zo(a):null;if(!a)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=rr(n.href),n=Pa(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=rr(n.href);var r=Pa(a).hoistableStyles,s=r.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=a.querySelector(sl(e)))&&!r._p&&(s.instance=r,s.state.loading=5),tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(e,n),r||Ex(a,e,n,s.state))),t&&i===null)throw Error(L(528,""));return s}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=br(n),n=Pa(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function rr(e){return'href="'+Xe(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function $v(e){return wt({},e,{"data-precedence":e.precedence,precedence:null})}function Ex(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),re(t,"link",n),$t(t),e.head.appendChild(t))}function br(e){return'[src="'+Xe(e)+'"]'}function ll(e){return"script[async]"+e}function Hp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Xe(n.href)+'"]');if(i)return t.instance=i,$t(i),i;var a=wt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),$t(i),re(i,"style",a),_o(i,n.precedence,e),t.instance=i;case"stylesheet":a=rr(n.href);var r=e.querySelector(sl(a));if(r)return t.state.loading|=4,t.instance=r,$t(r),r;i=$v(n),(a=tn.get(a))&&Ld(i,a),r=(e.ownerDocument||e).createElement("link"),$t(r);var s=r;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),re(r,"link",i),t.state.loading|=4,_o(r,n.precedence,e),t.instance=r;case"script":return r=br(n.src),(a=e.querySelector(ll(r)))?(t.instance=a,$t(a),a):(i=n,(a=tn.get(r))&&(i=wt({},n),kd(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),$t(a),re(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,_o(i,n.precedence,e));return t.instance}function _o(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ld(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function kd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Eo=null;function Gp(e,t,n){if(Eo===null){var i=new Map,a=Eo=new Map;a.set(n,i)}else a=Eo,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[tl]||r[ee]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(r):i.set(s,[r])}}return i}function qp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function vx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Tx(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=rr(i.href),r=t.querySelector(sl(a));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wo.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,$t(r);return}r=t.ownerDocument||t,i=$v(i),(a=tn.get(a))&&Ld(i,a),r=r.createElement("link"),$t(r);var s=r;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),re(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Wo.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ah=0;function bx(e,t){return e.stylesheets&&e.count===0&&vo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&ah===0&&(ah=62500*nx());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vo(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function Wo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tu=null;function vo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tu=new Map,t.forEach(Ax,e),tu=null,Wo.call(e))}function Ax(e,t){if(!(t.state.loading&4)){var n=tu.get(e);if(n)var i=n.get(null);else{n=new Map,tu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var s=a[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}a=t.instance,s=a.getAttribute("data-precedence"),r=n.get(s)||i,r===i&&n.set(null,a),n.set(s,a),this.count++,i=Wo.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ls={$$typeof:Cn,Provider:null,Consumer:null,_currentValue:Hi,_currentValue2:Hi,_threadCount:0};function Sx(e,t,n,i,a,r,s,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.hiddenUpdates=Rc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Zv(e,t,n,i,a,r,s,o,u,h,d,p){return e=new Sx(e,t,n,s,u,h,d,p,o),t=1,r===!0&&(t|=24),r=Ue(3,null,null,t),e.current=r,r.stateNode=e,t=ud(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},fd(r),e}function Wv(e){return e?(e=Ua,e):Ua}function tT(e,t,n,i,a,r){a=Wv(a),i.context===null?i.context=a:i.pendingContext=a,i=ui(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ci(e,i,t),n!==null&&(Ie(n,e,t),hs(n,e,t))}function Fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jd(e,t){Fp(e,t),(e=e.alternate)&&Fp(e,t)}function eT(e){if(e.tag===13||e.tag===31){var t=sa(e,67108864);t!==null&&Ie(t,e,67108864),jd(e,67108864)}}function Yp(e){if(e.tag===13||e.tag===31){var t=ze();t=Xf(t);var n=sa(e,t);n!==null&&Ie(n,e,t),jd(e,t)}}var eu=!0;function xx(e,t,n,i){var a=K.T;K.T=null;var r=ht.p;try{ht.p=2,Bd(e,t,n,i)}finally{ht.p=r,K.T=a}}function wx(e,t,n,i){var a=K.T;K.T=null;var r=ht.p;try{ht.p=8,Bd(e,t,n,i)}finally{ht.p=r,K.T=a}}function Bd(e,t,n,i){if(eu){var a=df(i);if(a===null)nh(e,t,i,nu,n),Kp(e,i);else if(Ix(a,e,t,n,i))i.stopPropagation();else if(Kp(e,i),t&4&&-1<Rx.indexOf(e)){for(;a!==null;){var r=yr(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=Li(r.pendingLanes);if(s!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-Pe(s);o.entanglements[1]|=u,s&=~u}_n(r),!(ct&6)&&(Fo=je()+500,rl(0))}}break;case 31:case 13:o=sa(r,2),o!==null&&Ie(o,r,2),Ou(),jd(r,2)}if(r=df(i),r===null&&nh(e,t,i,nu,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else nh(e,t,i,null,n)}}function df(e){return e=Wf(e),Pd(e)}var nu=null;function Pd(e){if(nu=null,e=Na(e),e!==null){var t=$s(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=T_(t),e!==null)return e;e=null}else if(n===31){if(e=b_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nu=e,null}function nT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fS()){case w_:return 2;case R_:return 8;case Do:case dS:return 32;case I_:return 268435456;default:return 32}default:return 32}}var mf=!1,di=null,mi=null,gi=null,ks=new Map,js=new Map,ti=[],Rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(e,t){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function Yr(e,t,n,i,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},t!==null&&(t=yr(t),t!==null&&eT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ix(e,t,n,i,a){switch(t){case"focusin":return di=Yr(di,e,t,n,i,a),!0;case"dragenter":return mi=Yr(mi,e,t,n,i,a),!0;case"mouseover":return gi=Yr(gi,e,t,n,i,a),!0;case"pointerover":var r=a.pointerId;return ks.set(r,Yr(ks.get(r)||null,e,t,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,js.set(r,Yr(js.get(r)||null,e,t,n,i,a)),!0}return!1}function iT(e){var t=Na(e.target);if(t!==null){var n=$s(t);if(n!==null){if(t=n.tag,t===13){if(t=T_(n),t!==null){e.blockedOn=t,Dg(e.priority,function(){Yp(n)});return}}else if(t===31){if(t=b_(n),t!==null){e.blockedOn=t,Dg(e.priority,function(){Yp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function To(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=df(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Dh=i,n.target.dispatchEvent(i),Dh=null}else return t=yr(n),t!==null&&eT(t),e.blockedOn=n,!1;t.shift()}return!0}function Qp(e,t,n){To(e)&&n.delete(t)}function Nx(){mf=!1,di!==null&&To(di)&&(di=null),mi!==null&&To(mi)&&(mi=null),gi!==null&&To(gi)&&(gi=null),ks.forEach(Qp),js.forEach(Qp)}function Yl(e,t){e.blockedOn===t&&(e.blockedOn=null,mf||(mf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,Nx)))}var Kl=null;function Xp(e){Kl!==e&&(Kl=e,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,function(){Kl===e&&(Kl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Pd(i||n)===null)continue;break}var r=yr(n);r!==null&&(e.splice(t,3),t-=3,Kh(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function sr(e){function t(u){return Yl(u,e)}di!==null&&Yl(di,e),mi!==null&&Yl(mi,e),gi!==null&&Yl(gi,e),ks.forEach(t),js.forEach(t);for(var n=0;n<ti.length;n++){var i=ti[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)iT(n),n.blockedOn===null&&ti.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],s=a[Ne]||null;if(typeof r=="function")s||Xp(n);else if(s){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,s=r[Ne]||null)o=s.formAction;else if(Pd(a)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Xp(n)}}}function aT(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function zd(e){this._internalRoot=e}Uu.prototype.render=zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=ze();tT(n,i,e,t,null,null)};Uu.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tT(e.current,2,null,e,null,null),Ou(),t[pr]=null}};function Uu(e){this._internalRoot=e}Uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=M_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ti.length&&t!==0&&t<ti[n].priority;n++);ti.splice(n,0,e),n===0&&iT(e)}};var $p=E_.version;if($p!=="19.2.3")throw Error(L(527,$p,"19.2.3"));ht.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=rS(t),e=e!==null?A_(e):null,e=e===null?null:e.stateNode,e};var Cx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Js=Ql.inject(Cx),Be=Ql}catch{}}_u.createRoot=function(e,t){if(!v_(e))throw Error(L(299));var n=!1,i="",a=XE,r=$E,s=JE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zv(e,1,!1,null,null,n,i,null,a,r,s,aT),e[pr]=t.current,Ud(e),new zd(t)};_u.hydrateRoot=function(e,t,n){if(!v_(e))throw Error(L(299));var i=!1,a="",r=XE,s=$E,o=JE,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=Zv(e,1,!0,t,n??null,i,a,u,r,s,o,aT),t.context=Wv(null),n=t.current,i=ze(),i=Xf(i),a=ui(i),a.callback=null,ci(n,a,i),n=i,t.current.lanes=n,Ws(t,n),_n(t),e[pr]=t.current,Ud(e),new Uu(t)};_u.version="19.2.3";function rT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rT)}catch(e){console.error(e)}}rT(),d_.exports=_u;var Dx=d_.exports;const Ox=i_(Dx),Mx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),m.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),m.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Vx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),m.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),Hd=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),m.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),Ux=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"}),m.jsx("line",{x1:"9",x2:"9",y1:"3",y2:"18"}),m.jsx("line",{x1:"15",x2:"15",y1:"6",y2:"21"})]}),sT=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M5 12h14"}),m.jsx("path",{d:"M12 5v14"})]}),lr=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),m.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),Lx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"orange",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Bs=({className:e})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:m.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),kx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),m.jsx("path",{d:"M16 14v6"}),m.jsx("path",{d:"M8 14v6"}),m.jsx("path",{d:"M12 16v6"})]}),jx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}),m.jsx("path",{d:"M7 2v20"}),m.jsx("path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"})]}),Bx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"}),m.jsx("circle",{cx:"7",cy:"17",r:"2"}),m.jsx("path",{d:"M9 17h6"}),m.jsx("circle",{cx:"17",cy:"17",r:"2"})]}),Px=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M2 4v16"}),m.jsx("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),m.jsx("path",{d:"M2 17h20"}),m.jsx("path",{d:"M6 8v9"})]}),zx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),m.jsx("path",{d:"M13 5v2"}),m.jsx("path",{d:"M13 17v2"}),m.jsx("path",{d:"M13 11v2"})]}),rh=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M2 12h20"}),m.jsx("path",{d:"M13 2 9 12h9l4 10"})]}),bo=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("rect",{x:"3",y:"5",width:"6",height:"6",rx:"1"}),m.jsx("path",{d:"m3 17 2 2 4-4"}),m.jsx("path",{d:"M13 6h8"}),m.jsx("path",{d:"M13 12h8"}),m.jsx("path",{d:"M13 18h8"})]}),Hx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),Gx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M6 20h0a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h0"}),m.jsx("path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14"}),m.jsx("path",{d:"M10 20h4"}),m.jsx("circle",{cx:"16",cy:"20",r:"2"}),m.jsx("circle",{cx:"8",cy:"20",r:"2"})]}),qx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"})]}),Fx=({className:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[m.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),m.jsx("path",{d:"M12 8v13"}),m.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),m.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]});var Yx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jp;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jp||(Jp={}));var Zp;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Zp||(Zp={}));var Wp;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Wp||(Wp={}));var ty;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ty||(ty={}));var ey;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ey||(ey={}));var ny;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ny||(ny={}));var iy;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(iy||(iy={}));var ay;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ay||(ay={}));var ry;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ry||(ry={}));var sy;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(sy||(sy={}));var ly;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ly||(ly={}));var oy;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(oy||(oy={}));var uy;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(uy||(uy={}));var cy;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(cy||(cy={}));var hy;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(hy||(hy={}));var fy;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(fy||(fy={}));var dy;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dy||(dy={}));var my;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(my||(my={}));var gy;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gy||(gy={}));var py;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(py||(py={}));var yy;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yy||(yy={}));var _y;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_y||(_y={}));var Ey;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ey||(Ey={}));var vy;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vy||(vy={}));var Ty;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ty||(Ty={}));var by;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(by||(by={}));var Ay;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Ay||(Ay={}));var Sy;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Sy||(Sy={}));var xy;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(xy||(xy={}));var wy;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wy||(wy={}));var Ry;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Ry||(Ry={}));var Iy;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Iy||(Iy={}));var Ny;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Ny||(Ny={}));var Cy;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Cy||(Cy={}));var Dy;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Dy||(Dy={}));var Oy;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Oy||(Oy={}));var My;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(My||(My={}));var Vy;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vy||(Vy={}));var Uy;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Uy||(Uy={}));var Ly;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Ly||(Ly={}));var ky;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(ky||(ky={}));var jy;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(jy||(jy={}));var By;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(By||(By={}));var Py;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Py||(Py={}));var zy;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(zy||(zy={}));var Hy;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Hy||(Hy={}));var Gy;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Gy||(Gy={}));var qy;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(qy||(qy={}));var Fy;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Fy||(Fy={}));var Yy;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Yy||(Yy={}));var Ky;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ky||(Ky={}));var Qy;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Qy||(Qy={}));var Xy;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xy||(Xy={}));var $y;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($y||($y={}));var Jy;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Jy||(Jy={}));var Zy;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Zy||(Zy={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wy;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Wy||(Wy={}));function iu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function t0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function It(e){return this instanceof It?(this.v=e,this):new It(e)}function vs(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,r=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function o(y,I){i[y]&&(a[y]=function(R){return new Promise(function(C,A){r.push([y,R,C,A])>1||u(y,R)})},I&&(a[y]=I(a[y])))}function u(y,I){try{h(i[y](I))}catch(R){g(r[0][3],R)}}function h(y){y.value instanceof It?Promise.resolve(y.value.v).then(d,p):g(r[0][2],y)}function d(y){u("next",y)}function p(y){u("throw",y)}function g(y,I){y(I),r.shift(),r.length&&u(r[0][0],r[0][1])}}function Ka(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof t0=="function"?t0(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=e[r]&&function(s){return new Promise(function(o,u){s=e[r](s),a(o,u,s.done,s.value)})}}function a(r,s,o,u){Promise.resolve(u).then(function(h){r({value:h,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lT=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return lT=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const Kx=()=>lT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gf(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const pf=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class en extends Error{}class ve extends en{constructor(t,n,i,a){super(`${ve.makeMessage(t,n,i)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,i){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,i,a){if(!t||!a)return new Lu({message:i,cause:pf(n)});const r=n;return t===400?new uT(t,r,i,a):t===401?new cT(t,r,i,a):t===403?new hT(t,r,i,a):t===404?new fT(t,r,i,a):t===409?new dT(t,r,i,a):t===422?new mT(t,r,i,a):t===429?new gT(t,r,i,a):t>=500?new pT(t,r,i,a):new ve(t,r,i,a)}}class yf extends ve{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Lu extends ve{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class oT extends Lu{constructor({message:t}={}){super({message:t??"Request timed out."})}}class uT extends ve{}class cT extends ve{}class hT extends ve{}class fT extends ve{}class dT extends ve{}class mT extends ve{}class gT extends ve{}class pT extends ve{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qx=/^[a-z][a-z0-9+.-]*:/i,Xx=e=>Qx.test(e);let _f=e=>(_f=Array.isArray,_f(e));const $x=_f;let Jx=$x;const e0=Jx;function Zx(e){if(!e)return!0;for(const t in e)return!1;return!0}function Wx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const tw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new en(`${e} must be an integer`);if(t<0)throw new en(`${e} must be a positive integer`);return t},ew=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nw=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const aw=()=>{var e,t,n,i,a;const r=iw();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":i0(Deno.build.os),"X-Stainless-Arch":n0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":i0((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":n0((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const s=rw();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rw(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const a=i[1]||0,r=i[2]||0,s=i[3]||0;return{browser:t,version:`${a}.${r}.${s}`}}}return null}const n0=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",i0=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Xl;const sw=()=>Xl??(Xl=aw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yT(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function ow(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return yT({start(){},async pull(n){const{done:i,value:a}=await t.next();i?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function _T(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function uw(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cw=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ET=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function sh(e,t,n){return ET(),new File(e,t??"unknown_file",n)}function hw(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const fw=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vT=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",dw=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&vT(e),mw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function gw(e,t,n){if(ET(),e=await e,dw(e))return e instanceof File?e:sh([await e.arrayBuffer()],e.name);if(mw(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),sh(await Ef(a),t,n)}const i=await Ef(e);if(t||(t=hw(e)),!(n!=null&&n.type)){const a=i.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return sh(i,t,n)}async function Ef(e){var t,n,i,a,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(vT(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(fw(e))try{for(var o=!0,u=Ka(e),h;h=await u.next(),t=h.done,!t;o=!0){a=h.value,o=!1;const d=a;s.push(...await Ef(d))}}catch(d){n={error:d}}finally{try{!o&&!t&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}else{const d=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${pw(e)}`)}return s}function pw(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT{constructor(t){this._client=t}}TT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bT(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const a0=Object.freeze(Object.create(null)),yw=(e=bT)=>function(n,...i){if(n.length===1)return n[0];let a=!1;const r=[],s=n.reduce((d,p,g)=>{var y,I,R;/[?#]/.test(p)&&(a=!0);const C=i[g];let A=(a?encodeURIComponent:e)(""+C);return g!==i.length&&(C==null||typeof C=="object"&&C.toString===((R=Object.getPrototypeOf((I=Object.getPrototypeOf((y=C.hasOwnProperty)!==null&&y!==void 0?y:a0))!==null&&I!==void 0?I:a0))===null||R===void 0?void 0:R.toString))&&(A=C+"",r.push({start:d.length+p.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),d+p+(g===i.length?"":A)},""),o=s.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=u.exec(o))!==null;)r.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(r.sort((d,p)=>d.start-p.start),r.length>0){let d=0;const p=r.reduce((g,y)=>{const I=" ".repeat(y.start-d),R="^".repeat(y.length);return d=y.start+y.length,g+I+R},"");throw new en(`Path parameters result in path with invalid segments:
${r.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s},$l=yw(bT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends TT{create(t,n){var i;const{api_version:a=this._client.apiVersion}=t,r=iu(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new en("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new en("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post($l`/${a}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete($l`/${a}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post($l`/${a}/interactions/${t}/cancel`,i)}get(t,n={},i){var a;const r=n??{},{api_version:s=this._client.apiVersion}=r,o=iu(r,["api_version"]);return this._client.get($l`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},i),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}AT._key=Object.freeze(["interactions"]);class ST extends AT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _w(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let i=0;for(const a of e)n.set(a,i),i+=a.length;return n}let Jl;function Gd(e){let t;return(Jl??(t=new globalThis.TextEncoder,Jl=t.encode.bind(t)))(e)}let Zl;function r0(e){let t;return(Zl??(t=new globalThis.TextDecoder,Zl=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ku{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Gd(t):t;this.buffer=_w([this.buffer,n]);const i=[];let a;for(;(a=Ew(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(r0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,s=r0(this.buffer.subarray(0,r));i.push(s),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}ku.NEWLINE_CHARS=new Set([`
`,"\r"]);ku.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ew(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function vw(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const au={off:0,error:200,warn:300,info:400,debug:500},s0=(e,t,n)=>{if(e){if(Wx(au,e))return e;_e(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(au))}`)}};function es(){}function Wl(e,t,n){return!t||au[e]>au[n]?es:t[e].bind(t)}const Tw={error:es,warn:es,info:es,debug:es};let l0=new WeakMap;function _e(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Tw;const a=l0.get(n);if(a&&a[0]===i)return a[1];const r={error:Wl("error",n,i),warn:Wl("warn",n,i),info:Wl("info",n,i),debug:Wl("debug",n,i)};return l0.set(n,[i,r]),r}const Bi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let a=!1;const r=i?_e(i):console;function s(){return vs(this,arguments,function*(){var u,h,d,p;if(a)throw new en("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,I=Ka(bw(t,n)),R;R=yield It(I.next()),u=R.done,!u;y=!0){p=R.value,y=!1;const C=p;if(!g)if(C.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield It(JSON.parse(C.data))}catch(A){throw r.error("Could not parse message into JSON:",C.data),r.error("From chunk:",C.raw),A}}}catch(C){h={error:C}}finally{try{!y&&!u&&(d=I.return)&&(yield It(d.call(I)))}finally{if(h)throw h.error}}g=!0}catch(C){if(gf(C))return yield It(void 0);throw C}finally{g||n.abort()}})}return new Ba(s,n,i)}static fromReadableStream(t,n,i){let a=!1;function r(){return vs(this,arguments,function*(){var u,h,d,p;const g=new ku,y=_T(t);try{for(var I=!0,R=Ka(y),C;C=yield It(R.next()),u=C.done,!u;I=!0){p=C.value,I=!1;const A=p;for(const E of g.decode(A))yield yield It(E)}}catch(A){h={error:A}}finally{try{!I&&!u&&(d=R.return)&&(yield It(d.call(R)))}finally{if(h)throw h.error}}for(const A of g.flush())yield yield It(A)})}function s(){return vs(this,arguments,function*(){var u,h,d,p;if(a)throw new en("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,I=Ka(r()),R;R=yield It(I.next()),u=R.done,!u;y=!0){p=R.value,y=!1;const C=p;g||C&&(yield yield It(JSON.parse(C)))}}catch(C){h={error:C}}finally{try{!y&&!u&&(d=I.return)&&(yield It(d.call(I)))}finally{if(h)throw h.error}}g=!0}catch(C){if(gf(C))return yield It(void 0);throw C}finally{g||n.abort()}})}return new Ba(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),a=r=>({next:()=>{if(r.length===0){const s=i.next();t.push(s),n.push(s)}return r.shift()}});return[new Ba(()=>a(t),this.controller,this.client),new Ba(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return yT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:r}=await n.next();if(r)return i.close();const s=Gd(JSON.stringify(a)+`
`);i.enqueue(s)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function bw(e,t){return vs(this,arguments,function*(){var i,a,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new en("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new en("Attempted to iterate over a response with no body");const o=new Sw,u=new ku,h=_T(e.body);try{for(var d=!0,p=Ka(Aw(h)),g;g=yield It(p.next()),i=g.done,!i;d=!0){s=g.value,d=!1;const y=s;for(const I of u.decode(y)){const R=o.decode(I);R&&(yield yield It(R))}}}catch(y){a={error:y}}finally{try{!d&&!i&&(r=p.return)&&(yield It(r.call(p)))}finally{if(a)throw a.error}}for(const y of u.flush()){const I=o.decode(y);I&&(yield yield It(I))}})}function Aw(e){return vs(this,arguments,function*(){var n,i,a,r;let s=new Uint8Array;try{for(var o=!0,u=Ka(e),h;h=yield It(u.next()),n=h.done,!n;o=!0){r=h.value,o=!1;const d=r;if(d==null)continue;const p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Gd(d):d;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let y;for(;(y=vw(s))!==-1;)yield yield It(s.slice(0,y)),s=s.slice(y)}}catch(d){i={error:d}}finally{try{!o&&!n&&(a=u.return)&&(yield It(a.call(u)))}finally{if(i)throw i.error}}s.length>0&&(yield yield It(s))})}class Sw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,a]=xw(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function xw(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ww(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:r}=t,s=await(async()=>{var o;if(t.options.stream)return _e(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ba.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const u=n.headers.get("content-type"),h=(o=u==null?void 0:u.split(";")[0])===null||o===void 0?void 0:o.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return _e(e).debug(`[${i}] response parsed`,Bi({retryOfRequestLogID:a,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qd extends Promise{constructor(t,n,i=ww){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new qd(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xT=Symbol("brand.privateNullableHeaders");function*Rw(e){if(!e)return;if(xT in e){const{values:i,nulls:a}=e;yield*i.entries();for(const r of a)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():e0(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const r=e0(i[1])?i[1]:[i[1]];let s=!1;for(const o of r)o!==void 0&&(t&&!s&&(s=!0,yield[a,null]),yield[a,o])}}const Kr=e=>{const t=new Headers,n=new Set;for(const i of e){const a=new Set;for(const[r,s]of Rw(i)){const o=r.toLowerCase();a.has(o)||(t.delete(r),a.add(o)),s===null?(t.delete(r),n.add(o)):(t.append(r,s),n.delete(o))}}return{[xT]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lh=e=>{var t,n,i,a,r,s;if(typeof globalThis.process<"u")return(i=(n=(t=Yx)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||r===void 0?void 0:r.call(a,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wT;class ju{constructor(t){var n,i,a,r,s,o,u,{baseURL:h=lh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=lh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,g=iu(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:p},g),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(i=y.timeout)!==null&&i!==void 0?i:ju.DEFAULT_TIMEOUT,this.logger=(a=y.logger)!==null&&a!==void 0?a:console;const I="warn";this.logLevel=I,this.logLevel=(s=(r=s0(y.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:s0(lh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:I,this.fetchOptions=y.fetchOptions,this.maxRetries=(o=y.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(u=y.fetch)!==null&&u!==void 0?u:lw(),this.encoder=cw,this._options=y,this.apiKey=d,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Kr([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Kr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Kr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new en(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Aa}`}defaultIdempotencyKey(){return`stainless-node-retry-${Kx()}`}makeStatusError(t,n,i,a){return ve.generate(t,n,i,a)}buildURL(t,n,i){const a=!this.baseURLOverridden()&&i||this.baseURL,r=Xx(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Zx(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new qd(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var a,r,s;const o=await t,u=(a=o.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=u),await this.prepareOptions(o);const{req:h,url:d,timeout:p}=await this.buildRequest(o,{retryCount:u-n});await this.prepareRequest(h,{url:d,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=i===void 0?"":`, retryOf: ${i}`,I=Date.now();if(_e(this).debug(`[${g}] sending request`,Bi({retryOfRequestLogID:i,method:o.method,url:d,options:o,headers:h.headers})),!((r=o.signal)===null||r===void 0)&&r.aborted)throw new yf;const R=new AbortController,C=await this.fetchWithTimeout(d,h,p,R).catch(pf),A=Date.now();if(C instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new yf;const M=gf(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return _e(this).info(`[${g}] connection ${M?"timed out":"failed"} - ${S}`),_e(this).debug(`[${g}] connection ${M?"timed out":"failed"} (${S})`,Bi({retryOfRequestLogID:i,url:d,durationMs:A-I,message:C.message})),this.retryRequest(o,n,i??g);throw _e(this).info(`[${g}] connection ${M?"timed out":"failed"} - error; no more retries left`),_e(this).debug(`[${g}] connection ${M?"timed out":"failed"} (error; no more retries left)`,Bi({retryOfRequestLogID:i,url:d,durationMs:A-I,message:C.message})),M?new oT:new Lu({cause:C})}const E=`[${g}${y}] ${h.method} ${d} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${A-I}ms`;if(!C.ok){const S=await this.shouldRetry(C);if(n&&S){const b=`retrying, ${n} attempts remaining`;return await uw(C.body),_e(this).info(`${E} - ${b}`),_e(this).debug(`[${g}] response error (${b})`,Bi({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:A-I})),this.retryRequest(o,n,i??g,C.headers)}const M=S?"error; no more retries left":"error; not retryable";_e(this).info(`${E} - ${M}`);const P=await C.text().catch(b=>pf(b).message),V=ew(P),T=V?void 0:P;throw _e(this).debug(`[${g}] response error (${M})`,Bi({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,message:T,durationMs:Date.now()-I})),this.makeStatusError(C.status,V,T,C.headers)}return _e(this).info(E),_e(this).debug(`[${g}] response start`,Bi({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:A-I})),{response:C,options:o,controller:R,requestLogID:g,retryOfRequestLogID:i,startTime:I}}async fetchWithTimeout(t,n,i,a){const r=n||{},{signal:s,method:o}=r,u=iu(r,["signal","method"]);s&&s.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),i),d=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,p=Object.assign(Object.assign(Object.assign({signal:a.signal},d?{duplex:"half"}:{}),{method:"GET"}),u);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,a){var r;let s;const o=a==null?void 0:a.get("retry-after-ms");if(o){const h=parseFloat(o);Number.isNaN(h)||(s=h)}const u=a==null?void 0:a.get("retry-after");if(u&&!s){const h=parseFloat(u);Number.isNaN(h)?s=Date.parse(u)-Date.now():s=h*1e3}if(!(s&&0<=s&&s<60*1e3)){const h=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,h)}return await nw(s),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,a,r;const s=Object.assign({},t),{method:o,path:u,query:h,defaultBaseURL:d}=s,p=this.buildURL(u,h,d);"timeout"in s&&tw("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),I=await this.buildHeaders({options:t,method:o,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:I},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:a}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=Kr([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),sw()),this._options.defaultHeaders,i,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=Kr([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:ow(t)}:this.encoder({body:t,headers:i})}}ju.DEFAULT_TIMEOUT=6e4;class oe extends ju{constructor(){super(...arguments),this.interactions=new ST(this)}}wT=oe;oe.GeminiNextGenAPIClient=wT;oe.GeminiNextGenAPIClientError=en;oe.APIError=ve;oe.APIConnectionError=Lu;oe.APIConnectionTimeoutError=oT;oe.APIUserAbortError=yf;oe.NotFoundError=fT;oe.ConflictError=dT;oe.RateLimitError=gT;oe.BadRequestError=uT;oe.AuthenticationError=cT;oe.InternalServerError=pT;oe.PermissionDeniedError=hT;oe.UnprocessableEntityError=mT;oe.toFile=gw;oe.Interactions=ST;const Iw=async(e,t)=>" ( API Key AI )",Nw=({days:e,setDays:t,onMapClick:n})=>{const[i,a]=tt.useState(0),[r,s]=tt.useState(!1),[o,u]=tt.useState(null),[h,d]=tt.useState({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),[p,g]=tt.useState(""),[y,I]=tt.useState(!1),[R,C]=tt.useState(!1),A=tt.useRef(null),E=e[i];tt.useEffect(()=>{if(e.length===0||R)return;const j=new Date,ft=`${j.getFullYear()}-${String(j.getMonth()+1).padStart(2,"0")}-${String(j.getDate()).padStart(2,"0")}`,H=e.findIndex(F=>F.date===ft);if(H!==-1)a(H);else{const F=e[e.length-1].date;ft>F&&a(e.length-1)}C(!0)},[e,R]),tt.useEffect(()=>{if(A.current){const j=A.current.children;j[i]&&j[i].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[i]);const[S,M]=tt.useState((E==null?void 0:E.tips)||"");tt.useEffect(()=>{M((E==null?void 0:E.tips)||"")},[E]);const P=()=>{if(S!==E.tips){const j=[...e];j[i].tips=S,t(j)}},V=()=>{u(null),d({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),g(""),s(!0)},T=j=>{u(j),d({...j}),g(""),s(!0)},v=()=>{if(!h.title||!h.time)return;const j=[...e],ft=j[i].events;if(o){const H=ft.findIndex(F=>F.id===o.id);H!==-1&&(ft[H]={...o,...h})}else{const H={id:Date.now().toString(),time:h.time,title:h.title,location:h.location||"",type:h.type,notes:h.notes,bookingUrl:h.bookingUrl,navLink:h.navLink,flightDetails:h.flightDetails};ft.push(H)}ft.sort((H,F)=>H.time.localeCompare(F.time)),t(j),s(!1)},b=j=>{const ft=[...e];ft[i].events=ft[i].events.filter(H=>H.id!==j),t(ft)},x=async()=>{if(!h.location)return;I(!0);const j=await Iw(h.location,h.time||"daytime");g(j),I(!1)},N=j=>{if(j.navLink)window.open(j.navLink,"_blank");else if(j.location){const ft=encodeURIComponent(j.location);window.open(`https://www.google.com/maps/search/?api=1&query=${ft}`,"_blank")}},D=j=>{switch(j){case"food":return"bg-orange-50 text-orange-800 border-orange-100";case"transport":return"bg-slate-100 text-slate-700 border-slate-200";case"hotel":return"bg-blue-50 text-blue-800 border-blue-100";case"flight":return"bg-white border-yellow-400 border-l-4";default:return"bg-emerald-50 text-emerald-800 border-emerald-100"}},w=j=>{switch(j){case"food":return m.jsx(jx,{className:"w-4 h-4"});case"transport":return m.jsx(Bx,{className:"w-4 h-4"});case"hotel":return m.jsx(Px,{className:"w-4 h-4"});case"flight":return m.jsx(rh,{className:"w-4 h-4"});default:return m.jsx(zx,{className:"w-4 h-4"})}};return m.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[m.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md shadow-sm sticky top-0 z-10 transition-colors",children:[m.jsx("div",{ref:A,className:"flex overflow-x-auto py-3 px-2 space-x-2 snap-x",children:e.map((j,ft)=>m.jsxs("button",{onClick:()=>a(ft),className:`flex-shrink-0 flex flex-col items-center justify-center min-w-[3.5rem] h-16 rounded-xl transition-all border snap-center ${i===ft?"bg-primary dark:bg-blue-600 text-white border-primary dark:border-blue-600 shadow-lg scale-105":"bg-white dark:bg-slate-800 text-gray-400 dark:text-gray-500 border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[m.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider",children:"Day"}),m.jsx("span",{className:"text-xl font-bold",children:j.day})]},j.day))}),m.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-slate-800 bg-white dark:bg-slate-900 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:E.date}),m.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-gray-100 dark:bg-slate-800 rounded text-gray-500 dark:text-gray-400",children:E.weekday})]}),m.jsx("div",{className:"flex flex-col items-end shrink-0",children:m.jsxs("div",{className:"flex items-center gap-1",children:[E.weather==="rain"?m.jsx(kx,{className:"w-5 h-5 text-blue-400"}):m.jsx(Lx,{className:"w-5 h-5"}),m.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-white",children:[E.temp,""]})]})})]}),m.jsx("textarea",{value:S,onChange:j=>M(j.target.value),onBlur:P,placeholder:" (...)",className:"w-full h-20 text-xs text-gray-600 dark:text-gray-300 bg-yellow-50/50 dark:bg-slate-800/50 border border-yellow-100 dark:border-slate-700 rounded-lg p-2 resize-none focus:ring-1 focus:ring-accent outline-none leading-relaxed transition-all"})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-28",children:[E.events.length===0?m.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[m.jsx("p",{children:""}),m.jsx("button",{onClick:V,className:"mt-4 text-primary dark:text-blue-400 font-medium",children:""})]}):E.events.map(j=>{var ft;return m.jsxs("div",{className:"relative flex group",children:[m.jsxs("div",{className:"flex flex-col items-center mr-4 w-12 pt-1",children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 font-mono",children:j.time}),m.jsx("div",{className:"h-full w-px bg-gray-200 dark:bg-slate-700 mt-2 mb-2 dashed"})]}),j.type==="flight"&&j.flightDetails?m.jsxs("div",{className:"flex-1 rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-none mb-1 relative transition-transform active:scale-[0.99] bg-white dark:bg-slate-800",children:[m.jsx("div",{className:"bg-yellow-400 h-2 w-full"}),m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"bg-yellow-400 p-1.5 rounded-full text-black",children:m.jsx(rh,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase block",children:j.flightDetails.airline}),m.jsx("span",{className:"text-lg font-black text-gray-900 dark:text-white leading-none",children:j.flightDetails.flightNumber})]})]}),j.bookingUrl&&m.jsxs("a",{href:j.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300 px-2 py-1 rounded-md",children:["REF: ",(ft=j.notes)==null?void 0:ft.split(`
`)[0]]})]}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:j.flightDetails.departCode}),m.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:j.flightDetails.departTerminal?`T${j.flightDetails.departTerminal}`:"T-"}),m.jsx("span",{className:"block text-xs font-bold mt-1 text-gray-800 dark:text-gray-200",children:j.time})]}),m.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center",children:[m.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-1",children:j.flightDetails.duration}),m.jsxs("div",{className:"w-full h-0.5 bg-gray-200 dark:bg-slate-600 relative",children:[m.jsx("div",{className:"absolute -top-1 right-0 w-2 h-2 bg-gray-300 dark:bg-slate-500 rounded-full"}),m.jsx(rh,{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-4 h-4 text-yellow-500 rotate-90"})]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:j.flightDetails.arriveCode}),m.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:j.flightDetails.arriveTerminal?`T${j.flightDetails.arriveTerminal}`:"T-"})]})]}),m.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-dashed border-gray-200 dark:border-slate-700",children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.title}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>T(j),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m.jsx(Bs,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>b(j.id),className:"p-1 text-gray-400 hover:text-red-500",children:m.jsx(lr,{className:"w-4 h-4"})})]})]})]})]}):m.jsxs("div",{className:`flex-1 rounded-2xl p-4 border shadow-sm mb-1 ${D(j.type)} dark:border-none relative transition-transform active:scale-[0.99] dark:bg-slate-800 dark:text-gray-100`,children:[m.jsxs("div",{className:"flex justify-between items-start gap-2",children:[m.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[m.jsx("div",{className:`p-1.5 rounded-lg shrink-0 shadow-sm ${j.type==="food"?"bg-orange-100 text-orange-600 dark:bg-orange-900 dark:text-orange-300":j.type==="transport"?"bg-slate-200 text-slate-600 dark:bg-slate-700 dark:text-slate-300":j.type==="hotel"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"bg-emerald-100 text-emerald-600 dark:bg-emerald-900 dark:text-emerald-300"}`,children:w(j.type)}),m.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-white leading-tight pt-0.5 break-words",children:j.title})]}),m.jsxs("div",{className:"flex space-x-1 shrink-0 ml-1",children:[m.jsx("button",{onClick:()=>T(j),className:"p-1 opacity-50 hover:opacity-100",children:m.jsx(Bs,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>b(j.id),className:"p-1 opacity-50 hover:opacity-100",children:m.jsx(lr,{className:"w-4 h-4"})})]})]}),j.location&&m.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[m.jsxs("p",{className:"text-xs opacity-80 flex items-center truncate max-w-[65%]",children:[m.jsx("span",{className:"mr-1",children:""})," ",j.location]}),m.jsxs("div",{className:"flex gap-2 shrink-0",children:[j.bookingUrl&&m.jsxs("a",{href:j.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 px-2 py-1 rounded-full border border-black/5 dark:border-slate-600 text-blue-700 dark:text-blue-300 flex items-center gap-1 transition-colors",children:[m.jsx(Hd,{className:"w-3 h-3"})," "]}),m.jsxs("button",{onClick:()=>N(j),className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 px-2 py-1 rounded-full border border-black/5 dark:border-slate-600 text-gray-700 dark:text-gray-300 flex items-center gap-1 transition-colors",children:[m.jsx(Ux,{className:"w-3 h-3"})," "]})]})]}),j.notes&&m.jsx("p",{className:"text-xs mt-2 italic opacity-70 bg-black/5 dark:bg-white/5 p-2 rounded-lg",children:j.notes})]})]},j.id)}),m.jsx("div",{className:"flex justify-center pt-4",children:m.jsxs("button",{onClick:V,className:"flex items-center space-x-2 text-gray-400 hover:text-primary dark:text-gray-500 dark:hover:text-blue-400 transition-colors",children:[m.jsx("div",{className:"w-8 h-8 rounded-full border border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center",children:m.jsx(sT,{className:"w-4 h-4"})}),m.jsx("span",{className:"text-sm font-medium",children:""})]})})]}),r&&m.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in h-[85vh] sm:h-auto overflow-y-auto",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:o?"":""}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),m.jsx("input",{type:"time",value:h.time,onChange:j=>d({...h,time:j.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),m.jsxs("select",{value:h.type,onChange:j=>d({...h,type:j.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none",children:[m.jsx("option",{value:"activity",children:"/ "}),m.jsx("option",{value:"food",children:"/ "}),m.jsx("option",{value:"transport",children:"/ "}),m.jsx("option",{value:"hotel",children:"/ "}),m.jsx("option",{value:"flight",children:"/ "})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),m.jsx("input",{type:"text",placeholder:"",value:h.title,onChange:j=>d({...h,title:j.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" ()"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:"328 Swanston St",value:h.location,onChange:j=>d({...h,location:j.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"}),m.jsx("button",{onClick:x,disabled:!h.location||y,className:"mt-1 bg-accent/10 text-accent p-3 rounded-xl hover:bg-accent/20 transition-colors",title:"Ask AI for tips",children:""})]}),y&&m.jsx("p",{className:"text-xs text-accent mt-1",children:"AI ..."}),p&&m.jsxs("div",{className:"mt-2 p-2 bg-accent/5 text-accent text-xs rounded-lg border border-accent/10",children:[m.jsx("strong",{children:":"})," ",p]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" (Google Maps URL)"}),m.jsx("input",{type:"text",placeholder:"https://maps.app.goo.gl/...",value:h.navLink||"",onChange:j=>d({...h,navLink:j.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-blue-600 dark:bg-slate-700 dark:text-blue-400 rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none text-sm font-mono"}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" ()"}),m.jsx("input",{type:"text",placeholder:"https://...",value:h.bookingUrl||"",onChange:j=>d({...h,bookingUrl:j.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),m.jsx("textarea",{placeholder:"...",value:h.notes||"",onChange:j=>d({...h,notes:j.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none h-20 resize-none"})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl",children:""}),m.jsx("button",{onClick:v,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30",children:""})]})]})]})})]})},Se=["",""],Cw=({expenses:e,setExpenses:t})=>{const[n,i]=tt.useState(""),[a,r]=tt.useState(""),[s,o]=tt.useState(Se[0]),[u,h]=tt.useState(Se),[d,p]=tt.useState(21.5),[g,y]=tt.useState(""),I=()=>{if(!n||!a)return;const E={id:Date.now().toString(),title:a,amount:parseFloat(n),currency:"AUD",payer:s,involved:u};t([E,...e]),i(""),r("")},R=E=>{t(e.filter(S=>S.id!==E))},C=E=>{u.includes(E)?u.length>1&&h(u.filter(S=>S!==E)):h([...u,E])},A=tt.useMemo(()=>{const E={};return Se.forEach(S=>E[S]=0),e.forEach(S=>{const M=S.payer,P=S.amount,V=S.involved.length,T=P/V;E[M]+=P,S.involved.forEach(v=>{E[v]-=T})}),E},[e]);return m.jsxs("div",{className:"p-4 pb-28 h-full overflow-y-auto bg-surface dark:bg-darkSurface transition-colors",children:[m.jsxs("div",{className:"bg-primary text-white rounded-2xl shadow-lg p-5 mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-gray-300",children:" (AUD  TWD)"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-gray-400",children:":"}),m.jsx("input",{type:"number",value:d,onChange:E=>p(parseFloat(E.target.value)),className:"w-16 bg-white/10 text-white text-xs px-2 py-1 rounded border border-white/20 text-center"})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:" (AUD)"}),m.jsx("input",{type:"number",placeholder:"0",value:g,onChange:E=>y(E.target.value),className:"w-full bg-transparent text-2xl font-bold border-b border-white/30 focus:border-accent outline-none py-1 placeholder-gray-600"})]}),m.jsx("div",{className:"text-2xl text-gray-500",children:""}),m.jsxs("div",{className:"flex-1 text-right",children:[m.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:" (TWD)"}),m.jsx("div",{className:"text-2xl font-bold text-accent",children:g?Math.round(parseFloat(g)*d).toLocaleString():"0"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:" (AUD)"}),m.jsx("div",{className:"space-y-3",children:Se.map(E=>{const S=A[E];return m.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 dark:border-slate-700 last:border-0 pb-2 last:pb-0",children:[m.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:E}),m.jsx("span",{className:`font-bold ${S>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500 dark:text-rose-400"}`,children:S>=0?` $${S.toFixed(2)}`:` $${Math.abs(S).toFixed(2)}`})]},E)})}),m.jsxs("div",{className:"mt-4 pt-3 border-t border-dashed border-gray-200 dark:border-slate-700 text-xs text-gray-400 text-center",children:[A[Se[0]]>0?`${Se[1]}  ${Se[0]} $${A[Se[0]].toFixed(2)} AUD`:`${Se[0]}  ${Se[1]} $${A[Se[1]].toFixed(2)} AUD`,m.jsxs("div",{className:"text-accent mt-1",children:["( $",Math.abs(A[Se[0]]*d).toFixed(0),")"]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:""}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{className:"w-full bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white p-3 rounded-xl outline-none focus:ring-2 focus:ring-primary border-none",placeholder:" ()",value:a,onChange:E=>r(E.target.value)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx("span",{className:"absolute left-3 top-3 text-gray-400 font-bold",children:"$"}),m.jsx("input",{type:"number",className:"w-full bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white p-3 pl-7 rounded-xl outline-none focus:ring-2 focus:ring-primary border-none",placeholder:"0.00",value:n,onChange:E=>i(E.target.value)})]}),m.jsx("select",{className:"bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white p-3 rounded-xl outline-none focus:ring-2 focus:ring-primary border-none text-sm",value:s,onChange:E=>o(E.target.value),children:Se.map(E=>m.jsxs("option",{value:E,children:[E," "]},E))})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 my-2 overflow-x-auto",children:[m.jsx("span",{className:"whitespace-nowrap",children:":"}),Se.map(E=>m.jsx("button",{onClick:()=>C(E),className:`px-3 py-1 rounded-full border transition-colors whitespace-nowrap ${u.includes(E)?"bg-primary text-white border-primary dark:bg-blue-600 dark:border-blue-600":"bg-white text-gray-400 border-gray-200 dark:bg-slate-700 dark:text-gray-400 dark:border-slate-600"}`,children:E},E))]}),m.jsx("button",{onClick:I,disabled:!n||!a,className:"w-full bg-accent text-white font-bold py-3 rounded-xl shadow-lg shadow-amber-200 dark:shadow-none disabled:opacity-50 hover:bg-amber-600 transition-colors",children:""})]})]}),m.jsx("h3",{className:"text-gray-400 font-semibold mb-3 px-1 uppercase text-[10px] tracking-widest",children:""}),m.jsxs("div",{className:"space-y-3",children:[e.map(E=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-50 dark:border-slate-700 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-sm",children:E.title}),m.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:[m.jsx("span",{className:"text-primary dark:text-blue-400 font-medium",children:E.payer}),"   ",E.involved.join(", ")," "]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"font-bold text-gray-800 dark:text-white block",children:["$",E.amount.toFixed(2)]}),m.jsxs("span",{className:"text-[10px] text-gray-400",children:[" NT$",(E.amount*d).toFixed(0)]})]}),m.jsx("button",{onClick:()=>R(E.id),className:"text-gray-300 hover:text-rose-400 p-1",children:m.jsx(lr,{className:"w-4 h-4"})})]})]},E.id)),e.length===0&&m.jsx("div",{className:"text-center text-gray-400 text-xs italic py-4",children:""})]})]})},Dw=({links:e,setLinks:t,days:n,setDays:i})=>{const[a,r]=tt.useState(!1),[s,o]=tt.useState(null),[u,h]=tt.useState({title:"",url:"",details:"",type:"ticket"}),d=tt.useMemo(()=>{const R=[];return n.forEach((C,A)=>{C.events.forEach((E,S)=>{E.bookingUrl&&R.push({id:E.id,title:E.title,url:E.bookingUrl,type:E.type,details:E.notes||"",isManual:!1,dayIndex:A,eventIndex:S})})}),e.forEach(C=>{R.push({...C,isManual:!0})}),R},[e,n]),p=()=>{o(null),h({title:"",url:"",details:"",type:"ticket"}),r(!0)},g=R=>{o(R),h({...R}),r(!0)},y=(R,C)=>{if(C.preventDefault(),R.isManual)window.confirm("")&&t(e.filter(A=>A.id!==R.id));else if(window.confirm(`${R.title}`)){const A=[...n];if(R.dayIndex!==void 0&&R.eventIndex!==void 0){const E=A[R.dayIndex].events[R.eventIndex];E.bookingUrl=void 0,i(A)}}},I=()=>{if(!(!u.title||!u.url)){if(s)if(s.isManual)t(e.map(R=>R.id===s.id?{...s,...u}:R));else{const R=[...n];if(s.dayIndex!==void 0&&s.eventIndex!==void 0){const C=R[s.dayIndex].events[s.eventIndex];C.title=u.title,C.bookingUrl=u.url,C.notes=u.details,C.type=u.type,i(R)}}else{const R={id:Date.now().toString(),title:u.title,url:u.url,details:u.details||"",type:u.type};t([R,...e])}r(!1)}};return m.jsxs("div",{className:"p-4 bg-surface dark:bg-darkSurface h-full pb-20 overflow-y-auto transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 px-1",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:" & "}),m.jsx("button",{onClick:p,className:"bg-primary dark:bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-slate-700 transition-colors",children:m.jsx(sT,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"grid gap-4",children:d.map((R,C)=>m.jsxs("div",{className:"relative group",children:[m.jsx("a",{href:R.url,target:"_blank",rel:"noreferrer",className:"block bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm hover:shadow-md transition-all border border-gray-100 dark:border-slate-700",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex gap-2 mb-2",children:[m.jsx("span",{className:`inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-colors
                                        ${R.type==="car"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":R.type==="flight"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":R.type==="hotel"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300":R.type==="ticket"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:R.type==="car"?"":R.type==="flight"?"":R.type==="hotel"?"":R.type==="ticket"?"":""}),!R.isManual&&m.jsxs("span",{className:"inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400",children:[" Day ",n[R.dayIndex].day]})]}),m.jsx("h3",{className:"font-bold text-base text-gray-800 dark:text-gray-100",children:R.title}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1 truncate max-w-[250px]",children:R.details})]}),m.jsx("div",{className:"bg-surface dark:bg-slate-700 p-2 rounded-full text-primary dark:text-blue-400",children:m.jsx(Hd,{className:"w-5 h-5"})})]})}),m.jsxs("div",{className:"absolute top-4 right-14 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:A=>{A.preventDefault(),g(R)},className:"p-1.5 bg-gray-100 dark:bg-slate-600 text-gray-600 dark:text-gray-200 rounded-full hover:bg-gray-200 dark:hover:bg-slate-500",children:m.jsx(Bs,{className:"w-3 h-3"})}),m.jsx("button",{onClick:A=>y(R,A),className:"p-1.5 bg-rose-100 dark:bg-rose-900/50 text-rose-600 dark:text-rose-300 rounded-full hover:bg-rose-200 dark:hover:bg-rose-800/50",children:m.jsx(lr,{className:"w-3 h-3"})})]})]},`${R.id}-${C}`))}),d.length===0&&m.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[m.jsx("p",{children:""}),m.jsx("button",{onClick:p,className:"mt-2 text-primary dark:text-blue-400 font-medium",children:""})]}),m.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary to-slate-900 dark:from-slate-800 dark:to-black rounded-2xl text-white shadow-lg",children:[m.jsx("h3",{className:"font-bold text-base mb-2",children:""}),m.jsx("p",{className:"text-gray-300 text-xs mb-4",children:""}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("a",{href:"tel:000",className:"flex-1 bg-white text-primary text-center py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors",children:" 000"}),m.jsx("a",{href:"https://www.taiwanembassy.org/au/index.html",target:"_blank",rel:"noreferrer",className:"flex-1 bg-white/10 text-white text-center py-2 rounded-lg text-sm backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-colors",children:""})]})]}),a&&m.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in",children:[m.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:s?s.isManual?"":"":""}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),m.jsx("input",{type:"text",value:u.title,onChange:R=>h({...u,title:R.target.value}),placeholder:"",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),m.jsxs("select",{value:u.type,onChange:R=>h({...u,type:R.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none",children:[m.jsx("option",{value:"ticket",children:" "}),m.jsx("option",{value:"flight",children:" "}),m.jsx("option",{value:"hotel",children:" "}),m.jsx("option",{value:"car",children:" "}),m.jsx("option",{value:"transport",children:" "}),m.jsx("option",{value:"activity",children:" "}),m.jsx("option",{value:"food",children:" "})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" URL"}),m.jsx("input",{type:"text",value:u.url,onChange:R=>h({...u,url:R.target.value}),placeholder:"https://...",className:"w-full mt-1 p-3 bg-gray-50 text-blue-600 dark:bg-slate-700 dark:text-blue-400 rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none font-mono text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),m.jsx("input",{type:"text",value:u.details||"",onChange:R=>h({...u,details:R.target.value}),placeholder:" #123456",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),!(s!=null&&s.isManual)&&s&&m.jsx("p",{className:"text-xs text-amber-500 bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg",children:" "}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:""}),m.jsx("button",{onClick:I,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30 dark:shadow-blue-900/30 hover:bg-slate-700 dark:hover:bg-blue-500 transition-colors",children:""})]})]})]})})]})},o0=["bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300","bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300","bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300","bg-lime-50 text-lime-700 dark:bg-lime-900/30 dark:text-lime-300","bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300","bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300","bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300","bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300","bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300","bg-violet-50 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300","bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300","bg-fuchsia-50 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300","bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300","bg-rose-50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"],Ow=({todos:e,setTodos:t,categories:n,setCategories:i})=>{const[a,r]=tt.useState(""),[s,o]=tt.useState("todo"),[u,h]=tt.useState(!1),[d,p]=tt.useState(""),g=V=>{if(V&&V.preventDefault(),!a.trim())return;const T={id:Date.now().toString(),text:a.trim(),isCompleted:!1,category:s};t([T,...e]),r("")},y=V=>{t(e.map(T=>T.id===V?{...T,isCompleted:!T.isCompleted}:T))},I=V=>{t(e.filter(T=>T.id!==V))},R=tt.useMemo(()=>{const V={};return n.forEach(T=>V[T.id]=[]),V.uncategorized=[],e.forEach(T=>{var v,b;if(V[T.category])V[T.category].push(T);else{const x=((v=n.find(N=>N.id==="todo"))==null?void 0:v.id)||((b=n[0])==null?void 0:b.id);x?V[x].push(T):V.uncategorized.push(T)}}),V},[e,n]),C=()=>{if(!d.trim())return;const V=`cat_${Date.now()}`,T=o0[Math.floor(Math.random()*o0.length)],v={id:V,label:d.trim(),color:T,isDefault:!1};i([...n,v]),p("")},A=V=>{if(window.confirm("")){i(n.filter(v=>v.id!==V));const T="todo";t(v=>v.map(b=>b.category===V?{...b,category:T}:b)),s===V&&o(T)}},E=V=>V.includes("shop")||V.includes("buy")?m.jsx(Hx,{className:"w-4 h-4"}):V.includes("pack")||V.includes("luggage")?m.jsx(Gx,{className:"w-4 h-4"}):V.includes("doc")||V.includes("pass")?m.jsx(qx,{className:"w-4 h-4"}):V.includes("gift")?m.jsx(Fx,{className:"w-4 h-4"}):m.jsx(bo,{className:"w-4 h-4"}),S=e.length,M=e.filter(V=>V.isCompleted).length,P=S===0?0:Math.round(M/S*100);return m.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 pb-4 border-b border-gray-100 dark:border-slate-800 sticky top-0 z-10",children:[m.jsxs("div",{className:"flex justify-between items-end mb-2",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:""}),m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[" ",P,"% (",M,"/",S,")"]})]}),S>0&&P===100&&m.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full animate-bounce",children:" "})]}),m.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary dark:bg-blue-500 transition-all duration-500 ease-out rounded-full",style:{width:`${P}%`}})})]}),m.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-gray-100 dark:border-slate-800 shadow-sm z-10",children:m.jsxs("form",{onSubmit:g,className:"space-y-3",children:[m.jsx("input",{type:"text",value:a,onChange:V=>r(V.target.value),placeholder:"...",className:"w-full p-3 bg-gray-50 text-gray-900 dark:bg-slate-800 dark:text-white rounded-xl border-none outline-none focus:ring-2 focus:ring-primary"}),m.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[n.map(V=>m.jsxs("button",{type:"button",onClick:()=>o(V.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all
                            ${s===V.id?"bg-primary border-primary text-white dark:bg-blue-600 dark:border-blue-600":"bg-white border-gray-200 text-gray-500 dark:bg-slate-800 dark:border-slate-700 dark:text-gray-400"}`,children:[E(V.id),V.label]},V.id)),m.jsx("button",{type:"button",onClick:()=>h(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-800 text-gray-400 hover:text-primary dark:hover:text-blue-400 border border-transparent hover:border-gray-300 transition-all shrink-0",children:m.jsx(Bs,{className:"w-3 h-3"})})]}),m.jsx("button",{type:"submit",disabled:!a,className:"w-full bg-primary dark:bg-blue-600 text-white font-bold py-3 rounded-xl disabled:opacity-50",children:""})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-28 space-y-6",children:[n.map(V=>{const T=R[V.id]||[];return T.length===0?null:m.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("span",{className:`p-1.5 rounded-lg ${V.color}`,children:E(V.id)}),m.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:V.label}),m.jsx("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-500 px-2 py-0.5 rounded-full",children:T.length})]}),m.jsx("div",{className:"space-y-2",children:T.map(v=>m.jsxs("div",{className:`flex items-center p-3 rounded-xl border transition-all ${v.isCompleted?"bg-gray-50 border-gray-100 dark:bg-slate-800/50 dark:border-slate-800":"bg-white border-gray-100 shadow-sm dark:bg-slate-800 dark:border-slate-700"}`,children:[m.jsx("button",{onClick:()=>y(v.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3 transition-colors ${v.isCompleted?"bg-emerald-500 border-emerald-500 text-white":"border-gray-300 dark:border-gray-500"}`,children:v.isCompleted&&m.jsx(bo,{className:"w-4 h-4"})}),m.jsx("span",{className:`flex-1 text-sm ${v.isCompleted?"text-gray-400 line-through dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,children:v.text}),m.jsx("button",{onClick:()=>I(v.id),className:"p-2 text-gray-300 hover:text-red-400 transition-colors",children:m.jsx(lr,{className:"w-4 h-4"})})]},v.id))})]},V.id)}),S===0&&m.jsxs("div",{className:"text-center py-10 opacity-50",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:m.jsx(bo,{className:"w-8 h-8"})}),m.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["",m.jsx("br",{}),""]})]})]}),u&&m.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(Bs,{className:"w-5 h-5"})," "]}),m.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto pr-1",children:n.map(V=>m.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${V.color.split(" ")[0].replace("bg-","bg-")}`}),m.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:V.label})]}),!V.isDefault&&m.jsx("button",{onClick:()=>A(V.id),className:"text-gray-400 hover:text-red-500 p-1",children:m.jsx(lr,{className:"w-4 h-4"})}),V.isDefault&&m.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:""})]},V.id))}),m.jsxs("div",{className:"flex gap-2 mb-6",children:[m.jsx("input",{type:"text",placeholder:"",value:d,onChange:V=>p(V.target.value),className:"flex-1 p-2 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-lg border-none outline-none focus:ring-2 focus:ring-primary text-sm"}),m.jsx("button",{onClick:C,disabled:!d.trim(),className:"bg-primary dark:bg-blue-600 text-white px-3 rounded-lg disabled:opacity-50 text-sm font-bold",children:""})]}),m.jsx("button",{onClick:()=>h(!1),className:"w-full py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl",children:""})]})})]})};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Mw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const r=e[n++];t[i++]=String.fromCharCode((a&31)<<6|r&63)}else if(a>239&&a<365){const r=e[n++],s=e[n++],o=e[n++],u=((a&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],s=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(r&63)<<6|s&63)}}return t.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const r=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,d=r>>2,p=(r&3)<<4|o>>4;let g=(o&15)<<2|h>>6,y=h&63;u||(y=64,s||(g=64)),i.push(n[d],n[p],n[g],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(RT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Mw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const r=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const p=a<e.length?n[e.charAt(a)]:64;if(++a,r==null||o==null||h==null||p==null)throw new Vw;const g=r<<2|o>>4;if(i.push(g),h!==64){const y=o<<4&240|h>>2;if(i.push(y),p!==64){const I=h<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uw=function(e){const t=RT(e);return IT.encodeByteArray(t,!0)},ru=function(e){return Uw(e).replace(/\./g,"")},Lw=function(e){try{return IT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=()=>kw().__FIREBASE_DEFAULTS__,Bw=()=>{if(typeof process>"u"||typeof u0>"u")return;const e=u0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Pw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Lw(e[1]);return t&&JSON.parse(t)},Fd=()=>{try{return jw()||Bw()||Pw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},zw=e=>{var t,n;return(n=(t=Fd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Hw=e=>{const t=zw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},NT=()=>{var e;return(e=Fd())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ru(JSON.stringify(n)),ru(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yw(){var e;const t=(e=Fd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kw(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Xw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var r;t(((r=a.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="FirebaseError";class Ar extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=$w,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CT.prototype.create)}}class CT{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,r=this.errors[t],s=r?Jw(r,i):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Ar(a,o,i)}}function Jw(e,t){return e.replace(Zw,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const Zw=/\{\$([^}]+)}/g;function vf(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const r=e[a],s=t[a];if(c0(r)&&c0(s)){if(!vf(r,s))return!1}else if(r!==s)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function c0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e){return e&&e._delegate?e._delegate:e}class Ps{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Gw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(a)return null;throw r}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eR(t))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:a});i.resolve(r)}catch{}}}}clearInstance(t=Pi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pi){return this.instances.has(t)}getOptions(t=Pi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&s.resolve(a)}return a}onInit(t,n){var i;const a=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(a,r);const s=this.instances.get(a);return s&&t(s,a),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Pi){return this.component?this.component.multipleInstances?t:Pi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(e){return e===Pi?void 0:e}function eR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ww(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(lt||(lt={}));const iR={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},aR=lt.INFO,rR={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},sR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=rR[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class DT{constructor(t){this.name=t,this._logLevel=aR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}const lR=(e,t)=>t.some(n=>e instanceof n);let h0,f0;function oR(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,Tf=new WeakMap,MT=new WeakMap,oh=new WeakMap,Yd=new WeakMap;function cR(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{n(pi(e.result)),a()},s=()=>{i(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&OT.set(n,e)}).catch(()=>{}),Yd.set(t,e),t}function hR(e){if(Tf.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{n(),a()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});Tf.set(e,t)}let bf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Tf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||MT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fR(e){bf=e(bf)}function dR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(uh(this),t,...n);return MT.set(i,t.sort?t.sort():[t]),pi(i)}:uR().includes(e)?function(...t){return e.apply(uh(this),t),pi(OT.get(this))}:function(...t){return pi(e.apply(uh(this),t))}}function mR(e){return typeof e=="function"?dR(e):(e instanceof IDBTransaction&&hR(e),lR(e,oR())?new Proxy(e,bf):e)}function pi(e){if(e instanceof IDBRequest)return cR(e);if(oh.has(e))return oh.get(e);const t=mR(e);return t!==e&&(oh.set(e,t),Yd.set(t,e)),t}const uh=e=>Yd.get(e);function gR(e,t,{blocked:n,upgrade:i,blocking:a,terminated:r}={}){const s=indexedDB.open(e,t),o=pi(s);return i&&s.addEventListener("upgradeneeded",u=>{i(pi(s.result),u.oldVersion,u.newVersion,pi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const pR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],ch=new Map;function d0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ch.get(t))return ch.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=yR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||pR.includes(n)))return;const r=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return ch.set(t,r),r}fR(e=>({...e,get:(t,n,i)=>d0(t,n)||e.get(t,n,i),has:(t,n)=>!!d0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ER(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Af="@firebase/app",m0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new DT("@firebase/app"),vR="@firebase/app-compat",TR="@firebase/analytics-compat",bR="@firebase/analytics",AR="@firebase/app-check-compat",SR="@firebase/app-check",xR="@firebase/auth",wR="@firebase/auth-compat",RR="@firebase/database",IR="@firebase/data-connect",NR="@firebase/database-compat",CR="@firebase/functions",DR="@firebase/functions-compat",OR="@firebase/installations",MR="@firebase/installations-compat",VR="@firebase/messaging",UR="@firebase/messaging-compat",LR="@firebase/performance",kR="@firebase/performance-compat",jR="@firebase/remote-config",BR="@firebase/remote-config-compat",PR="@firebase/storage",zR="@firebase/storage-compat",HR="@firebase/firestore",GR="@firebase/vertexai-preview",qR="@firebase/firestore-compat",FR="firebase",YR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",KR={[Af]:"fire-core",[vR]:"fire-core-compat",[bR]:"fire-analytics",[TR]:"fire-analytics-compat",[SR]:"fire-app-check",[AR]:"fire-app-check-compat",[xR]:"fire-auth",[wR]:"fire-auth-compat",[RR]:"fire-rtdb",[IR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[CR]:"fire-fn",[DR]:"fire-fn-compat",[OR]:"fire-iid",[MR]:"fire-iid-compat",[VR]:"fire-fcm",[UR]:"fire-fcm-compat",[LR]:"fire-perf",[kR]:"fire-perf-compat",[jR]:"fire-rc",[BR]:"fire-rc-compat",[PR]:"fire-gcs",[zR]:"fire-gcs-compat",[HR]:"fire-fst",[qR]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[FR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,QR=new Map,xf=new Map;function g0(e,t){try{e.container.addComponent(t)}catch(n){zn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lu(e){const t=e.name;if(xf.has(t))return zn.debug(`There were multiple attempts to register component ${t}.`),!1;xf.set(t,e);for(const n of su.values())g0(n,e);for(const n of QR.values())g0(n,e);return!0}function XR(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new CT("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=YR;function VT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw yi.create("bad-app-name",{appName:String(a)});if(n||(n=NT()),!n)throw yi.create("no-options");const r=su.get(a);if(r){if(vf(n,r.options)&&vf(i,r.config))return r;throw yi.create("duplicate-app",{appName:a})}const s=new nR(a);for(const u of xf.values())s.addComponent(u);const o=new JR(n,i,s);return su.set(a,o),o}function WR(e=Sf){const t=su.get(e);if(!t&&e===Sf&&NT())return VT();if(!t)throw yi.create("no-app",{appName:e});return t}function Qa(e,t,n){var i;let a=(i=KR[e])!==null&&i!==void 0?i:e;n&&(a+=`-${n}`);const r=a.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const o=[`Unable to register library "${a}" with version "${t}":`];r&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zn.warn(o.join(" "));return}lu(new Ps(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebase-heartbeat-database",eI=1,zs="firebase-heartbeat-store";let hh=null;function UT(){return hh||(hh=gR(tI,eI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(zs)}catch(n){console.warn(n)}}}}).catch(e=>{throw yi.create("idb-open",{originalErrorMessage:e.message})})),hh}async function nI(e){try{const n=(await UT()).transaction(zs),i=await n.objectStore(zs).get(LT(e));return await n.done,i}catch(t){if(t instanceof Ar)zn.warn(t.message);else{const n=yi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zn.warn(n.message)}}}async function p0(e,t){try{const i=(await UT()).transaction(zs,"readwrite");await i.objectStore(zs).put(t,LT(e)),await i.done}catch(n){if(n instanceof Ar)zn.warn(n.message);else{const i=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(i.message)}}}function LT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1024,aI=30*24*60*60*1e3;class rI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=y0();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=aI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){zn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:i,unsentEntries:a}=sI(this._heartbeatsCache.heartbeats),r=ru(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return zn.warn(n),""}}}function y0(){return new Date().toISOString().substring(0,10)}function sI(e,t=iI){const n=[];let i=e.slice();for(const a of e){const r=n.find(s=>s.agent===a.agent);if(r){if(r.dates.push(a.date),_0(n)>t){r.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),_0(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class lI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qw()?Xw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function _0(e){return ru(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(e){lu(new Ps("platform-logger",t=>new _R(t),"PRIVATE")),lu(new Ps("heartbeat",t=>new rI(t),"PRIVATE")),Qa(Af,m0,e),Qa(Af,m0,"esm2017"),Qa("fire-js","")}oI("");var uI="firebase",cI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(uI,cI,"app");var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,kT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,v){function b(){}b.prototype=v.prototype,T.D=v.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(x,N,D){for(var w=Array(arguments.length-2),j=2;j<arguments.length;j++)w[j-2]=arguments[j];return v.prototype[N].apply(x,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,v,b){b||(b=0);var x=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)x[N]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(N=0;16>N;++N)x[N]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=T.g[0],b=T.g[1],N=T.g[2];var D=T.g[3],w=v+(D^b&(N^D))+x[0]+3614090360&4294967295;v=b+(w<<7&4294967295|w>>>25),w=D+(N^v&(b^N))+x[1]+3905402710&4294967295,D=v+(w<<12&4294967295|w>>>20),w=N+(b^D&(v^b))+x[2]+606105819&4294967295,N=D+(w<<17&4294967295|w>>>15),w=b+(v^N&(D^v))+x[3]+3250441966&4294967295,b=N+(w<<22&4294967295|w>>>10),w=v+(D^b&(N^D))+x[4]+4118548399&4294967295,v=b+(w<<7&4294967295|w>>>25),w=D+(N^v&(b^N))+x[5]+1200080426&4294967295,D=v+(w<<12&4294967295|w>>>20),w=N+(b^D&(v^b))+x[6]+2821735955&4294967295,N=D+(w<<17&4294967295|w>>>15),w=b+(v^N&(D^v))+x[7]+4249261313&4294967295,b=N+(w<<22&4294967295|w>>>10),w=v+(D^b&(N^D))+x[8]+1770035416&4294967295,v=b+(w<<7&4294967295|w>>>25),w=D+(N^v&(b^N))+x[9]+2336552879&4294967295,D=v+(w<<12&4294967295|w>>>20),w=N+(b^D&(v^b))+x[10]+4294925233&4294967295,N=D+(w<<17&4294967295|w>>>15),w=b+(v^N&(D^v))+x[11]+2304563134&4294967295,b=N+(w<<22&4294967295|w>>>10),w=v+(D^b&(N^D))+x[12]+1804603682&4294967295,v=b+(w<<7&4294967295|w>>>25),w=D+(N^v&(b^N))+x[13]+4254626195&4294967295,D=v+(w<<12&4294967295|w>>>20),w=N+(b^D&(v^b))+x[14]+2792965006&4294967295,N=D+(w<<17&4294967295|w>>>15),w=b+(v^N&(D^v))+x[15]+1236535329&4294967295,b=N+(w<<22&4294967295|w>>>10),w=v+(N^D&(b^N))+x[1]+4129170786&4294967295,v=b+(w<<5&4294967295|w>>>27),w=D+(b^N&(v^b))+x[6]+3225465664&4294967295,D=v+(w<<9&4294967295|w>>>23),w=N+(v^b&(D^v))+x[11]+643717713&4294967295,N=D+(w<<14&4294967295|w>>>18),w=b+(D^v&(N^D))+x[0]+3921069994&4294967295,b=N+(w<<20&4294967295|w>>>12),w=v+(N^D&(b^N))+x[5]+3593408605&4294967295,v=b+(w<<5&4294967295|w>>>27),w=D+(b^N&(v^b))+x[10]+38016083&4294967295,D=v+(w<<9&4294967295|w>>>23),w=N+(v^b&(D^v))+x[15]+3634488961&4294967295,N=D+(w<<14&4294967295|w>>>18),w=b+(D^v&(N^D))+x[4]+3889429448&4294967295,b=N+(w<<20&4294967295|w>>>12),w=v+(N^D&(b^N))+x[9]+568446438&4294967295,v=b+(w<<5&4294967295|w>>>27),w=D+(b^N&(v^b))+x[14]+3275163606&4294967295,D=v+(w<<9&4294967295|w>>>23),w=N+(v^b&(D^v))+x[3]+4107603335&4294967295,N=D+(w<<14&4294967295|w>>>18),w=b+(D^v&(N^D))+x[8]+1163531501&4294967295,b=N+(w<<20&4294967295|w>>>12),w=v+(N^D&(b^N))+x[13]+2850285829&4294967295,v=b+(w<<5&4294967295|w>>>27),w=D+(b^N&(v^b))+x[2]+4243563512&4294967295,D=v+(w<<9&4294967295|w>>>23),w=N+(v^b&(D^v))+x[7]+1735328473&4294967295,N=D+(w<<14&4294967295|w>>>18),w=b+(D^v&(N^D))+x[12]+2368359562&4294967295,b=N+(w<<20&4294967295|w>>>12),w=v+(b^N^D)+x[5]+4294588738&4294967295,v=b+(w<<4&4294967295|w>>>28),w=D+(v^b^N)+x[8]+2272392833&4294967295,D=v+(w<<11&4294967295|w>>>21),w=N+(D^v^b)+x[11]+1839030562&4294967295,N=D+(w<<16&4294967295|w>>>16),w=b+(N^D^v)+x[14]+4259657740&4294967295,b=N+(w<<23&4294967295|w>>>9),w=v+(b^N^D)+x[1]+2763975236&4294967295,v=b+(w<<4&4294967295|w>>>28),w=D+(v^b^N)+x[4]+1272893353&4294967295,D=v+(w<<11&4294967295|w>>>21),w=N+(D^v^b)+x[7]+4139469664&4294967295,N=D+(w<<16&4294967295|w>>>16),w=b+(N^D^v)+x[10]+3200236656&4294967295,b=N+(w<<23&4294967295|w>>>9),w=v+(b^N^D)+x[13]+681279174&4294967295,v=b+(w<<4&4294967295|w>>>28),w=D+(v^b^N)+x[0]+3936430074&4294967295,D=v+(w<<11&4294967295|w>>>21),w=N+(D^v^b)+x[3]+3572445317&4294967295,N=D+(w<<16&4294967295|w>>>16),w=b+(N^D^v)+x[6]+76029189&4294967295,b=N+(w<<23&4294967295|w>>>9),w=v+(b^N^D)+x[9]+3654602809&4294967295,v=b+(w<<4&4294967295|w>>>28),w=D+(v^b^N)+x[12]+3873151461&4294967295,D=v+(w<<11&4294967295|w>>>21),w=N+(D^v^b)+x[15]+530742520&4294967295,N=D+(w<<16&4294967295|w>>>16),w=b+(N^D^v)+x[2]+3299628645&4294967295,b=N+(w<<23&4294967295|w>>>9),w=v+(N^(b|~D))+x[0]+4096336452&4294967295,v=b+(w<<6&4294967295|w>>>26),w=D+(b^(v|~N))+x[7]+1126891415&4294967295,D=v+(w<<10&4294967295|w>>>22),w=N+(v^(D|~b))+x[14]+2878612391&4294967295,N=D+(w<<15&4294967295|w>>>17),w=b+(D^(N|~v))+x[5]+4237533241&4294967295,b=N+(w<<21&4294967295|w>>>11),w=v+(N^(b|~D))+x[12]+1700485571&4294967295,v=b+(w<<6&4294967295|w>>>26),w=D+(b^(v|~N))+x[3]+2399980690&4294967295,D=v+(w<<10&4294967295|w>>>22),w=N+(v^(D|~b))+x[10]+4293915773&4294967295,N=D+(w<<15&4294967295|w>>>17),w=b+(D^(N|~v))+x[1]+2240044497&4294967295,b=N+(w<<21&4294967295|w>>>11),w=v+(N^(b|~D))+x[8]+1873313359&4294967295,v=b+(w<<6&4294967295|w>>>26),w=D+(b^(v|~N))+x[15]+4264355552&4294967295,D=v+(w<<10&4294967295|w>>>22),w=N+(v^(D|~b))+x[6]+2734768916&4294967295,N=D+(w<<15&4294967295|w>>>17),w=b+(D^(N|~v))+x[13]+1309151649&4294967295,b=N+(w<<21&4294967295|w>>>11),w=v+(N^(b|~D))+x[4]+4149444226&4294967295,v=b+(w<<6&4294967295|w>>>26),w=D+(b^(v|~N))+x[11]+3174756917&4294967295,D=v+(w<<10&4294967295|w>>>22),w=N+(v^(D|~b))+x[2]+718787259&4294967295,N=D+(w<<15&4294967295|w>>>17),w=b+(D^(N|~v))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+D&4294967295}i.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var b=v-this.blockSize,x=this.B,N=this.h,D=0;D<v;){if(N==0)for(;D<=b;)a(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<v;)if(x[N++]=T.charCodeAt(D++),N==this.blockSize){a(this,x),N=0;break}}else for(;D<v;)if(x[N++]=T[D++],N==this.blockSize){a(this,x),N=0;break}}this.h=N,this.o+=v},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var b=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=b&255,b/=256;for(this.u(T),T=Array(16),v=b=0;4>v;++v)for(var x=0;32>x;x+=8)T[b++]=this.g[v]>>>x&255;return T};function r(T,v){var b=o;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=v(T)}function s(T,v){this.h=v;for(var b=[],x=!0,N=T.length-1;0<=N;N--){var D=T[N]|0;x&&D==v||(b[N]=D,x=!1)}this.g=b}var o={};function u(T){return-128<=T&&128>T?r(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return C(h(-T));for(var v=[],b=1,x=0;T>=b;x++)v[x]=T/b|0,b*=4294967296;return new s(v,0)}function d(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return C(d(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(v,8)),x=p,N=0;N<T.length;N+=8){var D=Math.min(8,T.length-N),w=parseInt(T.substring(N,N+D),v);8>D?(D=h(Math.pow(v,D)),x=x.j(D).add(h(w))):(x=x.j(b),x=x.add(h(w)))}return x}var p=u(0),g=u(1),y=u(16777216);e=s.prototype,e.m=function(){if(R(this))return-C(this).m();for(var T=0,v=1,b=0;b<this.g.length;b++){var x=this.i(b);T+=(0<=x?x:4294967296+x)*v,v*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(R(this))return"-"+C(this).toString(T);for(var v=h(Math.pow(T,6)),b=this,x="";;){var N=M(b,v).g;b=A(b,N.j(v));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=N,I(b))return D+x;for(;6>D.length;)D="0"+D;x=D+x}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function R(T){return T.h==-1}e.l=function(T){return T=A(this,T),R(T)?-1:I(T)?0:1};function C(T){for(var v=T.g.length,b=[],x=0;x<v;x++)b[x]=~T.g[x];return new s(b,~T.h).add(g)}e.abs=function(){return R(this)?C(this):this},e.add=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],x=0,N=0;N<=v;N++){var D=x+(this.i(N)&65535)+(T.i(N)&65535),w=(D>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);x=w>>>16,D&=65535,w&=65535,b[N]=w<<16|D}return new s(b,b[b.length-1]&-2147483648?-1:0)};function A(T,v){return T.add(C(v))}e.j=function(T){if(I(this)||I(T))return p;if(R(this))return R(T)?C(this).j(C(T)):C(C(this).j(T));if(R(T))return C(this.j(C(T)));if(0>this.l(y)&&0>T.l(y))return h(this.m()*T.m());for(var v=this.g.length+T.g.length,b=[],x=0;x<2*v;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<T.g.length;N++){var D=this.i(x)>>>16,w=this.i(x)&65535,j=T.i(N)>>>16,ft=T.i(N)&65535;b[2*x+2*N]+=w*ft,E(b,2*x+2*N),b[2*x+2*N+1]+=D*ft,E(b,2*x+2*N+1),b[2*x+2*N+1]+=w*j,E(b,2*x+2*N+1),b[2*x+2*N+2]+=D*j,E(b,2*x+2*N+2)}for(x=0;x<v;x++)b[x]=b[2*x+1]<<16|b[2*x];for(x=v;x<2*v;x++)b[x]=0;return new s(b,0)};function E(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function S(T,v){this.g=T,this.h=v}function M(T,v){if(I(v))throw Error("division by zero");if(I(T))return new S(p,p);if(R(T))return v=M(C(T),v),new S(C(v.g),C(v.h));if(R(v))return v=M(T,C(v)),new S(C(v.g),v.h);if(30<T.g.length){if(R(T)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var b=g,x=v;0>=x.l(T);)b=P(b),x=P(x);var N=V(b,1),D=V(x,1);for(x=V(x,2),b=V(b,2);!I(x);){var w=D.add(x);0>=w.l(T)&&(N=N.add(b),D=w),x=V(x,1),b=V(b,1)}return v=A(T,N.j(v)),new S(N,v)}for(N=p;0<=T.l(v);){for(b=Math.max(1,Math.floor(T.m()/v.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),D=h(b),w=D.j(v);R(w)||0<w.l(T);)b-=x,D=h(b),w=D.j(v);I(D)&&(D=g),N=N.add(D),T=A(T,w)}return new S(N,T)}e.A=function(T){return M(this,T).h},e.and=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],x=0;x<v;x++)b[x]=this.i(x)&T.i(x);return new s(b,this.h&T.h)},e.or=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],x=0;x<v;x++)b[x]=this.i(x)|T.i(x);return new s(b,this.h|T.h)},e.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],x=0;x<v;x++)b[x]=this.i(x)^T.i(x);return new s(b,this.h^T.h)};function P(T){for(var v=T.g.length+1,b=[],x=0;x<v;x++)b[x]=T.i(x)<<1|T.i(x-1)>>>31;return new s(b,T.h)}function V(T,v){var b=v>>5;v%=32;for(var x=T.g.length-b,N=[],D=0;D<x;D++)N[D]=0<v?T.i(D+b)>>>v|T.i(D+b+1)<<32-v:T.i(D+b);return new s(N,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,kT=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,Ki=s}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var to=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jT,ns,BT,Ao,wf,PT,zT,HT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,c,f){return l==Array.prototype||l==Object.prototype||(l[c]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof to=="object"&&to];for(var c=0;c<l.length;++c){var f=l[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function a(l,c){if(c)t:{var f=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var O=l[_];if(!(O in f))break t;f=f[O]}l=l[l.length-1],_=f[l],c=c(_),c!=_&&c!=null&&t(f,l,{configurable:!0,writable:!0,value:c})}}function r(l,c){l instanceof String&&(l+="");var f=0,_=!1,O={next:function(){if(!_&&f<l.length){var U=f++;return{value:c(U,l[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return r(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function u(l){var c=typeof l;return c=c!="object"?c:l?Array.isArray(l)?"array":c:"null",c=="array"||c=="object"&&typeof l.length=="number"}function h(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function d(l,c,f){return l.call.apply(l.bind,arguments)}function p(l,c,f){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,_),l.apply(c,O)}}return function(){return l.apply(c,arguments)}}function g(l,c,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function y(l,c){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function I(l,c){function f(){}f.prototype=c.prototype,l.aa=c.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(_,O,U){for(var z=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)z[_t-2]=arguments[_t];return c.prototype[O].apply(_,z)}}function R(l){const c=l.length;if(0<c){const f=Array(c);for(let _=0;_<c;_++)f[_]=l[_];return f}return[]}function C(l,c){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const O=l.length||0,U=_.length||0;l.length=O+U;for(let z=0;z<U;z++)l[O+z]=_[z]}else l.push(_)}}class A{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function M(l){return M[" "](l),l}M[" "]=function(){};var P=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(l,c,f){for(const _ in l)c.call(f,l[_],_,l)}function T(l,c){for(const f in l)c.call(void 0,l[f],f,l)}function v(l){const c={};for(const f in l)c[f]=l[f];return c}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,c){let f,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(f in _)l[f]=_[f];for(let U=0;U<b.length;U++)f=b[U],Object.prototype.hasOwnProperty.call(_,f)&&(l[f]=_[f])}}function N(l){var c=1;l=l.split(":");const f=[];for(;0<c&&l.length;)f.push(l.shift()),c--;return l.length&&f.push(l.join(":")),f}function D(l){o.setTimeout(()=>{throw l},0)}function w(){var l=Tt;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class j{constructor(){this.h=this.g=null}add(c,f){const _=ft.get();_.set(c,f),this.h?this.h.next=_:this.g=_,this.h=_}}var ft=new A(()=>new H,l=>l.reset());class H{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let F,X=!1,Tt=new j,Vt=()=>{const l=o.Promise.resolve(void 0);F=()=>{l.then(ca)}};var ca=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(f){D(f)}var c=ft;c.j(l),100>c.h&&(c.h++,l.next=c.g,c.g=l)}X=!1};function De(){this.s=this.s,this.C=this.C}De.prototype.s=!1,De.prototype.ma=function(){this.s||(this.s=!0,this.N())},De.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function jt(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var En=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};o.addEventListener("test",f,c),o.removeEventListener("test",f,c)}catch{}return l}();function ln(l,c){if(jt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget){if(P){t:{try{M(c.nodeName);var O=!0;break t}catch{}O=!1}O||(c=null)}}else f=="mouseover"?c=l.fromElement:f=="mouseout"&&(c=l.toElement);this.relatedTarget=c,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:nA[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ln.aa.h.call(this)}}I(ln,jt);var nA={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ml="closure_listenable_"+(1e6*Math.random()|0),iA=0;function aA(l,c,f,_,O){this.listener=l,this.proxy=null,this.src=c,this.type=f,this.capture=!!_,this.ha=O,this.key=++iA,this.da=this.fa=!1}function gl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function pl(l){this.src=l,this.g={},this.h=0}pl.prototype.add=function(l,c,f,_,O){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var z=tc(l,c,_,O);return-1<z?(c=l[z],f||(c.fa=!1)):(c=new aA(c,this.src,U,!!_,O),c.fa=f,l.push(c)),c};function Wu(l,c){var f=c.type;if(f in l.g){var _=l.g[f],O=Array.prototype.indexOf.call(_,c,void 0),U;(U=0<=O)&&Array.prototype.splice.call(_,O,1),U&&(gl(c),l.g[f].length==0&&(delete l.g[f],l.h--))}}function tc(l,c,f,_){for(var O=0;O<l.length;++O){var U=l[O];if(!U.da&&U.listener==c&&U.capture==!!f&&U.ha==_)return O}return-1}var ec="closure_lm_"+(1e6*Math.random()|0),nc={};function Sm(l,c,f,_,O){if(Array.isArray(c)){for(var U=0;U<c.length;U++)Sm(l,c[U],f,_,O);return null}return f=Rm(f),l&&l[ml]?l.K(c,f,h(_)?!!_.capture:!1,O):rA(l,c,f,!1,_,O)}function rA(l,c,f,_,O,U){if(!c)throw Error("Invalid event type");var z=h(O)?!!O.capture:!!O,_t=ac(l);if(_t||(l[ec]=_t=new pl(l)),f=_t.add(c,f,_,z,U),f.proxy)return f;if(_=sA(),f.proxy=_,_.src=l,_.listener=f,l.addEventListener)En||(O=z),O===void 0&&(O=!1),l.addEventListener(c.toString(),_,O);else if(l.attachEvent)l.attachEvent(wm(c.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function sA(){function l(f){return c.call(l.src,l.listener,f)}const c=lA;return l}function xm(l,c,f,_,O){if(Array.isArray(c))for(var U=0;U<c.length;U++)xm(l,c[U],f,_,O);else _=h(_)?!!_.capture:!!_,f=Rm(f),l&&l[ml]?(l=l.i,c=String(c).toString(),c in l.g&&(U=l.g[c],f=tc(U,f,_,O),-1<f&&(gl(U[f]),Array.prototype.splice.call(U,f,1),U.length==0&&(delete l.g[c],l.h--)))):l&&(l=ac(l))&&(c=l.g[c.toString()],l=-1,c&&(l=tc(c,f,_,O)),(f=-1<l?c[l]:null)&&ic(f))}function ic(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[ml])Wu(c.i,l);else{var f=l.type,_=l.proxy;c.removeEventListener?c.removeEventListener(f,_,l.capture):c.detachEvent?c.detachEvent(wm(f),_):c.addListener&&c.removeListener&&c.removeListener(_),(f=ac(c))?(Wu(f,l),f.h==0&&(f.src=null,c[ec]=null)):gl(l)}}}function wm(l){return l in nc?nc[l]:nc[l]="on"+l}function lA(l,c){if(l.da)l=!0;else{c=new ln(c,this);var f=l.listener,_=l.ha||l.src;l.fa&&ic(l),l=f.call(_,c)}return l}function ac(l){return l=l[ec],l instanceof pl?l:null}var rc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(l){return typeof l=="function"?l:(l[rc]||(l[rc]=function(c){return l.handleEvent(c)}),l[rc])}function ue(){De.call(this),this.i=new pl(this),this.M=this,this.F=null}I(ue,De),ue.prototype[ml]=!0,ue.prototype.removeEventListener=function(l,c,f,_){xm(this,l,c,f,_)};function ge(l,c){var f,_=l.F;if(_)for(f=[];_;_=_.F)f.push(_);if(l=l.M,_=c.type||c,typeof c=="string")c=new jt(c,l);else if(c instanceof jt)c.target=c.target||l;else{var O=c;c=new jt(_,l),x(c,O)}if(O=!0,f)for(var U=f.length-1;0<=U;U--){var z=c.g=f[U];O=yl(z,_,!0,c)&&O}if(z=c.g=l,O=yl(z,_,!0,c)&&O,O=yl(z,_,!1,c)&&O,f)for(U=0;U<f.length;U++)z=c.g=f[U],O=yl(z,_,!1,c)&&O}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var l=this.i,c;for(c in l.g){for(var f=l.g[c],_=0;_<f.length;_++)gl(f[_]);delete l.g[c],l.h--}}this.F=null},ue.prototype.K=function(l,c,f,_){return this.i.add(String(l),c,!1,f,_)},ue.prototype.L=function(l,c,f,_){return this.i.add(String(l),c,!0,f,_)};function yl(l,c,f,_){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();for(var O=!0,U=0;U<c.length;++U){var z=c[U];if(z&&!z.da&&z.capture==f){var _t=z.listener,Zt=z.ha||z.src;z.fa&&Wu(l.i,z),O=_t.call(Zt,_)!==!1&&O}}return O&&!_.defaultPrevented}function Im(l,c,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:o.setTimeout(l,c||0)}function Nm(l){l.g=Im(()=>{l.g=null,l.i&&(l.i=!1,Nm(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class oA extends De{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Nm(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(l){De.call(this),this.h=l,this.g={}}I(Rr,De);var Cm=[];function Dm(l){V(l.g,function(c,f){this.g.hasOwnProperty(f)&&ic(c)},l),l.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Dm(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sc=o.JSON.stringify,uA=o.JSON.parse,cA=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function lc(){}lc.prototype.h=null;function Om(l){return l.h||(l.h=l.i())}function Mm(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oc(){jt.call(this,"d")}I(oc,jt);function uc(){jt.call(this,"c")}I(uc,jt);var Ci={},Vm=null;function _l(){return Vm=Vm||new ue}Ci.La="serverreachability";function Um(l){jt.call(this,Ci.La,l)}I(Um,jt);function Nr(l){const c=_l();ge(c,new Um(c))}Ci.STAT_EVENT="statevent";function Lm(l,c){jt.call(this,Ci.STAT_EVENT,l),this.stat=c}I(Lm,jt);function pe(l){const c=_l();ge(c,new Lm(c,l))}Ci.Ma="timingevent";function km(l,c){jt.call(this,Ci.Ma,l),this.size=c}I(km,jt);function Cr(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},c)}function Dr(){this.g=!0}Dr.prototype.xa=function(){this.g=!1};function hA(l,c,f,_,O,U){l.info(function(){if(l.g)if(U)for(var z="",_t=U.split("&"),Zt=0;Zt<_t.length;Zt++){var ot=_t[Zt].split("=");if(1<ot.length){var ce=ot[0];ot=ot[1];var he=ce.split("_");z=2<=he.length&&he[1]=="type"?z+(ce+"="+ot+"&"):z+(ce+"=redacted&")}}else z=null;else z=U;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+c+`
`+f+`
`+z})}function fA(l,c,f,_,O,U,z){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+c+`
`+f+`
`+U+" "+z})}function ha(l,c,f,_){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+mA(l,f)+(_?" "+_:"")})}function dA(l,c){l.info(function(){return"TIMEOUT: "+c})}Dr.prototype.info=function(){};function mA(l,c){if(!l.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var _=f[l];if(!(2>_.length)){var O=_[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return sc(f)}catch{return c}}var El={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cc;function vl(){}I(vl,lc),vl.prototype.g=function(){return new XMLHttpRequest},vl.prototype.i=function(){return{}},cc=new vl;function Fn(l,c,f,_){this.j=l,this.i=c,this.l=f,this.R=_||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bm}function Bm(){this.i=null,this.g="",this.h=!1}var Pm={},hc={};function fc(l,c,f){l.L=1,l.v=Sl(vn(c)),l.m=f,l.P=!0,zm(l,null)}function zm(l,c){l.F=Date.now(),Tl(l),l.A=vn(l.v);var f=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),eg(f.i,"t",_),l.C=0,f=l.j.J,l.h=new Bm,l.g=Eg(l.j,f?c:null,!l.m),0<l.O&&(l.M=new oA(g(l.Y,l,l.g),l.O)),c=l.U,f=l.g,_=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Cm[0]=O.toString()),O=Cm);for(var U=0;U<O.length;U++){var z=Sm(f,O[U],_||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,c)):(l.u="GET",l.g.ea(l.A,l.u,null,c)),Nr(),hA(l.i,l.u,l.A,l.l,l.R,l.m)}Fn.prototype.ca=function(l){l=l.target;const c=this.M;c&&Tn(l)==3?c.j():this.Y(l)},Fn.prototype.Y=function(l){try{if(l==this.g)t:{const he=Tn(this.g);var c=this.g.Ba();const ma=this.g.Z();if(!(3>he)&&(he!=3||this.g&&(this.h.h||this.g.oa()||og(this.g)))){this.J||he!=4||c==7||(c==8||0>=ma?Nr(3):Nr(2)),dc(this);var f=this.g.Z();this.X=f;e:if(Hm(this)){var _=og(this.g);l="";var O=_.length,U=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),Or(this);var z="";break e}this.h.i=new o.TextDecoder}for(c=0;c<O;c++)this.h.h=!0,l+=this.h.i.decode(_[c],{stream:!(U&&c==O-1)});_.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,fA(this.i,this.u,this.A,this.l,this.R,he,f),this.o){if(this.T&&!this.K){e:{if(this.g){var _t,Zt=this.g;if((_t=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(_t)){var ot=_t;break e}}ot=null}if(f=ot)ha(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mc(this,f);else{this.o=!1,this.s=3,pe(12),Di(this),Or(this);break t}}if(this.P){f=!0;let nn;for(;!this.J&&this.C<z.length;)if(nn=gA(this,z),nn==hc){he==4&&(this.s=4,pe(14),f=!1),ha(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Pm){this.s=4,pe(15),ha(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else ha(this.i,this.l,nn,null),mc(this,nn);if(Hm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||z.length!=0||this.h.h||(this.s=1,pe(16),f=!1),this.o=this.o&&f,!f)ha(this.i,this.l,z,"[Invalid Chunked Response]"),Di(this),Or(this);else if(0<z.length&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.ba&&!ce.M&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),vc(ce),ce.M=!0,pe(11))}}else ha(this.i,this.l,z,null),mc(this,z);he==4&&Di(this),this.o&&!this.J&&(he==4?gg(this.j,this):(this.o=!1,Tl(this)))}else OA(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),Di(this),Or(this)}}}catch{}finally{}};function Hm(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function gA(l,c){var f=l.C,_=c.indexOf(`
`,f);return _==-1?hc:(f=Number(c.substring(f,_)),isNaN(f)?Pm:(_+=1,_+f>c.length?hc:(c=c.slice(_,_+f),l.C=_+f,c)))}Fn.prototype.cancel=function(){this.J=!0,Di(this)};function Tl(l){l.S=Date.now()+l.I,Gm(l,l.I)}function Gm(l,c){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Cr(g(l.ba,l),c)}function dc(l){l.B&&(o.clearTimeout(l.B),l.B=null)}Fn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(dA(this.i,this.A),this.L!=2&&(Nr(),pe(17)),Di(this),this.s=2,Or(this)):Gm(this,this.S-l)};function Or(l){l.j.G==0||l.J||gg(l.j,l)}function Di(l){dc(l);var c=l.M;c&&typeof c.ma=="function"&&c.ma(),l.M=null,Dm(l.U),l.g&&(c=l.g,l.g=null,c.abort(),c.ma())}function mc(l,c){try{var f=l.j;if(f.G!=0&&(f.g==l||gc(f.h,l))){if(!l.K&&gc(f.h,l)&&f.G==3){try{var _=f.Da.g.parse(c)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Cl(f),Il(f);else break t;Ec(f),pe(18)}}else f.za=O[1],0<f.za-f.T&&37500>O[2]&&f.F&&f.v==0&&!f.C&&(f.C=Cr(g(f.Za,f),6e3));if(1>=Ym(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Mi(f,11)}else if((l.K||f.g==l)&&Cl(f),!E(c))for(O=f.Da.g.parse(c),c=0;c<O.length;c++){let ot=O[c];if(f.T=ot[0],ot=ot[1],f.G==2)if(ot[0]=="c"){f.K=ot[1],f.ia=ot[2];const ce=ot[3];ce!=null&&(f.la=ce,f.j.info("VER="+f.la));const he=ot[4];he!=null&&(f.Aa=he,f.j.info("SVER="+f.Aa));const ma=ot[5];ma!=null&&typeof ma=="number"&&0<ma&&(_=1.5*ma,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const nn=l.g;if(nn){const Ol=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var U=_.h;U.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(pc(U,U.h),U.h=null))}if(_.D){const Tc=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tc&&(_.ya=Tc,bt(_.I,_.D,Tc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var z=l;if(_.qa=_g(_,_.J?_.ia:null,_.W),z.K){Km(_.h,z);var _t=z,Zt=_.L;Zt&&(_t.I=Zt),_t.B&&(dc(_t),Tl(_t)),_.g=z}else dg(_);0<f.i.length&&Nl(f)}else ot[0]!="stop"&&ot[0]!="close"||Mi(f,7);else f.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Mi(f,7):_c(f):ot[0]!="noop"&&f.l&&f.l.ta(ot),f.v=0)}}Nr(4)}catch{}}var pA=class{constructor(l,c){this.g=l,this.map=c}};function qm(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ym(l){return l.h?1:l.g?l.g.size:0}function gc(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function pc(l,c){l.g?l.g.add(c):l.h=c}function Km(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}qm.prototype.cancel=function(){if(this.i=Qm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Qm(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const f of l.g.values())c=c.concat(f.D);return c}return R(l.i)}function yA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var c=[],f=l.length,_=0;_<f;_++)c.push(l[_]);return c}c=[],f=0;for(_ in l)c[f++]=l[_];return c}function _A(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var c=[];l=l.length;for(var f=0;f<l;f++)c.push(f);return c}c=[],f=0;for(const _ in l)c[f++]=_;return c}}}function Xm(l,c){if(l.forEach&&typeof l.forEach=="function")l.forEach(c,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,c,void 0);else for(var f=_A(l),_=yA(l),O=_.length,U=0;U<O;U++)c.call(void 0,_[U],f&&f[U],l)}var $m=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EA(l,c){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var _=l[f].indexOf("="),O=null;if(0<=_){var U=l[f].substring(0,_);O=l[f].substring(_+1)}else U=l[f];c(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Oi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Oi){this.h=l.h,bl(this,l.j),this.o=l.o,this.g=l.g,Al(this,l.s),this.l=l.l;var c=l.i,f=new Ur;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Jm(this,f),this.m=l.m}else l&&(c=String(l).match($m))?(this.h=!1,bl(this,c[1]||"",!0),this.o=Mr(c[2]||""),this.g=Mr(c[3]||"",!0),Al(this,c[4]),this.l=Mr(c[5]||"",!0),Jm(this,c[6]||"",!0),this.m=Mr(c[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Oi.prototype.toString=function(){var l=[],c=this.j;c&&l.push(Vr(c,Zm,!0),":");var f=this.g;return(f||c=="file")&&(l.push("//"),(c=this.o)&&l.push(Vr(c,Zm,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Vr(f,f.charAt(0)=="/"?bA:TA,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Vr(f,SA)),l.join("")};function vn(l){return new Oi(l)}function bl(l,c,f){l.j=f?Mr(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function Al(l,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);l.s=c}else l.s=null}function Jm(l,c,f){c instanceof Ur?(l.i=c,xA(l.i,l.h)):(f||(c=Vr(c,AA)),l.i=new Ur(c,l.h))}function bt(l,c,f){l.i.set(c,f)}function Sl(l){return bt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Mr(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vr(l,c,f){return typeof l=="string"?(l=encodeURI(l).replace(c,vA),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function vA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zm=/[#\/\?@]/g,TA=/[#\?:]/g,bA=/[#\?]/g,AA=/[#\?@]/g,SA=/#/g;function Ur(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function Yn(l){l.g||(l.g=new Map,l.h=0,l.i&&EA(l.i,function(c,f){l.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Ur.prototype,e.add=function(l,c){Yn(this),this.i=null,l=fa(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(c),this.h+=1,this};function Wm(l,c){Yn(l),c=fa(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function tg(l,c){return Yn(l),c=fa(l,c),l.g.has(c)}e.forEach=function(l,c){Yn(this),this.g.forEach(function(f,_){f.forEach(function(O){l.call(c,O,_,this)},this)},this)},e.na=function(){Yn(this);const l=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let _=0;_<c.length;_++){const O=l[_];for(let U=0;U<O.length;U++)f.push(c[_])}return f},e.V=function(l){Yn(this);let c=[];if(typeof l=="string")tg(this,l)&&(c=c.concat(this.g.get(fa(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)c=c.concat(l[f])}return c},e.set=function(l,c){return Yn(this),this.i=null,l=fa(this,l),tg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=this.V(l),0<l.length?String(l[0]):c):c};function eg(l,c,f){Wm(l,c),0<f.length&&(l.i=null,l.g.set(fa(l,c),R(f)),l.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var _=c[f];const U=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var O=U;z[_]!==""&&(O+="="+encodeURIComponent(String(z[_]))),l.push(O)}}return this.i=l.join("&")};function fa(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function xA(l,c){c&&!l.j&&(Yn(l),l.i=null,l.g.forEach(function(f,_){var O=_.toLowerCase();_!=O&&(Wm(this,_),eg(this,O,f))},l)),l.j=c}function wA(l,c){const f=new Dr;if(o.Image){const _=new Image;_.onload=y(Kn,f,"TestLoadImage: loaded",!0,c,_),_.onerror=y(Kn,f,"TestLoadImage: error",!1,c,_),_.onabort=y(Kn,f,"TestLoadImage: abort",!1,c,_),_.ontimeout=y(Kn,f,"TestLoadImage: timeout",!1,c,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else c(!1)}function RA(l,c){const f=new Dr,_=new AbortController,O=setTimeout(()=>{_.abort(),Kn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:_.signal}).then(U=>{clearTimeout(O),U.ok?Kn(f,"TestPingServer: ok",!0,c):Kn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(O),Kn(f,"TestPingServer: error",!1,c)})}function Kn(l,c,f,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(f)}catch{}}function IA(){this.g=new cA}function NA(l,c,f){const _=f||"";try{Xm(l,function(O,U){let z=O;h(O)&&(z=sc(O)),c.push(_+U+"="+encodeURIComponent(z))})}catch(O){throw c.push(_+"type="+encodeURIComponent("_badmap")),O}}function xl(l){this.l=l.Ub||null,this.j=l.eb||!1}I(xl,lc),xl.prototype.g=function(){return new wl(this.l,this.j)},xl.prototype.i=function(l){return function(){return l}}({});function wl(l,c){ue.call(this),this.D=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(wl,ue),e=wl.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=c,this.readyState=1,kr(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(c.body=l),(this.D||o).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ng(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ng(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?Lr(this):kr(this),this.readyState==3&&ng(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Lr(this))},e.Qa=function(l){this.g&&(this.response=l,Lr(this))},e.ga=function(){this.g&&Lr(this)};function Lr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,kr(l)}e.setRequestHeader=function(l,c){this.u.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=c.next();return l.join(`\r
`)};function kr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ig(l){let c="";return V(l,function(f,_){c+=_,c+=":",c+=f,c+=`\r
`}),c}function yc(l,c,f){t:{for(_ in f){var _=!1;break t}_=!0}_||(f=ig(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):bt(l,c,f))}function Ct(l){ue.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ct,ue);var CA=/^https?$/i,DA=["POST","PUT"];e=Ct.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,c,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cc.g(),this.v=this.o?Om(this.o):Om(cc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(U){ag(this,U);return}if(l=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)f.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const U of _.keys())f.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(U=>U.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(DA,c,void 0))||_||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,z]of f)this.g.setRequestHeader(U,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lg(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){ag(this,U)}};function ag(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.m=5,rg(l),Rl(l)}function rg(l){l.A||(l.A=!0,ge(l,"complete"),ge(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ge(this,"complete"),ge(this,"abort"),Rl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rl(this,!0)),Ct.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?sg(this):this.bb())},e.bb=function(){sg(this)};function sg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Tn(l)!=4||l.Z()!=2)){if(l.u&&Tn(l)==4)Im(l.Ea,0,l);else if(ge(l,"readystatechange"),Tn(l)==4){l.h=!1;try{const z=l.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var _;if(_=z===0){var O=String(l.D).match($m)[1]||null;!O&&o.self&&o.self.location&&(O=o.self.location.protocol.slice(0,-1)),_=!CA.test(O?O.toLowerCase():"")}f=_}if(f)ge(l,"complete"),ge(l,"success");else{l.m=6;try{var U=2<Tn(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",rg(l)}}finally{Rl(l)}}}}function Rl(l,c){if(l.g){lg(l);const f=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,c||ge(l,"ready");try{f.onreadystatechange=_}catch{}}}function lg(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function Tn(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),uA(c)}};function og(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function OA(l){const c={};l=(l.g&&2<=Tn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(E(l[_]))continue;var f=N(l[_]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const U=c[O]||[];c[O]=U,U.push(f)}T(c,function(_){return _.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(l,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||c}function ug(l){this.Aa=0,this.i=[],this.j=new Dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,l),this.cb=jr("retryDelaySeedMs",1e4,l),this.Wa=jr("forwardChannelMaxRetries",2,l),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new qm(l&&l.concurrentRequestLimit),this.Da=new IA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ug.prototype,e.la=8,e.G=1,e.connect=function(l,c,f,_){pe(0),this.W=l,this.H=c||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=_g(this,null,this.W),Nl(this)};function _c(l){if(cg(l),l.G==3){var c=l.U++,f=vn(l.I);if(bt(f,"SID",l.K),bt(f,"RID",c),bt(f,"TYPE","terminate"),Br(l,f),c=new Fn(l,l.j,c),c.L=2,c.v=Sl(vn(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&o.Image&&(new Image().src=c.v,f=!0),f||(c.g=Eg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Tl(c)}yg(l)}function Il(l){l.g&&(vc(l),l.g.cancel(),l.g=null)}function cg(l){Il(l),l.u&&(o.clearTimeout(l.u),l.u=null),Cl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function Nl(l){if(!Fm(l.h)&&!l.s){l.s=!0;var c=l.Ga;F||Vt(),X||(F(),X=!0),Tt.add(c,l),l.B=0}}function MA(l,c){return Ym(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=c.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Cr(g(l.Ga,l,c),pg(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Fn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=v(U),x(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break e}_=void 0}if(_===void 0)break;if(c+=_,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=fg(this,O,c),f=vn(this.I),bt(f,"RID",l),bt(f,"CVER",22),this.D&&bt(f,"X-HTTP-Session-Id",this.D),Br(this,f),U&&(this.O?c="headers="+encodeURIComponent(String(ig(U)))+"&"+c:this.m&&yc(f,this.m,U)),pc(this.h,O),this.Ua&&bt(f,"TYPE","init"),this.P?(bt(f,"$req",c),bt(f,"SID","null"),O.T=!0,fc(O,f,null)):fc(O,f,c),this.G=2}}else this.G==3&&(l?hg(this,l):this.i.length==0||Fm(this.h)||hg(this))};function hg(l,c){var f;c?f=c.l:f=l.U++;const _=vn(l.I);bt(_,"SID",l.K),bt(_,"RID",f),bt(_,"AID",l.T),Br(l,_),l.m&&l.o&&yc(_,l.m,l.o),f=new Fn(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),c&&(l.i=c.D.concat(l.i)),c=fg(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),pc(l.h,f),fc(f,_,c)}function Br(l,c){l.H&&V(l.H,function(f,_){bt(c,_,f)}),l.l&&Xm({},function(f,_){bt(c,_,f)})}function fg(l,c,f){f=Math.min(l.i.length,f);var _=l.l?g(l.l.Na,l.l,l):null;t:{var O=l.i;let U=-1;for(;;){const z=["count="+f];U==-1?0<f?(U=O[0].g,z.push("ofs="+U)):U=0:z.push("ofs="+U);let _t=!0;for(let Zt=0;Zt<f;Zt++){let ot=O[Zt].g;const ce=O[Zt].map;if(ot-=U,0>ot)U=Math.max(0,O[Zt].g-100),_t=!1;else try{NA(ce,z,"req"+ot+"_")}catch{_&&_(ce)}}if(_t){_=z.join("&");break t}}}return l=l.i.splice(0,f),c.D=l,_}function dg(l){if(!l.g&&!l.u){l.Y=1;var c=l.Fa;F||Vt(),X||(F(),X=!0),Tt.add(c,l),l.v=0}}function Ec(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Cr(g(l.Fa,l),pg(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,mg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Cr(g(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),Il(this),mg(this))};function vc(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function mg(l){l.g=new Fn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var c=vn(l.qa);bt(c,"RID","rpc"),bt(c,"SID",l.K),bt(c,"AID",l.T),bt(c,"CI",l.F?"0":"1"),!l.F&&l.ja&&bt(c,"TO",l.ja),bt(c,"TYPE","xmlhttp"),Br(l,c),l.m&&l.o&&yc(c,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Sl(vn(c)),f.m=null,f.P=!0,zm(f,l)}e.Za=function(){this.C!=null&&(this.C=null,Il(this),Ec(this),pe(19))};function Cl(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function gg(l,c){var f=null;if(l.g==c){Cl(l),vc(l),l.g=null;var _=2}else if(gc(l.h,c))f=c.D,Km(l.h,c),_=1;else return;if(l.G!=0){if(c.o)if(_==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var O=l.B;_=_l(),ge(_,new km(_,f)),Nl(l)}else dg(l);else if(O=c.s,O==3||O==0&&0<c.X||!(_==1&&MA(l,c)||_==2&&Ec(l)))switch(f&&0<f.length&&(c=l.h,c.i=c.i.concat(f)),O){case 1:Mi(l,5);break;case 4:Mi(l,10);break;case 3:Mi(l,6);break;default:Mi(l,2)}}}function pg(l,c){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*c}function Mi(l,c){if(l.j.info("Error code "+c),c==2){var f=g(l.fb,l),_=l.Xa;const O=!_;_=new Oi(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||bl(_,"https"),Sl(_),O?wA(_.toString(),f):RA(_.toString(),f)}else pe(2);l.G=0,l.l&&l.l.sa(c),yg(l),cg(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function yg(l){if(l.G=0,l.ka=[],l.l){const c=Qm(l.h);(c.length!=0||l.i.length!=0)&&(C(l.ka,c),C(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function _g(l,c,f){var _=f instanceof Oi?vn(f):new Oi(f);if(_.g!="")c&&(_.g=c+"."+_.g),Al(_,_.s);else{var O=o.location;_=O.protocol,c=c?c+"."+O.hostname:O.hostname,O=+O.port;var U=new Oi(null);_&&bl(U,_),c&&(U.g=c),O&&Al(U,O),f&&(U.l=f),_=U}return f=l.D,c=l.ya,f&&c&&bt(_,f,c),bt(_,"VER",l.la),Br(l,_),_}function Eg(l,c,f){if(c&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Ca&&!l.pa?new Ct(new xl({eb:f})):new Ct(l.pa),c.Ha(l.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vg(){}e=vg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Dl(){}Dl.prototype.g=function(l,c){return new Oe(l,c)};function Oe(l,c){ue.call(this),this.g=new ug(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(l?l["X-WebChannel-Client-Profile"]=c.va:l={"X-WebChannel-Client-Profile":c.va}),this.g.S=l,(l=c&&c.Sb)&&!E(l)&&(this.g.m=l),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new da(this)}I(Oe,ue),Oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oe.prototype.close=function(){_c(this.g)},Oe.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=sc(l),l=f);c.i.push(new pA(c.Ya++,l)),c.G==3&&Nl(c)},Oe.prototype.N=function(){this.g.l=null,delete this.j,_c(this.g),delete this.g,Oe.aa.N.call(this)};function Tg(l){oc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const f in c){l=f;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}I(Tg,oc);function bg(){uc.call(this),this.status=1}I(bg,uc);function da(l){this.g=l}I(da,vg),da.prototype.ua=function(){ge(this.g,"a")},da.prototype.ta=function(l){ge(this.g,new Tg(l))},da.prototype.sa=function(l){ge(this.g,new bg)},da.prototype.ra=function(){ge(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,Oe.prototype.send=Oe.prototype.o,Oe.prototype.open=Oe.prototype.m,Oe.prototype.close=Oe.prototype.close,HT=function(){return new Dl},zT=function(){return _l()},PT=Ci,wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Ao=El,jm.COMPLETE="complete",BT=jm,Mm.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",ue.prototype.listen=ue.prototype.K,ns=Mm,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,jT=Ct}).apply(typeof to<"u"?to:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}de.UNAUTHENTICATED=new de(null),de.GOOGLE_CREDENTIALS=new de("google-credentials-uid"),de.FIRST_PARTY=new de("first-party-uid"),de.MOCK_USER=new de("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new DT("@firebase/firestore");function Qr(){return ta.logLevel}function G(e,...t){if(ta.logLevel<=lt.DEBUG){const n=t.map(Kd);ta.debug(`Firestore (${Sr}): ${e}`,...n)}}function Hn(e,...t){if(ta.logLevel<=lt.ERROR){const n=t.map(Kd);ta.error(`Firestore (${Sr}): ${e}`,...n)}}function or(e,...t){if(ta.logLevel<=lt.WARN){const n=t.map(Kd);ta.warn(`Firestore (${Sr}): ${e}`,...n)}}function Kd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+e;throw Hn(t),new Error(t)}function gt(e,t){e||Q()}function J(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(de.UNAUTHENTICATED))}shutdown(){}}class fI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dI{constructor(t){this.t=t,this.currentUser=de.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){gt(this.o===void 0);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Qi,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Qi)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt(typeof i.accessToken=="string"),new GT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return gt(t===null||typeof t=="string"),new de(t)}}class mI{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=de.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gI{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new mI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(de.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yI{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){gt(this.o===void 0);const i=r=>{r.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const s=r.token!==this.R;return this.R=r.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const a=r=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>a(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?a(r):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(gt(typeof n.token=="string"),this.R=n.token,new pI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const a=_I(40);for(let r=0;r<a.length;++r)i.length<20&&a[r]<n&&(i+=t.charAt(a[r]%t.length))}return i}}function ut(e,t){return e<t?-1:e>t?1:0}function ur(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Yt.fromMillis(Date.now())}static fromDate(t){return Yt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Yt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ut(this.nanoseconds,t.nanoseconds):ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.timestamp=t}static fromTimestamp(t){return new $(t)}static min(){return new $(new Yt(0,0))}static max(){return new $(new Yt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(),i===void 0?i=t.length-n:i>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Hs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Hs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const r=t.get(a),s=n.get(a);if(r<s)return-1;if(r>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Mt extends Hs{construct(t,n,i){return new Mt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends Hs{construct(t,n,i){return new ie(t,n,i)}static isValidIdentifier(t){return EI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ie(["__name__"])}static fromServerFormat(t){const n=[];let i="",a=0;const r=()=>{if(i.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(i+=o,a++):(r(),a++)}if(r(),s)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ie(n)}static emptyPath(){return new ie([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.path=t}static fromPath(t){return new Y(Mt.fromString(t))}static fromName(t){return new Y(Mt.fromString(t).popFirst(5))}static empty(){return new Y(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Mt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Y(new Mt(t.slice()))}}function vI(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=$.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new Si(a,Y.empty(),t)}function TI(e){return new Si(e.readTime,e.key,-1)}class Si{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Si($.min(),Y.empty(),-1)}static max(){return new Si($.max(),Y.empty(),-1)}}function bI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Y.comparator(e.documentKey,t.documentKey),n!==0?n:ut(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==AI)throw e;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,a)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,a)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let a=0,r=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++r,s&&r===a&&n()},u=>i(u))}),s=!0,r===a&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(a=>a?k.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,r)=>{i.push(n.call(this,a,r))}),this.waitFor(i)}static mapArray(t,n){return new k((i,a)=>{const r=t.length,s=new Array(r);let o=0;for(let u=0;u<r;u++){const h=u;n(t[h]).next(d=>{s[h]=d,++o,o===r&&i(s)},d=>a(d))}})}static doWhile(t,n){return new k((i,a)=>{const r=()=>{t()===!0?n().next(()=>{r()},a):i()};r()})}}function xI(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Qd.oe=-1;function Bu(e){return e==null}function ou(e){return e===0&&1/e==-1/0}function wI(e){return typeof e=="number"&&Number.isInteger(e)&&!ou(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function FT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,n){this.comparator=t,this.root=n||te.EMPTY}insert(t,n){return new Nt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,te.BLACK,null,null))}remove(t){return new Nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eo(this.root,t,this.comparator,!1)}getReverseIterator(){return new eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eo(this.root,t,this.comparator,!0)}}class eo{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&a&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class te{constructor(t,n,i,a,r){this.key=t,this.value=n,this.color=i??te.RED,this.left=a??te.EMPTY,this.right=r??te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,r){return new te(t??this.key,n??this.value,i??this.color,a??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const r=i(t,a.key);return a=r<0?a.copy(null,null,null,a.left.insert(t,n,i),null):r===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return te.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}te.EMPTY=null,te.RED=!0,te.BLACK=!1;te.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,i,a,r){return this}insert(t,n,i){return new te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.comparator=t,this.data=new Nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(t){return new b0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof se)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(this.comparator(a,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new se(this.comparator);return n.data=t,n}}class b0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.fields=t,t.sort(ie.comparator)}static empty(){return new ke([])}unionWith(t){let n=new se(ie.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ke(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ur(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new YT("Invalid base64 string: "+r):r}}(t);return new le(n)}static fromUint8Array(t){const n=function(a){let r="";for(let s=0;s<a.length;++s)r+=String.fromCharCode(a[s]);return r}(t);return new le(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}le.EMPTY_BYTE_STRING=new le("");const RI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(e){if(gt(!!e),typeof e=="string"){let t=0;const n=RI.exec(e);if(gt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ea(e){return typeof e=="string"?le.fromBase64String(e):le.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $d(e){const t=e.mapValue.fields.__previous_value__;return Xd(t)?$d(t):t}function Gs(e){const t=xi(e.mapValue.fields.__local_write_time__.timestampValue);return new Yt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n,i,a,r,s,o,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h}}class qs{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no={mapValue:{}};function na(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xd(e)?4:CI(e)?9007199254740991:NI(e)?10:11:Q()}function gn(e,t){if(e===t)return!0;const n=na(e);if(n!==na(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gs(e).isEqual(Gs(t));case 3:return function(a,r){if(typeof a.timestampValue=="string"&&typeof r.timestampValue=="string"&&a.timestampValue.length===r.timestampValue.length)return a.timestampValue===r.timestampValue;const s=xi(a.timestampValue),o=xi(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,r){return ea(a.bytesValue).isEqual(ea(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,r){return Ut(a.geoPointValue.latitude)===Ut(r.geoPointValue.latitude)&&Ut(a.geoPointValue.longitude)===Ut(r.geoPointValue.longitude)}(e,t);case 2:return function(a,r){if("integerValue"in a&&"integerValue"in r)return Ut(a.integerValue)===Ut(r.integerValue);if("doubleValue"in a&&"doubleValue"in r){const s=Ut(a.doubleValue),o=Ut(r.doubleValue);return s===o?ou(s)===ou(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return ur(e.arrayValue.values||[],t.arrayValue.values||[],gn);case 10:case 11:return function(a,r){const s=a.mapValue.fields||{},o=r.mapValue.fields||{};if(T0(s)!==T0(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!gn(s[u],o[u])))return!1;return!0}(e,t);default:return Q()}}function Fs(e,t){return(e.values||[]).find(n=>gn(n,t))!==void 0}function cr(e,t){if(e===t)return 0;const n=na(e),i=na(t);if(n!==i)return ut(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(e.booleanValue,t.booleanValue);case 2:return function(r,s){const o=Ut(r.integerValue||r.doubleValue),u=Ut(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return A0(e.timestampValue,t.timestampValue);case 4:return A0(Gs(e),Gs(t));case 5:return ut(e.stringValue,t.stringValue);case 6:return function(r,s){const o=ea(r),u=ea(s);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=ut(o[h],u[h]);if(d!==0)return d}return ut(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){const o=ut(Ut(r.latitude),Ut(s.latitude));return o!==0?o:ut(Ut(r.longitude),Ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return S0(e.arrayValue,t.arrayValue);case 10:return function(r,s){var o,u,h,d;const p=r.fields||{},g=s.fields||{},y=(o=p.value)===null||o===void 0?void 0:o.arrayValue,I=(u=g.value)===null||u===void 0?void 0:u.arrayValue,R=ut(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((d=I==null?void 0:I.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:S0(y,I)}(e.mapValue,t.mapValue);case 11:return function(r,s){if(r===no.mapValue&&s===no.mapValue)return 0;if(r===no.mapValue)return 1;if(s===no.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),h=s.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=ut(u[p],d[p]);if(g!==0)return g;const y=cr(o[u[p]],h[d[p]]);if(y!==0)return y}return ut(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Q()}}function A0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ut(e,t);const n=xi(e),i=xi(t),a=ut(n.seconds,i.seconds);return a!==0?a:ut(n.nanos,i.nanos)}function S0(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const r=cr(n[a],i[a]);if(r)return r}return ut(n.length,i.length)}function hr(e){return Rf(e)}function Rf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=xi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ea(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Y.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const r of n.values||[])a?a=!1:i+=",",i+=Rf(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",r=!0;for(const s of i)r?r=!1:a+=",",a+=`${s}:${Rf(n.fields[s])}`;return a+"}"}(e.mapValue):Q()}function If(e){return!!e&&"integerValue"in e}function Jd(e){return!!e&&"arrayValue"in e}function x0(e){return!!e&&"nullValue"in e}function w0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function So(e){return!!e&&"mapValue"in e}function NI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ts(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return oa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ts(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ts(e.arrayValue.values[n]);return t}return Object.assign({},e)}function CI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.value=t}static empty(){return new Re({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!So(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ts(n)}setAll(t){let n=ie.emptyPath(),i={},a=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}s?i[o.lastSegment()]=Ts(s):a.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,a)}delete(t){const n=this.field(t.popLast());So(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];So(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){oa(n,(a,r)=>t[a]=r);for(const a of i)delete t[a]}clone(){return new Re(Ts(this.value))}}function KT(e){const t=[];return oa(e.fields,(n,i)=>{const a=new ie([n]);if(So(i)){const r=KT(i.mapValue).fields;if(r.length===0)t.push(a);else for(const s of r)t.push(a.child(s))}else t.push(a)}),new ke(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n,i,a,r,s,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new me(t,0,$.min(),$.min(),$.min(),Re.empty(),0)}static newFoundDocument(t,n,i,a){return new me(t,1,n,$.min(),i,a,0)}static newNoDocument(t,n){return new me(t,2,n,$.min(),$.min(),Re.empty(),0)}static newUnknownDocument(t,n){return new me(t,3,n,$.min(),$.min(),Re.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n){this.position=t,this.inclusive=n}}function R0(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const r=t[a],s=e.position[a];if(r.field.isKeyField()?i=Y.comparator(Y.fromName(s.referenceValue),n.key):i=cr(s,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function I0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,n="asc"){this.field=t,this.dir=n}}function DI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class Ft extends QT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new MI(t,n,i):n==="array-contains"?new LI(t,i):n==="in"?new kI(t,i):n==="not-in"?new jI(t,i):n==="array-contains-any"?new BI(t,i):new Ft(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new VI(t,i):new UI(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cr(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(cr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends QT{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new pn(t,n)}matches(t){return XT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XT(e){return e.op==="and"}function $T(e){return OI(e)&&XT(e)}function OI(e){for(const t of e.filters)if(t instanceof pn)return!1;return!0}function Nf(e){if(e instanceof Ft)return e.field.canonicalString()+e.op.toString()+hr(e.value);if($T(e))return e.filters.map(t=>Nf(t)).join(",");{const t=e.filters.map(n=>Nf(n)).join(",");return`${e.op}(${t})`}}function JT(e,t){return e instanceof Ft?function(i,a){return a instanceof Ft&&i.op===a.op&&i.field.isEqual(a.field)&&gn(i.value,a.value)}(e,t):e instanceof pn?function(i,a){return a instanceof pn&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((r,s,o)=>r&&JT(s,a.filters[o]),!0):!1}(e,t):void Q()}function ZT(e){return e instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${hr(n.value)}`}(e):e instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(ZT).join(" ,")+"}"}(e):"Filter"}class MI extends Ft{constructor(t,n,i){super(t,n,i),this.key=Y.fromName(i.referenceValue)}matches(t){const n=Y.comparator(t.key,this.key);return this.matchesComparison(n)}}class VI extends Ft{constructor(t,n){super(t,"in",n),this.keys=WT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class UI extends Ft{constructor(t,n){super(t,"not-in",n),this.keys=WT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function WT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class LI extends Ft{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Jd(n)&&Fs(n.arrayValue,this.value)}}class kI extends Ft{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fs(this.value.arrayValue,n)}}class jI extends Ft{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Fs(this.value.arrayValue,n)}}class BI extends Ft{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fs(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,n=null,i=[],a=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function N0(e,t=null,n=[],i=[],a=null,r=null,s=null){return new PI(e,t,n,i,a,r,s)}function Zd(e){const t=J(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Nf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Bu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>hr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>hr(i)).join(",")),t.ue=n}return t.ue}function Wd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!DI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!JT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!I0(e.startAt,t.startAt)&&I0(e.endAt,t.endAt)}function Cf(e){return Y.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,n=null,i=[],a=[],r=null,s="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zI(e,t,n,i,a,r,s,o){return new Pu(e,t,n,i,a,r,s,o)}function tm(e){return new Pu(e)}function C0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function HI(e){return e.collectionGroup!==null}function bs(e){const t=J(e);if(t.ce===null){t.ce=[];const n=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new se(ie.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.ce.push(new cu(r,i))}),n.has(ie.keyField().canonicalString())||t.ce.push(new cu(ie.keyField(),i))}return t.ce}function fn(e){const t=J(e);return t.le||(t.le=GI(t,bs(e))),t.le}function GI(e,t){if(e.limitType==="F")return N0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const r=a.dir==="desc"?"asc":"desc";return new cu(a.field,r)});const n=e.endAt?new uu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new uu(e.startAt.position,e.startAt.inclusive):null;return N0(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Df(e,t,n){return new Pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zu(e,t){return Wd(fn(e),fn(t))&&e.limitType===t.limitType}function tb(e){return`${Zd(fn(e))}|lt:${e.limitType}`}function Sa(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>ZT(a)).join(", ")}]`),Bu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>hr(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>hr(a)).join(",")),`Target(${i})`}(fn(e))}; limitType=${e.limitType})`}function Hu(e,t){return t.isFoundDocument()&&function(i,a){const r=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Y.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,a){for(const r of bs(i))if(!r.field.isKeyField()&&a.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const r of i.filters)if(!r.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(s,o,u){const h=R0(s,o,u);return s.inclusive?h<=0:h<0}(i.startAt,bs(i),a)||i.endAt&&!function(s,o,u){const h=R0(s,o,u);return s.inclusive?h>=0:h>0}(i.endAt,bs(i),a))}(e,t)}function qI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eb(e){return(t,n)=>{let i=!1;for(const a of bs(e)){const r=FI(a,t,n);if(r!==0)return r;i=i||a.field.isKeyField()}return 0}}function FI(e,t,n){const i=e.field.isKeyField()?Y.comparator(t.key,n.key):function(r,s,o){const u=s.data.field(r),h=o.data.field(r);return u!==null&&h!==null?cr(u,h):Q()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,r]of i)if(this.equalsFn(a,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<a.length;r++)if(this.equalsFn(a[r][0],t))return void(a[r]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){oa(this.inner,(n,i)=>{for(const[a,r]of i)t(a,r)})}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Nt(Y.comparator);function Gn(){return YI}const nb=new Nt(Y.comparator);function is(...e){let t=nb;for(const n of e)t=t.insert(n.key,n);return t}function ib(e){let t=nb;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function zi(){return As()}function ab(){return As()}function As(){return new xr(e=>e.toString(),(e,t)=>e.isEqual(t))}const KI=new Nt(Y.comparator),QI=new se(Y.comparator);function it(...e){let t=QI;for(const n of e)t=t.add(n);return t}const XI=new se(ut);function $I(){return XI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(t)?"-0":t}}function rb(e){return{integerValue:""+e}}function JI(e,t){return wI(t)?rb(t):em(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this._=void 0}}function ZI(e,t,n){return e instanceof hu?function(a,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return r&&Xd(r)&&(r=$d(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Ys?lb(e,t):e instanceof Ks?ob(e,t):function(a,r){const s=sb(a,r),o=D0(s)+D0(a.Pe);return If(s)&&If(a.Pe)?rb(o):em(a.serializer,o)}(e,t)}function WI(e,t,n){return e instanceof Ys?lb(e,t):e instanceof Ks?ob(e,t):n}function sb(e,t){return e instanceof fu?function(i){return If(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class hu extends Gu{}class Ys extends Gu{constructor(t){super(),this.elements=t}}function lb(e,t){const n=ub(t);for(const i of e.elements)n.some(a=>gn(a,i))||n.push(i);return{arrayValue:{values:n}}}class Ks extends Gu{constructor(t){super(),this.elements=t}}function ob(e,t){let n=ub(t);for(const i of e.elements)n=n.filter(a=>!gn(a,i));return{arrayValue:{values:n}}}class fu extends Gu{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function D0(e){return Ut(e.integerValue||e.doubleValue)}function ub(e){return Jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function t2(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof Ys&&a instanceof Ys||i instanceof Ks&&a instanceof Ks?ur(i.elements,a.elements,gn):i instanceof fu&&a instanceof fu?gn(i.Pe,a.Pe):i instanceof hu&&a instanceof hu}(e.transform,t.transform)}class e2{constructor(t,n){this.version=t,this.transformResults=n}}class dn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xo(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qu{}function cb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new fb(e.key,dn.none()):new cl(e.key,e.data,dn.none());{const n=e.data,i=Re.empty();let a=new se(ie.comparator);for(let r of t.fields)if(!a.has(r)){let s=n.field(r);s===null&&r.length>1&&(r=r.popLast(),s=n.field(r)),s===null?i.delete(r):i.set(r,s),a=a.add(r)}return new Ni(e.key,i,new ke(a.toArray()),dn.none())}}function n2(e,t,n){e instanceof cl?function(a,r,s){const o=a.value.clone(),u=M0(a.fieldTransforms,r,s.transformResults);o.setAll(u),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ni?function(a,r,s){if(!xo(a.precondition,r))return void r.convertToUnknownDocument(s.version);const o=M0(a.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(hb(a)),u.setAll(o),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(a,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ss(e,t,n,i){return e instanceof cl?function(r,s,o,u){if(!xo(r.precondition,s))return o;const h=r.value.clone(),d=V0(r.fieldTransforms,u,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ni?function(r,s,o,u){if(!xo(r.precondition,s))return o;const h=V0(r.fieldTransforms,u,s),d=s.data;return d.setAll(hb(r)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(r,s,o){return xo(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function i2(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),r=sb(i.transform,a||null);r!=null&&(n===null&&(n=Re.empty()),n.set(i.field,r))}return n||null}function O0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ur(i,a,(r,s)=>t2(r,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cl extends qu{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ni extends qu{constructor(t,n,i,a,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function hb(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function M0(e,t,n){const i=new Map;gt(e.length===n.length);for(let a=0;a<n.length;a++){const r=e[a],s=r.transform,o=t.data.field(r.field);i.set(r.field,WI(s,o,n[a]))}return i}function V0(e,t,n){const i=new Map;for(const a of e){const r=a.transform,s=n.data.field(a.field);i.set(a.field,ZI(r,s,t))}return i}class fb extends qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a2 extends qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const r=this.mutations[a];r.key.isEqual(t.key)&&n2(r,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ss(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ss(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=ab();return this.mutations.forEach(a=>{const r=t.get(a.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=n.has(a.key)?null:o;const u=cb(s,o);u!==null&&i.set(a.key,u),s.isValidDocument()||s.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),it())}isEqual(t){return this.batchId===t.batchId&&ur(this.mutations,t.mutations,(n,i)=>O0(n,i))&&ur(this.baseMutations,t.baseMutations,(n,i)=>O0(n,i))}}class nm{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){gt(t.mutations.length===i.length);let a=function(){return KI}();const r=t.mutations;for(let s=0;s<r.length;s++)a=a.insert(r[s].key,i[s].version);return new nm(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,st;function o2(e){switch(e){default:return Q();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function db(e){if(e===void 0)return Hn("GRPC error has no .code"),B.UNKNOWN;switch(e){case Bt.OK:return B.OK;case Bt.CANCELLED:return B.CANCELLED;case Bt.UNKNOWN:return B.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return B.INTERNAL;case Bt.UNAVAILABLE:return B.UNAVAILABLE;case Bt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Bt.NOT_FOUND:return B.NOT_FOUND;case Bt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Bt.ABORTED:return B.ABORTED;case Bt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Bt.DATA_LOSS:return B.DATA_LOSS;default:return Q()}}(st=Bt||(Bt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Ki([4294967295,4294967295],0);function U0(e){const t=u2().encode(e),n=new kT;return n.update(t),new Uint8Array(n.digest())}function L0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Ki([n,i],0),new Ki([a,r],0)]}class im{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new as(`Invalid padding: ${n}`);if(i<0)throw new as(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new as(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new as(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Ki.fromNumber(this.Ie)}Ee(t,n,i){let a=t.add(n.multiply(Ki.fromNumber(i)));return a.compare(c2)===1&&(a=new Ki([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=U0(t),[i,a]=L0(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);if(!this.de(s))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new im(r,a,n);return i.forEach(o=>s.insert(o)),s}insert(t){if(this.Ie===0)return;const n=U0(t),[i,a]=L0(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class as extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n,i,a,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,hl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Fu($.min(),a,new Nt(ut),Gn(),it())}}class hl{constructor(t,n,i,a,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new hl(i,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n,i,a){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=a}}class mb{constructor(t,n){this.targetId=t,this.me=n}}class gb{constructor(t,n,i=le.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class k0{constructor(){this.fe=0,this.ge=B0(),this.pe=le.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=it(),n=it(),i=it();return this.ge.forEach((a,r)=>{switch(r){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Q()}}),new hl(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=B0()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class h2{constructor(t){this.Le=t,this.Be=new Map,this.ke=Gn(),this.qe=j0(),this.Qe=new Nt(ut)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,a)=>{this.ze(a)&&n(a)})}He(t){const n=t.targetId,i=t.me.count,a=this.Je(n);if(a){const r=a.target;if(Cf(r))if(i===0){const s=new Y(r.path);this.Ue(n,s,me.newNoDocument(s,$.min()))}else gt(i===1);else{const s=this.Ye(n);if(s!==i){const o=this.Ze(t),u=o?this.Xe(o,t,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:r=0}=n;let s,o;try{s=ea(i).toUint8Array()}catch(u){if(u instanceof YT)return or("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new im(s,a,r)}catch(u){return or(u instanceof as?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ie===0?null:o}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let a=0;return i.forEach(r=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.Ue(n,r,null),a++)}),a}rt(t){const n=new Map;this.Be.forEach((r,s)=>{const o=this.Je(s);if(o){if(r.current&&Cf(o.target)){const u=new Y(o.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,me.newNoDocument(u,t))}r.be&&(n.set(s,r.ve()),r.Ce())}});let i=it();this.qe.forEach((r,s)=>{let o=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ke.forEach((r,s)=>s.setReadTime(t));const a=new Fu(t,n,this.Qe,this.ke,i);return this.ke=Gn(),this.qe=j0(),this.Qe=new Nt(ut),a}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const a=this.Ge(t);this.it(t,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new k0,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new se(ut),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||G("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new k0),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function j0(){return new Nt(Y.comparator)}function B0(){return new Nt(Y.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class g2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Of(e,t){return e.useProto3Json||Bu(t)?t:{value:t}}function du(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function p2(e,t){return du(e,t.toTimestamp())}function mn(e){return gt(!!e),$.fromTimestamp(function(n){const i=xi(n);return new Yt(i.seconds,i.nanos)}(e))}function am(e,t){return Mf(e,t).canonicalString()}function Mf(e,t){const n=function(a){return new Mt(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function yb(e){const t=Mt.fromString(e);return gt(bb(t)),t}function Vf(e,t){return am(e.databaseId,t.path)}function fh(e,t){const n=yb(t);if(n.get(1)!==e.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Y(Eb(n))}function _b(e,t){return am(e.databaseId,t)}function y2(e){const t=yb(e);return t.length===4?Mt.emptyPath():Eb(t)}function Uf(e){return new Mt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Eb(e){return gt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function P0(e,t,n){return{name:Vf(e,t),fields:n.value.mapValue.fields}}function _2(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(gt(d===void 0||typeof d=="string"),le.fromBase64String(d||"")):(gt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),le.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(h){const d=h.code===void 0?B.UNKNOWN:db(h.code);return new q(d,h.message||"")}(s);n=new gb(i,a,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=fh(e,i.document.name),r=mn(i.document.updateTime),s=i.document.createTime?mn(i.document.createTime):$.min(),o=new Re({mapValue:{fields:i.document.fields}}),u=me.newFoundDocument(a,r,s,o),h=i.targetIds||[],d=i.removedTargetIds||[];n=new wo(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=fh(e,i.document),r=i.readTime?mn(i.readTime):$.min(),s=me.newNoDocument(a,r),o=i.removedTargetIds||[];n=new wo([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=fh(e,i.document),r=i.removedTargetIds||[];n=new wo([],r,a,null)}else{if(!("filter"in t))return Q();{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:r}=i,s=new l2(a,r),o=i.targetId;n=new mb(o,s)}}return n}function E2(e,t){let n;if(t instanceof cl)n={update:P0(e,t.key,t.value)};else if(t instanceof fb)n={delete:Vf(e,t.key)};else if(t instanceof Ni)n={update:P0(e,t.key,t.data),updateMask:I2(t.fieldMask)};else{if(!(t instanceof a2))return Q();n={verify:Vf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof hu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof fu)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Q()}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,r){return r.updateTime!==void 0?{updateTime:p2(a,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Q()}(e,t.precondition)),n}function v2(e,t){return e&&e.length>0?(gt(t!==void 0),e.map(n=>function(a,r){let s=a.updateTime?mn(a.updateTime):mn(r);return s.isEqual($.min())&&(s=mn(r)),new e2(s,a.transformResults||[])}(n,t))):[]}function T2(e,t){return{documents:[_b(e,t.path)]}}function b2(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_b(e,a);const r=function(h){if(h.length!==0)return Tb(pn.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:xa(g.field),direction:x2(g.dir)}}(d))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Of(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{_t:n,parent:a}}function A2(e){let t=y2(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){gt(i===1);const d=n.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let r=[];n.where&&(r=function(p){const g=vb(p);return g instanceof pn&&$T(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(I){return new cu(wa(I.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,Bu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new uu(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new uu(y,g)}(n.endAt)),zI(t,a,s,r,o,"F",u,h)}function S2(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function vb(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=wa(n.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=wa(n.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wa(n.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wa(n.unaryFilter.field);return Ft.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return Ft.create(wa(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(i=>vb(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function x2(e){return f2[e]}function w2(e){return d2[e]}function R2(e){return m2[e]}function xa(e){return{fieldPath:e.canonicalString()}}function wa(e){return ie.fromServerFormat(e.fieldPath)}function Tb(e){return e instanceof Ft?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(x0(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(x0(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:w2(n.op),value:n.value}}}(e):e instanceof pn?function(n){const i=n.getFilters().map(a=>Tb(a));return i.length===1?i[0]:{compositeFilter:{op:R2(n.op),filters:i}}}(e):Q()}function I2(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function bb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n,i,a,r=$.min(),s=$.min(),o=le.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new si(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.ct=t}}function C2(e){const t=A2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Df(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.un=new O2}addToCollectionParentIndex(t,n){return this.un.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Si.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Si.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class O2{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new se(Mt.comparator),r=!a.has(i);return this.index[n]=a.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new se(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new fr(0)}static kn(){return new fr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.changes=new xr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,me.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&Ss(i.mutation,a,ke.empty(),Yt.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,it()).next(()=>i))}getLocalViewOfDocuments(t,n,i=it()){const a=zi();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(r=>{let s=is();return r.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=zi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,it()))}populateOverlays(t,n,i){const a=[];return i.forEach(r=>{n.has(r)||a.push(r)}),this.documentOverlayCache.getOverlays(t,a).next(r=>{r.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,i,a){let r=Gn();const s=As(),o=function(){return As()}();return n.forEach((u,h)=>{const d=i.get(h.key);a.has(h.key)&&(d===void 0||d.mutation instanceof Ni)?r=r.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),Ss(d.mutation,h,d.mutation.getFieldMask(),Yt.now())):s.set(h.key,ke.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>{var p;return o.set(h,new V2(d,(p=s.get(h))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(t,n){const i=As();let a=new Nt((s,o)=>s-o),r=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||ke.empty();d=o.applyToLocalView(h,d),i.set(u,d);const p=(a.get(o.batchId)||it()).add(u);a=a.insert(o.batchId,p)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,d=u.value,p=ab();d.forEach(g=>{if(!r.has(g)){const y=cb(n.get(g),i.get(g));y!==null&&p.set(g,y),r=r.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,h,p))}return k.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(r=>{const s=a-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-r.size):k.resolve(zi());let o=-1,u=r;return s.next(h=>k.forEach(h,(d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),r.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,u,h,it())).next(d=>({batchId:o,changes:ib(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Y(n)).next(i=>{let a=is();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const r=n.collectionGroup;let s=is();return this.indexManager.getCollectionParents(t,r).next(o=>k.forEach(o,u=>{const h=function(p,g){return new Pu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,a).next(d=>{d.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,a){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,a))).next(s=>{r.forEach((u,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,me.newInvalidDocument(d)))});let o=is();return s.forEach((u,h)=>{const d=r.get(u);d!==void 0&&Ss(d.mutation,h,ke.empty(),Yt.now()),Hu(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return k.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:mn(a.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:C2(a.bundledQuery),readTime:mn(a.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.overlays=new Nt(Y.comparator),this.Ir=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=zi();return k.forEach(n,a=>this.getOverlay(t,a).next(r=>{r!==null&&i.set(a,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,r)=>{this.ht(t,n,r)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const a=zi(),r=n.length+1,s=new Y(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&a.set(u.getKey(),u)}return k.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let r=new Nt((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=r.get(h.largestBatchId);d===null&&(d=zi(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=zi(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=a)););return k.resolve(o)}ht(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new s2(n,i));let r=this.Ir.get(n);r===void 0&&(r=it(),this.Ir.set(n,r)),this.Ir.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.sessionToken=le.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Tr=new se(Qt.Er),this.dr=new se(Qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new Qt(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new Qt(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new Y(new Mt([])),i=new Qt(n,t),a=new Qt(n,t+1),r=[];return this.dr.forEachInRange([i,a],s=>{this.Vr(s),r.push(s.key)}),r}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new Y(new Mt([])),i=new Qt(n,t),a=new Qt(n,t+1);let r=it();return this.dr.forEachInRange([i,a],s=>{r=r.add(s.key)}),r}containsKey(t){const n=new Qt(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Qt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return Y.comparator(t.key,n.key)||ut(t.wr,n.wr)}static Ar(t,n){return ut(t.wr,n.wr)||Y.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new se(Qt.Er)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new r2(r,n,i,a);this.mutationQueue.push(s);for(const o of a)this.br=this.br.add(new Qt(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return k.resolve(s)}lookupMutationBatch(t,n){return k.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.vr(i),r=a<0?0:a;return k.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Qt(n,0),a=new Qt(n,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,a],s=>{const o=this.Dr(s.wr);r.push(o)}),k.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new se(ut);return n.forEach(a=>{const r=new Qt(a,0),s=new Qt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,s],o=>{i=i.add(o.wr)})}),k.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let r=i;Y.isDocumentKey(r)||(r=r.child(""));const s=new Qt(new Y(r),0);let o=new se(ut);return this.br.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.wr)),!0)},s),k.resolve(this.Cr(o))}Cr(t){const n=[];return t.forEach(i=>{const a=this.Dr(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return k.forEach(n.mutations,a=>{const r=new Qt(a.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new Qt(n,0),a=this.br.firstAfterOrEqual(i);return k.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.Mr=t,this.docs=function(){return new Nt(Y.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),r=a?a.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():me.newInvalidDocument(n))}getEntries(t,n){let i=Gn();return n.forEach(a=>{const r=this.docs.get(a);i=i.insert(a,r?r.document.mutableCopy():me.newInvalidDocument(a))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let r=Gn();const s=n.path,o=new Y(s.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||bI(TI(d),i)<=0||(a.has(d.key)||Hu(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return k.resolve(r)}getAllFromCollectionGroup(t,n,i,a){Q()}Or(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new z2(this)}getSize(t){return k.resolve(this.size)}}class z2 extends M2{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(t,a)):this.cr.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.persistence=t,this.Nr=new xr(n=>Zd(n),Wd),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rm,this.targetCount=0,this.kr=fr.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,a)=>n(a)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),k.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new fr(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Kn(n),k.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let a=0;const r=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Nr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),k.waitFor(r).next(()=>a)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const a=this.persistence.referenceDelegate,r=[];return a&&n.forEach(s=>{r.push(a.markPotentiallyOrphaned(t,s))}),k.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Qd(0),this.Kr=!1,this.Kr=!0,this.$r=new j2,this.referenceDelegate=t(this),this.Ur=new H2(this),this.indexManager=new D2,this.remoteDocumentCache=function(a){return new P2(a)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new N2(n),this.Gr=new L2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new k2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new B2(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){G("MemoryPersistence","Starting transaction:",t);const a=new q2(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(r=>this.referenceDelegate.jr(a).next(()=>r)).toPromise().then(r=>(a.raiseOnCommittedEvent(),r))}Hr(t,n){return k.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class q2 extends SI{constructor(t){super(),this.currentSequenceNumber=t}}class sm{constructor(t){this.persistence=t,this.Jr=new rm,this.Yr=null}static Zr(t){return new sm(t)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),k.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,i=>{const a=Y.fromPath(i);return this.ei(t,a).next(r=>{r||n.removeEntry(a,$.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return k.or([()=>k.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=a}static Wi(t,n){let i=it(),a=it();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:a=a.add(r.doc.key)}return new lm(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Kw()?8:xI(Fw())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,a){const r={result:null};return this.Yi(t,n).next(s=>{r.result=s}).next(()=>{if(!r.result)return this.Zi(t,n,a,i).next(s=>{r.result=s})}).next(()=>{if(r.result)return;const s=new F2;return this.Xi(t,n,s).next(o=>{if(r.result=o,this.zi)return this.es(t,n,s,o.size)})}).next(()=>r.result)}es(t,n,i,a){return i.documentReadCount<this.ji?(Qr()<=lt.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(Qr()<=lt.DEBUG&&G("QueryEngine","Query:",Sa(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(Qr()<=lt.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fn(n))):k.resolve())}Yi(t,n){if(C0(n))return k.resolve(null);let i=fn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Df(n,null,"F"),i=fn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const s=it(...r);return this.Ji.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.ts(n,o);return this.ns(n,h,s,u.readTime)?this.Yi(t,Df(n,null,"F")):this.rs(t,h,n,u)}))})))}Zi(t,n,i,a){return C0(n)||a.isEqual($.min())?k.resolve(null):this.Ji.getDocuments(t,i).next(r=>{const s=this.ts(n,r);return this.ns(n,s,i,a)?k.resolve(null):(Qr()<=lt.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sa(n)),this.rs(t,s,n,vI(a,-1)).next(o=>o))})}ts(t,n){let i=new se(eb(t));return n.forEach((a,r)=>{Hu(t,r)&&(i=i.add(r))}),i}ns(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(a)>0)}Xi(t,n,i){return Qr()<=lt.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.Ji.getDocumentsMatchingQuery(t,n,Si.min(),i)}rs(t,n,i,a){return this.Ji.getDocumentsMatchingQuery(t,i,a).next(r=>(n.forEach(s=>{r=r.insert(s.key,s)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,n,i,a){this.persistence=t,this.ss=n,this.serializer=a,this.os=new Nt(ut),this._s=new xr(r=>Zd(r),Wd),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new U2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function Q2(e,t,n,i){return new K2(e,t,n,i)}async function Ab(e,t){const n=J(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(r=>(a=r,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const s=[],o=[];let u=it();for(const h of a){s.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:o}))})})}function X2(e,t){const n=J(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),r=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,d){const p=h.batch,g=p.keys();let y=k.resolve();return g.forEach(I=>{y=y.next(()=>d.getEntry(u,I)).next(R=>{const C=h.docVersions.get(I);gt(C!==null),R.version.compareTo(C)<0&&(p.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),d.addEntry(R)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,p))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=it();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function Sb(e){const t=J(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function $2(e,t){const n=J(e),i=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const o=[];t.targetChanges.forEach((d,p)=>{const g=a.get(p);if(!g)return;o.push(n.Ur.removeMatchingKeys(r,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(r,d.addedDocuments,p)));let y=g.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(le.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,i)),a=a.insert(p,y),function(R,C,A){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,y,d)&&o.push(n.Ur.updateTargetData(r,y))});let u=Gn(),h=it();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),o.push(J2(r,s,t.documentUpdates).next(d=>{u=d.Ps,h=d.Is})),!i.isEqual($.min())){const d=n.Ur.getLastRemoteSnapshotVersion(r).next(p=>n.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(d)}return k.waitFor(o).next(()=>s.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.os=a,r))}function J2(e,t,n){let i=it(),a=it();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let s=Gn();return n.forEach((o,u)=>{const h=r.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual($.min())?(t.removeEntry(o,u.readTime),s=s.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),s=s.insert(o,u)):G("LocalStore","Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Ps:s,Is:a}})}function Z2(e,t){const n=J(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function W2(e,t){const n=J(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Ur.getTargetData(i,t).next(r=>r?(a=r,k.resolve(a)):n.Ur.allocateTargetId(i).next(s=>(a=new si(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function Lf(e,t,n){const i=J(e),a=i.os.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,s=>i.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!ul(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(a.target)}function z0(e,t,n){const i=J(e);let a=$.min(),r=it();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,d){const p=J(u),g=p._s.get(d);return g!==void 0?k.resolve(p.os.get(g)):p.Ur.getTargetData(h,d)}(i,s,fn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,o.targetId).next(u=>{r=u})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,n?a:$.min(),n?r:it())).next(o=>(tN(i,qI(t),o),{documents:o,Ts:r})))}function tN(e,t,n){let i=e.us.get(t)||$.min();n.forEach((a,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.us.set(t,i)}class H0{constructor(){this.activeTargetIds=$I()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eN{constructor(){this.so=new H0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new H0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io=null;function dh(){return io===null?io=function(){return 268435456+Math.round(2147483648*Math.random())}():io++,"0x"+io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe="WebChannelConnection";class rN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${a}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${r}`}get Fo(){return!1}Mo(n,i,a,r,s){const o=dh(),u=this.xo(n,i.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${o}:`,u,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,r,s),this.No(n,u,h,a).then(d=>(G("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw or("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",u,"request:",a),d})}Lo(n,i,a,r,s,o){return this.Mo(n,i,a,r,s)}Oo(n,i,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,s)=>n[s]=r),a&&a.headers.forEach((r,s)=>n[s]=r)}xo(n,i){const a=iN[n];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,a){const r=dh();return new Promise((s,o)=>{const u=new jT;u.setWithCredentials(!0),u.listenOnce(BT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ao.NO_ERROR:const d=u.getResponseJson();G(fe,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(d)),s(d);break;case Ao.TIMEOUT:G(fe,`RPC '${t}' ${r} timed out`),o(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ao.HTTP_ERROR:const p=u.getStatus();if(G(fe,`RPC '${t}' ${r} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const I=function(C){const A=C.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(A)>=0?A:B.UNKNOWN}(y.status);o(new q(I,y.message))}else o(new q(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new q(B.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{G(fe,`RPC '${t}' ${r} completed.`)}});const h=JSON.stringify(a);G(fe,`RPC '${t}' ${r} sending request:`,a),u.send(n,"POST",h,i,15)})}Bo(t,n,i){const a=dh(),r=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=HT(),o=zT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=r.join("");G(fe,`Creating RPC '${t}' stream ${a}: ${d}`,u);const p=s.createWebChannel(d,u);let g=!1,y=!1;const I=new aN({Io:C=>{y?G(fe,`Not sending because RPC '${t}' stream ${a} is closed:`,C):(g||(G(fe,`Opening RPC '${t}' stream ${a} transport.`),p.open(),g=!0),G(fe,`RPC '${t}' stream ${a} sending:`,C),p.send(C))},To:()=>p.close()}),R=(C,A,E)=>{C.listen(A,S=>{try{E(S)}catch(M){setTimeout(()=>{throw M},0)}})};return R(p,ns.EventType.OPEN,()=>{y||(G(fe,`RPC '${t}' stream ${a} transport opened.`),I.yo())}),R(p,ns.EventType.CLOSE,()=>{y||(y=!0,G(fe,`RPC '${t}' stream ${a} transport closed`),I.So())}),R(p,ns.EventType.ERROR,C=>{y||(y=!0,or(fe,`RPC '${t}' stream ${a} transport errored:`,C),I.So(new q(B.UNAVAILABLE,"The operation could not be completed")))}),R(p,ns.EventType.MESSAGE,C=>{var A;if(!y){const E=C.data[0];gt(!!E);const S=E,M=S.error||((A=S[0])===null||A===void 0?void 0:A.error);if(M){G(fe,`RPC '${t}' stream ${a} received error:`,M);const P=M.status;let V=function(b){const x=Bt[b];if(x!==void 0)return db(x)}(P),T=M.message;V===void 0&&(V=B.INTERNAL,T="Unknown error status: "+P+" with message "+M.message),y=!0,I.So(new q(V,T)),p.close()}else G(fe,`RPC '${t}' stream ${a} received:`,E),I.bo(E)}}),R(o,PT.STAT_EVENT,C=>{C.stat===wf.PROXY?G(fe,`RPC '${t}' stream ${a} detected buffering proxy`):C.stat===wf.NOPROXY&&G(fe,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(e){return new g2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,n,i=1e3,a=1.5,r=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=a,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-i);a>0&&G("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n,i,a,r,s,o,u){this.ui=t,this.Ho=i,this.Jo=a,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xb(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Hn(n.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===n&&this.P_(i,a)},i=>{t(()=>{const a=new q(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return G("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sN extends wb{constructor(t,n,i,a,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=_2(this.serializer,t),i=function(r){if(!("targetChange"in r))return $.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?mn(s.readTime):$.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Uf(this.serializer),n.addTarget=function(r,s){let o;const u=s.target;if(o=Cf(u)?{documents:T2(r,u)}:{query:b2(r,u)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=pb(r,s.resumeToken);const h=Of(r,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo($.min())>0){o.readTime=du(r,s.snapshotVersion.toTimestamp());const h=Of(r,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=S2(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Uf(this.serializer),n.removeTarget=t,this.a_(n)}}class lN extends wb{constructor(t,n,i,a,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return gt(!!t.streamToken),this.lastStreamToken=t.streamToken,gt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=v2(t.writeResults,t.commitTime),i=mn(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Uf(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>E2(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN extends class{}{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Mo(t,Mf(n,i),a,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(B.UNKNOWN,r.toString())})}Lo(t,n,i,a,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(t,Mf(n,i),a,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hn(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t,n,i,a,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(s=>{i.enqueueAndForget(async()=>{ua(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=J(u);h.L_.add(4),await fl(h),h.q_.set("Unknown"),h.L_.delete(4),await Ku(h)}(this))})}),this.q_=new uN(i,a)}}async function Ku(e){if(ua(e))for(const t of e.B_)await t(!0)}async function fl(e){for(const t of e.B_)await t(!1)}function Rb(e,t){const n=J(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),hm(n)?cm(n):wr(n).r_()&&um(n,t))}function om(e,t){const n=J(e),i=wr(n);n.N_.delete(t),i.r_()&&Ib(n,t),n.N_.size===0&&(i.r_()?i.o_():ua(n)&&n.q_.set("Unknown"))}function um(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wr(e).A_(t)}function Ib(e,t){e.Q_.xe(t),wr(e).R_(t)}function cm(e){e.Q_=new h2({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),wr(e).start(),e.q_.v_()}function hm(e){return ua(e)&&!wr(e).n_()&&e.N_.size>0}function ua(e){return J(e).L_.size===0}function Nb(e){e.Q_=void 0}async function hN(e){e.q_.set("Online")}async function fN(e){e.N_.forEach((t,n)=>{um(e,t)})}async function dN(e,t){Nb(e),hm(e)?(e.q_.M_(t),cm(e)):e.q_.set("Unknown")}async function mN(e,t,n){if(e.q_.set("Online"),t instanceof gb&&t.state===2&&t.cause)try{await async function(a,r){const s=r.cause;for(const o of r.targetIds)a.N_.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.N_.delete(o),a.Q_.removeTarget(o))}(e,t)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await mu(e,i)}else if(t instanceof wo?e.Q_.Ke(t):t instanceof mb?e.Q_.He(t):e.Q_.We(t),!n.isEqual($.min()))try{const i=await Sb(e.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.Q_.rt(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.N_.get(h);d&&r.N_.set(h,d.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,h)=>{const d=r.N_.get(u);if(!d)return;r.N_.set(u,d.withResumeToken(le.EMPTY_BYTE_STRING,d.snapshotVersion)),Ib(r,u);const p=new si(d.target,u,h,d.sequenceNumber);um(r,p)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){G("RemoteStore","Failed to raise snapshot:",i),await mu(e,i)}}async function mu(e,t,n){if(!ul(t))throw t;e.L_.add(1),await fl(e),e.q_.set("Offline"),n||(n=()=>Sb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ku(e)})}function Cb(e,t){return t().catch(n=>mu(e,n,t))}async function Qu(e){const t=J(e),n=wi(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;gN(t);)try{const a=await Z2(t.localStore,i);if(a===null){t.O_.length===0&&n.o_();break}i=a.batchId,pN(t,a)}catch(a){await mu(t,a)}Db(t)&&Ob(t)}function gN(e){return ua(e)&&e.O_.length<10}function pN(e,t){e.O_.push(t);const n=wi(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Db(e){return ua(e)&&!wi(e).n_()&&e.O_.length>0}function Ob(e){wi(e).start()}async function yN(e){wi(e).p_()}async function _N(e){const t=wi(e);for(const n of e.O_)t.m_(n.mutations)}async function EN(e,t,n){const i=e.O_.shift(),a=nm.from(i,t,n);await Cb(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Qu(e)}async function vN(e,t){t&&wi(e).V_&&await async function(i,a){if(function(s){return o2(s)&&s!==B.ABORTED}(a.code)){const r=i.O_.shift();wi(i).s_(),await Cb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,a)),await Qu(i)}}(e,t),Db(e)&&Ob(e)}async function q0(e,t){const n=J(e);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const i=ua(n);n.L_.add(3),await fl(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ku(n)}async function TN(e,t){const n=J(e);t?(n.L_.delete(2),await Ku(n)):t||(n.L_.add(2),await fl(n),n.q_.set("Unknown"))}function wr(e){return e.K_||(e.K_=function(n,i,a){const r=J(n);return r.w_(),new sN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:hN.bind(null,e),Ro:fN.bind(null,e),mo:dN.bind(null,e),d_:mN.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),hm(e)?cm(e):e.q_.set("Unknown")):(await e.K_.stop(),Nb(e))})),e.K_}function wi(e){return e.U_||(e.U_=function(n,i,a){const r=J(n);return r.w_(),new lN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yN.bind(null,e),mo:vN.bind(null,e),f_:_N.bind(null,e),g_:EN.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Qu(e)):(await e.U_.stop(),e.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,n,i,a,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=r,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,r){const s=Date.now()+i,o=new fm(t,n,s,a,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(e,t){if(Hn("AsyncQueue",`${t}: ${e}`),ul(e))return new q(B.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=is(),this.sortedSet=new Nt(this.comparator)}static emptySet(t){return new Xa(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(!a.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Xa;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.W_=new Nt(Y.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Q():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class dr{constructor(t,n,i,a,r,s,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,a,r){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new dr(t,n,Xa.emptySet(n),s,i,a,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class AN{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const a=J(n),r=a.queries;a.queries=Y0(),r.forEach((s,o)=>{for(const u of o.j_)u.onError(i)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function Y0(){return new xr(e=>tb(e),zu)}async function SN(e,t){const n=J(e);let i=3;const a=t.query;let r=n.queries.get(a);r?!r.H_()&&t.J_()&&(i=2):(r=new bN,i=t.J_()?0:1);try{switch(i){case 0:r.z_=await n.onListen(a,!0);break;case 1:r.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=dm(s,`Initialization of query '${Sa(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,r),r.j_.push(t),t.Z_(n.onlineState),r.z_&&t.X_(r.z_)&&mm(n)}async function xN(e,t){const n=J(e),i=t.query;let a=3;const r=n.queries.get(i);if(r){const s=r.j_.indexOf(t);s>=0&&(r.j_.splice(s,1),r.j_.length===0?a=t.J_()?0:1:!r.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function wN(e,t){const n=J(e);let i=!1;for(const a of t){const r=a.query,s=n.queries.get(r);if(s){for(const o of s.j_)o.X_(a)&&(i=!0);s.z_=a}}i&&mm(n)}function RN(e,t,n){const i=J(e),a=i.queries.get(t);if(a)for(const r of a.j_)r.onError(n);i.queries.delete(t)}function mm(e){e.Y_.forEach(t=>{t.next()})}var kf,K0;(K0=kf||(kf={})).ea="default",K0.Cache="cache";class IN{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new dr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=dr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this.key=t}}class Vb{constructor(t){this.key=t}}class NN{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=it(),this.mutatedKeys=it(),this.Aa=eb(t),this.Ra=new Xa(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new F0,a=n?n.Ra:this.Ra;let r=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((d,p)=>{const g=a.get(d),y=Hu(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;g&&y?g.data.isEqual(y.data)?I!==R&&(i.track({type:3,doc:y}),C=!0):this.ga(g,y)||(i.track({type:2,doc:y}),C=!0,(u&&this.Aa(y,u)>0||h&&this.Aa(y,h)<0)&&(o=!0)):!g&&y?(i.track({type:0,doc:y}),C=!0):g&&!y&&(i.track({type:1,doc:g}),C=!0,(u||h)&&(o=!0)),C&&(y?(s=s.add(y),r=R?r.add(d):r.delete(d)):(s=s.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:o,mutatedKeys:r}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const r=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((d,p)=>function(y,I){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return R(y)-R(I)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(i),a=a!=null&&a;const o=n&&!a?this.ya():[],u=this.da.size===0&&this.current&&!a?1:0,h=u!==this.Ea;return this.Ea=u,s.length!==0||h?{snapshot:new dr(this.query,t.Ra,r,s,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new F0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=it(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new Vb(i))}),this.da.forEach(i=>{t.has(i)||n.push(new Mb(i))}),n}ba(t){this.Ta=t.Ts,this.da=it();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return dr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class CN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class DN{constructor(t){this.key=t,this.va=!1}}class ON{constructor(t,n,i,a,r,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new xr(o=>tb(o),zu),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(Y.comparator),this.Na=new Map,this.La=new rm,this.Ba={},this.ka=new Map,this.qa=fr.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MN(e,t,n=!0){const i=Pb(e);let a;const r=i.Fa.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),a=r.view.Da()):a=await Ub(i,t,n,!0),a}async function VN(e,t){const n=Pb(e);await Ub(n,t,!0,!1)}async function Ub(e,t,n,i){const a=await W2(e.localStore,fn(t)),r=a.targetId,s=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await UN(e,t,r,s==="current",a.resumeToken)),e.isPrimaryClient&&n&&Rb(e.remoteStore,a),o}async function UN(e,t,n,i,a){e.Ka=(p,g,y)=>async function(R,C,A,E){let S=C.view.ma(A);S.ns&&(S=await z0(R.localStore,C.query,!1).then(({documents:T})=>C.view.ma(T,S)));const M=E&&E.targetChanges.get(C.targetId),P=E&&E.targetMismatches.get(C.targetId)!=null,V=C.view.applyChanges(S,R.isPrimaryClient,M,P);return X0(R,C.targetId,V.wa),V.snapshot}(e,p,g,y);const r=await z0(e.localStore,t,!0),s=new NN(t,r.Ts),o=s.ma(r.documents),u=hl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),h=s.applyChanges(o,e.isPrimaryClient,u);X0(e,n,h.wa);const d=new CN(t,n,s);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),h.snapshot}async function LN(e,t,n){const i=J(e),a=i.Fa.get(t),r=i.Ma.get(a.targetId);if(r.length>1)return i.Ma.set(a.targetId,r.filter(s=>!zu(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Lf(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&om(i.remoteStore,a.targetId),jf(i,a.targetId)}).catch(ol)):(jf(i,a.targetId),await Lf(i.localStore,a.targetId,!0))}async function kN(e,t){const n=J(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),om(n.remoteStore,i.targetId))}async function jN(e,t,n){const i=FN(e);try{const a=await function(s,o){const u=J(s),h=Yt.now(),d=o.reduce((y,I)=>y.add(I.key),it());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Gn(),R=it();return u.cs.getEntries(y,d).next(C=>{I=C,I.forEach((A,E)=>{E.isValidDocument()||(R=R.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(C=>{p=C;const A=[];for(const E of o){const S=i2(E,p.get(E.key).overlayedDocument);S!=null&&A.push(new Ni(E.key,S,KT(S.value.mapValue),dn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,A,o)}).next(C=>{g=C;const A=C.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,C.batchId,A)})}).then(()=>({batchId:g.batchId,changes:ib(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new Nt(ut)),h=h.insert(o,u),s.Ba[s.currentUser.toKey()]=h}(i,a.batchId,n),await dl(i,a.changes),await Qu(i.remoteStore)}catch(a){const r=dm(a,"Failed to persist write");n.reject(r)}}async function Lb(e,t){const n=J(e);try{const i=await $2(n.localStore,t);t.targetChanges.forEach((a,r)=>{const s=n.Na.get(r);s&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?gt(s.va):a.removedDocuments.size>0&&(gt(s.va),s.va=!1))}),await dl(n,i,t)}catch(i){await ol(i)}}function Q0(e,t,n){const i=J(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Fa.forEach((r,s)=>{const o=s.view.Z_(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=J(s);u.onlineState=o;let h=!1;u.queries.forEach((d,p)=>{for(const g of p.j_)g.Z_(o)&&(h=!0)}),h&&mm(u)}(i.eventManager,t),a.length&&i.Ca.d_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function BN(e,t,n){const i=J(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Na.get(t),r=a&&a.key;if(r){let s=new Nt(Y.comparator);s=s.insert(r,me.newNoDocument(r,$.min()));const o=it().add(r),u=new Fu($.min(),new Map,new Nt(ut),s,o);await Lb(i,u),i.Oa=i.Oa.remove(r),i.Na.delete(t),gm(i)}else await Lf(i.localStore,t,!1).then(()=>jf(i,t,n)).catch(ol)}async function PN(e,t){const n=J(e),i=t.batch.batchId;try{const a=await X2(n.localStore,t);jb(n,i,null),kb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await dl(n,a)}catch(a){await ol(a)}}async function zN(e,t,n){const i=J(e);try{const a=await function(s,o){const u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next(p=>(gt(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);jb(i,t,n),kb(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await dl(i,a)}catch(a){await ol(a)}}function kb(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function jb(e,t,n){const i=J(e);let a=i.Ba[i.currentUser.toKey()];if(a){const r=a.get(t);r&&(n?r.reject(n):r.resolve(),a=a.remove(t)),i.Ba[i.currentUser.toKey()]=a}}function jf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||Bb(e,i)})}function Bb(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(om(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),gm(e))}function X0(e,t,n){for(const i of n)i instanceof Mb?(e.La.addReference(i.key,t),HN(e,i)):i instanceof Vb?(G("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||Bb(e,i.key)):Q()}function HN(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(G("SyncEngine","New document in limbo: "+n),e.xa.add(i),gm(e))}function gm(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Y(Mt.fromString(t)),i=e.qa.next();e.Na.set(i,new DN(n)),e.Oa=e.Oa.insert(n,i),Rb(e.remoteStore,new si(fn(tm(n.path)),i,"TargetPurposeLimboResolution",Qd.oe))}}async function dl(e,t,n){const i=J(e),a=[],r=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((o,u)=>{s.push(i.Ka(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){a.push(h);const p=lm.Wi(u.targetId,h);r.push(p)}}))}),await Promise.all(s),i.Ca.d_(a),await async function(u,h){const d=J(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(h,g=>k.forEach(g.$i,y=>d.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>k.forEach(g.Ui,y=>d.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ul(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=d.os.get(g),I=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(I);d.os=d.os.insert(g,R)}}}(i.localStore,r))}async function GN(e,t){const n=J(e);if(!n.currentUser.isEqual(t)){G("SyncEngine","User change. New user:",t.toKey());const i=await Ab(n.localStore,t);n.currentUser=t,function(r,s){r.ka.forEach(o=>{o.forEach(u=>{u.reject(new q(B.CANCELLED,s))})}),r.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await dl(n,i.hs)}}function qN(e,t){const n=J(e),i=n.Na.get(t);if(i&&i.va)return it().add(i.key);{let a=it();const r=n.Ma.get(t);if(!r)return a;for(const s of r){const o=n.Fa.get(s);a=a.unionWith(o.view.Va)}return a}}function Pb(e){const t=J(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BN.bind(null,t),t.Ca.d_=wN.bind(null,t.eventManager),t.Ca.$a=RN.bind(null,t.eventManager),t}function FN(e){const t=J(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,t),t}class gu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yu(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return Q2(this.persistence,new Y2,t.initialUser,this.serializer)}Ga(t){return new G2(sm.Zr,this.serializer)}Wa(t){return new eN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gu.provider={build:()=>new gu};class Bf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Q0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GN.bind(null,this.syncEngine),await TN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AN}()}createDatastore(t){const n=Yu(t.databaseInfo.databaseId),i=function(r){return new rN(r)}(t.databaseInfo);return function(r,s,o,u){return new oN(r,s,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,r,s,o){return new cN(i,a,r,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>Q0(this.syncEngine,n,0),function(){return G0.D()?new G0:new nN}())}createSyncEngine(t,n){return function(a,r,s,o,u,h,d){const p=new ON(a,r,s,o,u,h);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const r=J(a);G("RemoteStore","RemoteStore shutting down."),r.L_.add(5),await fl(r),r.k_.shutdown(),r.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bf.provider={build:()=>new Bf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Hn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,n,i,a,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=de.UNAUTHENTICATED,this.clientId=qT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=dm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function gh(e,t){e.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Ab(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function $0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await QN(e);G("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>q0(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>q0(t.remoteStore,a)),e._onlineComponents=t}async function QN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await gh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===B.FAILED_PRECONDITION||a.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;or("Error using user provided cache. Falling back to memory cache: "+n),await gh(e,new gu)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await gh(e,new gu);return e._offlineComponents}async function zb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await $0(e,e._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await $0(e,new Bf))),e._onlineComponents}function XN(e){return zb(e).then(t=>t.syncEngine)}async function J0(e){const t=await zb(e),n=t.eventManager;return n.onListen=MN.bind(null,t.syncEngine),n.onUnlisten=LN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=VN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kN.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e,t,n){if(!n)throw new q(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function JN(e,t,n,i){if(t===!0&&i===!0)throw new q(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function W0(e){if(!Y.isDocumentKey(e))throw new q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function _i(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(e);throw new q(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ym{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hI;switch(i.type){case"firstParty":return new gI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Z0.get(n);i&&(G("ComponentProvider","Removing Datastore"),Z0.delete(n),i.terminate())}(this),Promise.resolve()}}function ZN(e,t,n,i={}){var a;const r=(e=_i(e,ym))._getSettings(),s=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==s&&or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:s,ssl:!1})),i.mockUserToken){let o,u;if(typeof i.mockUserToken=="string")o=i.mockUserToken,u=de.MOCK_USER;else{o=qw(i.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new de(h)}e._authCredentials=new fI(new GT(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xu(this.firestore,t,this._query)}}class He{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}}class Qs extends Xu{constructor(t,n,i){super(t,n,tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new Y(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function ya(e,t,...n){if(e=Ai(e),arguments.length===1&&(t=qT.newId()),$N("doc","path",t),e instanceof ym){const i=Mt.fromString(t,...n);return W0(i),new He(e,null,new Y(i))}{if(!(e instanceof He||e instanceof Qs))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Mt.fromString(t,...n));return W0(i),new He(e.firestore,e instanceof Qs?e.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xb(this,"async_queue_retry"),this.Vu=()=>{const i=mh();i&&G("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=mh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Qi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!ul(t))throw t;G("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const a=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw Hn("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const a=fm.createAndSchedule(this,t,n,i,r=>this.yu(r));return this.Tu.push(a),a}fu(){this.Eu&&Q()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function n_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const r of i)if(r in a&&typeof a[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Xs extends ym{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new e_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new e_(t),this._firestoreClient=void 0,await t}}}function WN(e,t){const n=typeof e=="object"?e:WR(),i=typeof e=="string"?e:"(default)",a=XR(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const r=Hw("firestore");r&&ZN(a,...r)}return a}function Gb(e){if(e._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||tC(e),e._firestoreClient}function tC(e){var t,n,i;const a=e._freezeSettings(),r=function(o,u,h,d){return new II(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Hb(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new KN(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mr(le.fromBase64String(t))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mr(le.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ut(this._lat,t._lat)||ut(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==a[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^__.*__$/;class nC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ni(t,this.data,this.fieldMask,n,this.fieldTransforms):new cl(t,this.data,n,this.fieldTransforms)}}class qb{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Ni(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Tm{constructor(t,n,i,a,r,s){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,r===void 0&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Tm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.Ou(t),a}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return pu(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(Fb(this.Cu)&&eC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class iC{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Yu(t)}Qu(t,n,i,a=!1){return new Tm({Cu:t,methodName:n,qu:i,path:ie.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yb(e){const t=e._freezeSettings(),n=Yu(e._databaseId);return new iC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aC(e,t,n,i,a,r={}){const s=e.Qu(r.merge||r.mergeFields?2:0,t,n,a);bm("Data must be an object, but it was:",s,i);const o=Kb(i,s);let u,h;if(r.merge)u=new ke(s.fieldMask),h=s.fieldTransforms;else if(r.mergeFields){const d=[];for(const p of r.mergeFields){const g=Pf(t,p,n);if(!s.contains(g))throw new q(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Xb(d,g)||d.push(g)}u=new ke(d),h=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=s.fieldTransforms;return new nC(new Re(o),u,h)}class Ju extends _m{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ju}}function rC(e,t,n,i){const a=e.Qu(1,t,n);bm("Data must be an object, but it was:",a,i);const r=[],s=Re.empty();oa(i,(u,h)=>{const d=Am(t,u,n);h=Ai(h);const p=a.Nu(d);if(h instanceof Ju)r.push(d);else{const g=Zu(h,p);g!=null&&(r.push(d),s.set(d,g))}});const o=new ke(r);return new qb(s,o,a.fieldTransforms)}function sC(e,t,n,i,a,r){const s=e.Qu(1,t,n),o=[Pf(t,i,n)],u=[a];if(r.length%2!=0)throw new q(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)o.push(Pf(t,r[g])),u.push(r[g+1]);const h=[],d=Re.empty();for(let g=o.length-1;g>=0;--g)if(!Xb(h,o[g])){const y=o[g];let I=u[g];I=Ai(I);const R=s.Nu(y);if(I instanceof Ju)h.push(y);else{const C=Zu(I,R);C!=null&&(h.push(y),d.set(y,C))}}const p=new ke(h);return new qb(d,p,s.fieldTransforms)}function Zu(e,t){if(Qb(e=Ai(e)))return bm("Unsupported field value:",t,e),Kb(e,t);if(e instanceof _m)return function(i,a){if(!Fb(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(a);r&&a.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,a){const r=[];let s=0;for(const o of i){let u=Zu(o,a.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(e,t)}return function(i,a){if((i=Ai(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Yt.fromDate(i);return{timestampValue:du(a.serializer,r)}}if(i instanceof Yt){const r=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:du(a.serializer,r)}}if(i instanceof Em)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mr)return{bytesValue:pb(a.serializer,i._byteString)};if(i instanceof He){const r=a.databaseId,s=i.firestore._databaseId;if(!s.isEqual(r))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:am(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof vm)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Bu("VectorValues must only contain numeric values.");return em(o.serializer,u)})}}}}}}(i,a);throw a.Bu(`Unsupported field value: ${pm(i)}`)}(e,t)}function Kb(e,t){const n={};return FT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(e,(i,a)=>{const r=Zu(a,t.Mu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function Qb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Yt||e instanceof Em||e instanceof mr||e instanceof He||e instanceof _m||e instanceof vm)}function bm(e,t,n){if(!Qb(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=pm(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function Pf(e,t,n){if((t=Ai(t))instanceof $u)return t._internalPath;if(typeof t=="string")return Am(e,t);throw pu("Field path arguments must be of type string or ",e,!1,void 0,n)}const lC=new RegExp("[~\\*/\\[\\]]");function Am(e,t,n){if(t.search(lC)>=0)throw pu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new $u(...t.split("."))._internalPath}catch{throw pu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function pu(e,t,n,i,a){const r=i&&!i.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||s)&&(u+=" (found",r&&(u+=` in field ${i}`),s&&(u+=` in document ${a}`),u+=")"),new q(B.INVALID_ARGUMENT,o+e+u)}function Xb(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,n,i,a,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oC extends $b{data(){return super.data()}}function Jb(e,t){return typeof t=="string"?Am(e,t):t instanceof $u?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cC{convertValue(t,n="none"){switch(na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ea(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return oa(t,(a,r)=>{i[a]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(s=>Ut(s.doubleValue));return new vm(r)}convertGeoPoint(t){return new Em(Ut(t.latitude),Ut(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=$d(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Gs(t));default:return null}}convertTimestamp(t){const n=xi(t);return new Yt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Mt.fromString(t);gt(bb(i));const a=new qs(i.get(1),i.get(3)),r=new Y(i.popFirst(5));return a.isEqual(n)||Hn(`Document ${r} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zb extends $b{constructor(t,n,i,a,r,s){super(t,n,i,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ro(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Jb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ro extends Zb{data(t={}){return super.data(t)}}class fC{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new rs(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ro(this._firestore,this._userDataWriter,i.key,i,new rs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,r){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Ro(a._firestore,a._userDataWriter,o.doc.key,o.doc,new rs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Ro(a._firestore,a._userDataWriter,o.doc.key,o.doc,new rs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,d=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:dC(o.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class Wb extends cC{constructor(t){super(),this.firestore=t}convertBytes(t){return new mr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,n)}}function mC(e,t,n){e=_i(e,He);const i=_i(e.firestore,Xs),a=hC(e.converter,t);return tA(i,[aC(Yb(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,dn.none())])}function Xr(e,t,n,...i){e=_i(e,He);const a=_i(e.firestore,Xs),r=Yb(a);let s;return s=typeof(t=Ai(t))=="string"||t instanceof $u?sC(r,"updateDoc",e._key,t,n,i):rC(r,"updateDoc",e._key,t),tA(a,[s.toMutation(e._key,dn.exists(!0))])}function gC(e,...t){var n,i,a;e=Ai(e);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||n_(t[s])||(r=t[s],s++);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(n_(t[s])){const p=t[s];t[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),t[s+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),t[s+2]=(a=p.complete)===null||a===void 0?void 0:a.bind(p)}let u,h,d;if(e instanceof He)h=_i(e.firestore,Xs),d=tm(e._key.path),u={next:p=>{t[s]&&t[s](pC(h,e,p))},error:t[s+1],complete:t[s+2]};else{const p=_i(e,Xu);h=_i(p.firestore,Xs),d=p._query;const g=new Wb(h);u={next:y=>{t[s]&&t[s](new fC(h,g,p,y))},error:t[s+1],complete:t[s+2]},uC(e._query)}return function(g,y,I,R){const C=new YN(R),A=new IN(y,C,I);return g.asyncQueue.enqueueAndForget(async()=>SN(await J0(g),A)),()=>{C.Za(),g.asyncQueue.enqueueAndForget(async()=>xN(await J0(g),A))}}(Gb(h),d,o,u)}function tA(e,t){return function(i,a){const r=new Qi;return i.asyncQueue.enqueueAndForget(async()=>jN(await XN(i),a,r)),r.promise}(Gb(e),t)}function pC(e,t,n){const i=n.docs.get(t._key),a=new Wb(e);return new Zb(e,a,t._key,i,new rs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Sr=a})(ZR),lu(new Ps("firestore",(i,{instanceIdentifier:a,options:r})=>{const s=i.getProvider("app").getImmediate(),o=new Xs(new dI(i.getProvider("auth-internal")),new yI(i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(h.options.projectId,d)}(s,a),s);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Qa(v0,"4.7.3",t),Qa(v0,"4.7.3","esm2017")})();const yC={apiKey:"AIzaSyDhdfcG6ONFjii9sZdMn9zLoOA2oaiACG8",authDomain:"mel-trip-95837.firebaseapp.com",projectId:"mel-trip-95837",storageBucket:"mel-trip-95837.firebasestorage.app",messagingSenderId:"201385610606",appId:"1:201385610606:web:57ab03c06c24fe9ae9057f"},_C=VT(yC),_a=WN(_C),ph=[{day:1,date:"2026-01-21",weekday:"",weather:"sunny",temp:24,tips:" 4  T1 ",events:[{id:"1-0",time:"01:45",title:"(TPE)  (SIN)",location:"Taoyuan Intl Airport (TPE)",type:"flight",notes:`Scoot TR 897
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 897",airline:"Scoot B787-9",departCode:"TPE",arriveCode:"SIN",departTerminal:"1",arriveTerminal:"1",duration:"4h 40m"}},{id:"1-1",time:"10:20",title:"(SIN)  (MEL)",location:"Changi Airport (SIN)",type:"flight",notes:`Scoot TR 24
Layover: 3h 55m`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 24",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"MEL",departTerminal:"1",arriveTerminal:"2",duration:"7h 30m"}},{id:"1-2",time:"20:50",title:"",location:"Melbourne Airport",lat:-37.669,lng:144.841,type:"transport",notes:""},{id:"1-3",time:"21:40",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:""},{id:"1-4",time:"22:30",title:": Inner CBD Apartment",location:"Melbourne CBD (Near Southern Cross)",lat:-37.815,lng:144.955,type:"hotel",notes:"HDSS07/InnerCBD/1Min->Station"}]},{day:2,date:"2026-01-22",weekday:"",weather:"sunny",temp:28,tips:"",events:[{id:"2-1",time:"10:00",title:": ",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"2-2",time:"12:00",title:"",location:"Melbourne Park Outdoor Courts",lat:-37.822,lng:144.979,type:"activity",notes:""},{id:"2-3",time:"15:00",title:"John Cain / KIA Arena",location:"John Cain Arena",lat:-37.823,lng:144.98,type:"activity",notes:"Ground Pass "},{id:"2-4",time:"18:00",title:"Garden Square ",location:"Garden Square",lat:-37.821,lng:144.978,type:"food",notes:""}]},{day:3,date:"2026-01-23",weekday:"",weather:"partly-cloudy",temp:26,tips:"",events:[{id:"3-1",time:"10:00",title:" &  Day 2",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"3-2",time:"13:00",title:"Grand Slam Oval ",location:"Grand Slam Oval",lat:-37.8225,lng:144.9795,type:"food",notes:""},{id:"3-3",time:"16:00",title:"",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:" 70 "},{id:"3-4",time:"20:00",title:": ",location:"300 Spencer St, Melbourne",lat:-37.8119,lng:144.9536,type:"hotel",notes:"Atlantis Hotel Melbourne",bookingUrl:"https://www.agoda.com/zh-tw/account/editbooking.html?bookingId=Z8C4Kfulw2iR33s2tqaz9g%3D%3D&landFrom=TripDetail&sort=BookingStartDate&state=Upcoming&page=1&ds=xCyHKy4CaORlQkTX"}]},{day:4,date:"2026-01-24",weekday:"",weather:"sunny",temp:25,tips:"",events:[{id:"4-0",time:"10:15",title:" Footscray ",location:"300 Spencer St to Footscray",lat:-37.8119,lng:144.9536,type:"transport",notes:" Uber/Didi (15) "},{id:"4-1",time:"11:00",title:"SIXT : Toyota Yaris",location:"SIXT Car Rental Footscray",lat:-37.803,lng:144.902,type:"transport",notes:"Booking: 9729138629. /",bookingUrl:"https://mail.google.com/mail/u/0/?ogbl#search/sixt/FMfcgzQdzwHKBFvZVxCLZzsKMsMqBlbV"},{id:"4-2",time:"12:30",title:"",location:"Torquay Surf Beach",lat:-38.3324,lng:144.3159,type:"activity",notes:""},{id:"4-3",time:"13:30",title:"",location:"Lorne",lat:-38.5415,lng:143.9754,type:"food",notes:""},{id:"4-4",time:"16:00",title:"",location:"Apollo Bay",lat:-38.7558,lng:143.6558,type:"activity",notes:""},{id:"4-5",time:"18:00",title:": Apollo Stay",location:"38 Thomson Street, Apollo Bay",lat:-38.756,lng:143.656,type:"hotel",notes:"Check-in: 15:00~20:00",bookingUrl:"https://secure.booking.com/confirmation.zh-tw.html?label=mkt123sc-d7a379ea-aab6-4237-b9c5-b29721aadb1f&sid=e6ffd707b4250120589a18d560ea263f&aid=1536461&auth_key=sk2PHyKEv8wF0rTa&source=mytrips"}]},{day:5,date:"2026-01-25",weekday:"",weather:"partly-cloudy",temp:23,tips:"",events:[{id:"5-1",time:"09:00",title:"",location:"Twelve Apostles",lat:-38.6621,lng:143.1051,type:"activity",notes:""},{id:"5-2",time:"10:30",title:" & ",location:"London Bridge",lat:-38.6235,lng:142.9304,type:"activity",notes:""},{id:"5-3",time:"13:00",title:"",location:"Grampians Road",lat:-37.5,lng:142.5,type:"transport",notes:""},{id:"5-4",time:"16:30",title:": Mountain View Motor Inn",location:"4236 Ararat-Halls Gap Road, Halls Gap",lat:-37.155,lng:142.535,type:"hotel",notes:"",bookingUrl:"https://secure.booking.com/confirmation.zh-tw.html?label=mkt123sc-d7a379ea-aab6-4237-b9c5-b29721aadb1f&sid=e6ffd707b4250120589a18d560ea263f&aid=1536461&auth_key=SqXbY6BoFNUqmawu&source=mytrips"}]},{day:6,date:"2026-01-26",weekday:"",weather:"cloudy",temp:22,tips:"",events:[{id:"6-1",time:"09:00",title:"Boroka ",location:"Boroka Lookout",lat:-37.1235,lng:142.5028,type:"activity",notes:""},{id:"6-2",time:"11:00",title:"Brambuk ",location:"Brambuk Cultural Centre",lat:-37.1472,lng:142.5273,type:"activity",notes:""},{id:"6-3",time:"15:00",title:"",location:"Western Highway",lat:-37.5,lng:143.5,type:"transport",notes:" 3.5 "},{id:"6-4",time:"18:00",title:": City Apartment (Bozhu)",location:"371 Little Lonsdale Street",lat:-37.8115,lng:144.959,type:"hotel",notes:""}]},{day:7,date:"2026-01-27",weekday:"",weather:"sunny",temp:27,tips:"",events:[{id:"7-0",time:"10:00",title:"",location:"Footscray",lat:-37.803,lng:144.902,type:"transport",notes:""},{id:"7-1",time:"11:00",title:"SIXT ",location:"SIXT Car Rental Footscray",lat:-37.803,lng:144.902,type:"transport",notes:" 11:00 AM"},{id:"7-2",time:"11:30",title:"",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"transport",notes:" Uber"},{id:"7-3",time:"12:00",title:":  Day 1",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"7-4",time:"19:00",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"food",notes:""}]},{day:8,date:"2026-01-28",weekday:"",weather:"sunny",temp:29,tips:"",events:[{id:"8-1",time:"11:00",title:":  Day 2",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"8-2",time:"16:00",title:"",location:"Royal Arcade",lat:-37.8143,lng:144.9644,type:"activity",notes:""},{id:"8-3",time:"19:00",title:"Yarra River ",location:"Southbank",lat:-37.82,lng:144.965,type:"activity",notes:""}]},{day:9,date:"2026-01-29",weekday:"",weather:"partly-cloudy",temp:24,tips:"",events:[{id:"9-1",time:"12:30",title:"",location:"Federation Square",lat:-37.8179,lng:144.9691,type:"transport",notes:" ()"},{id:"9-2",time:"15:00",title:"Moonlit Sanctuary",location:"Moonlit Sanctuary",lat:-38.2173,lng:145.253,type:"activity",notes:""},{id:"9-3",time:"19:30",title:"",location:"Penguin Parade",lat:-38.5089,lng:145.1485,type:"activity",notes:""},{id:"9-4",time:"22:30",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"transport",notes:""}]},{day:10,date:"2026-01-30",weekday:"",weather:"cloudy",temp:21,tips:"3",events:[{id:"10-1",time:"09:00",title:"",location:"Degraves Street",lat:-37.8166,lng:144.966,type:"food",notes:""},{id:"10-2",time:"10:30",title:"",location:"Queen Victoria Market",lat:-37.8076,lng:144.9568,type:"activity",notes:""},{id:"10-3",time:"13:00",title:"Bratwurst ",location:"QVM Deli Hall",lat:-37.8076,lng:144.9568,type:"food",notes:""},{id:"10-4",time:"15:00",title:"",location:"CBD",lat:-37.8136,lng:144.9631,type:"activity",notes:""}]},{day:11,date:"2026-01-31",weekday:"",weather:"sunny",temp:23,tips:"",events:[{id:"11-1",time:"10:00",title:"",location:"Spencer Outlet Centre",lat:-37.8155,lng:144.953,type:"activity",notes:""},{id:"11-2",time:"13:00",title:"",location:"Southbank Promenade",lat:-37.8205,lng:144.9654,type:"activity",notes:""},{id:"11-3",time:"19:00",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:" T2 "},{id:"11-4",time:"22:35",title:"(MEL)  (SIN)",location:"Tullamarine Airport (MEL)",type:"flight",notes:`Scoot TR 25
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 25",airline:"Scoot B787-9",departCode:"MEL",arriveCode:"SIN",departTerminal:"2",arriveTerminal:"1",duration:"7h 45m"}}]},{day:12,date:"2026-02-01",weekday:"",weather:"partly-cloudy",temp:20,tips:"",events:[{id:"12-1",time:"03:20",title:" ()",location:"Changi Airport (SIN)",type:"transport",notes:"Layover: 4h 50m"},{id:"12-2",time:"08:10",title:"(SIN)  (TPE)",location:"Changi Airport (SIN)",type:"flight",notes:"Scoot TR 874",bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 874",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"TPE",departTerminal:"1",arriveTerminal:"1",duration:"4h 35m"}},{id:"12-3",time:"12:45",title:"",location:"Taoyuan Intl Airport",type:"transport",notes:""}]}],yh=[{id:"1",title:"SkyBus ",type:"transport",url:"https://www.skybus.com.au/",details:""},{id:"2",title:" 2026 ",type:"ticket",url:"https://www.ticketmaster.com.au/australian-open-tickets/artist/1154563",details:"Ground Pass / RLA"},{id:"4",title:"",type:"ticket",url:"https://www.penguins.org.au/",details:" QR Code"}],ao=[{id:"todo",label:"",color:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",isDefault:!0},{id:"packing",label:"",color:"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",isDefault:!0},{id:"shopping",label:"",color:"bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",isDefault:!0},{id:"gift",label:"",color:"bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300",isDefault:!0},{id:"docs",label:"",color:"bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",isDefault:!0}],ro=[{id:"1",text:"",isCompleted:!1,category:"docs"},{id:"2",text:" ETA ",isCompleted:!1,category:"docs"},{id:"3",text:" ()",isCompleted:!1,category:"packing"}],Ea="melbourne-trip-2026",wn=e=>JSON.parse(JSON.stringify(e)),EC=()=>{const[e,t]=tt.useState("itinerary"),[n,i]=tt.useState([]),[a,r]=tt.useState([]),[s,o]=tt.useState([]),[u,h]=tt.useState([]),[d,p]=tt.useState([]),[g,y]=tt.useState(!0),[I,R]=tt.useState("offline");tt.useEffect(()=>{const V=ya(_a,"trips",Ea),T=gC(V,async v=>{if(R("connected"),v.exists()){const b=v.data();b.days&&i(b.days),b.expenses&&r(b.expenses),b.links&&o(b.links),b.todoCategories?p(b.todoCategories):p(ao),b.todos?h(b.todos):h(ro)}else await mC(V,{days:wn(ph),expenses:[],links:wn(yh),todos:wn(ro),todoCategories:wn(ao)}),i(ph),o(yh),h(ro),p(ao);y(!1)},v=>{console.error("Firebase sync error:",v),R("offline"),n.length===0&&(i(ph),o(yh),h(ro),p(ao),y(!1))});return()=>T()},[]);const C=V=>{let T;typeof V=="function"?T=V(n):T=V,i(T);const v=ya(_a,"trips",Ea);Xr(v,{days:wn(T)}).catch(b=>console.error("Update failed",b))},A=V=>{let T;typeof V=="function"?T=V(a):T=V,r(T);const v=ya(_a,"trips",Ea);Xr(v,{expenses:wn(T)}).catch(b=>console.error("Update failed",b))},E=V=>{let T;typeof V=="function"?T=V(s):T=V,o(T);const v=ya(_a,"trips",Ea);Xr(v,{links:wn(T)}).catch(b=>console.error("Update failed",b))},S=V=>{let T;typeof V=="function"?T=V(u):T=V,h(T);const v=ya(_a,"trips",Ea);Xr(v,{todos:wn(T)}).catch(b=>console.error("Update failed",b))},M=V=>{let T;typeof V=="function"?T=V(d):T=V,p(T);const v=ya(_a,"trips",Ea);Xr(v,{todoCategories:wn(T)}).catch(b=>console.error("Update failed",b))},P=()=>{alert("")};return g?m.jsx("div",{className:"bg-slate-900 min-h-screen flex items-center justify-center text-white",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-accent rounded-full animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-sm font-medium",children:"..."})]})}):m.jsx("div",{className:"min-h-screen flex justify-center font-sans bg-gradient-to-br from-slate-100 to-blue-50 dark:from-slate-900 dark:to-slate-800 transition-colors duration-500",children:m.jsxs("div",{className:"w-full max-w-md bg-surface dark:bg-darkSurface h-screen flex flex-col shadow-2xl overflow-hidden relative transition-colors duration-500",children:[m.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm pt-12 pb-3 px-6 flex justify-between items-center z-20 border-b border-gray-100 dark:border-slate-800 transition-colors",children:m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-black text-primary dark:text-white tracking-tight",children:[e==="itinerary"&&"MelbGo ",e==="expenses"&&" ",e==="links"&&" ",e==="todo"&&" "]}),m.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[m.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium tracking-widest uppercase",children:e==="itinerary"?"Melbourne Trip":e==="expenses"?"Split Bills":e==="links"?"Bookings":"Checklist"}),I==="connected"?m.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.5)]",title:""}):m.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400",title:""})]})]})}),m.jsxs("main",{className:"flex-1 overflow-hidden relative",children:[e==="itinerary"&&m.jsx(Nw,{days:n,setDays:C,onMapClick:P}),e==="expenses"&&m.jsx(Cw,{expenses:a,setExpenses:A}),e==="links"&&m.jsx(Dw,{links:s,setLinks:E,days:n,setDays:C}),e==="todo"&&m.jsx(Ow,{todos:u,setTodos:S,categories:d,setCategories:M})]}),m.jsxs("nav",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border-t border-gray-100 dark:border-slate-800 px-6 py-2 pb-6 flex justify-between items-center z-30 shadow-[0_-5px_15px_rgba(0,0,0,0.02)]",children:[m.jsxs("button",{onClick:()=>t("itinerary"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="itinerary"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[m.jsx(Mx,{className:"w-6 h-6"}),m.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),m.jsxs("button",{onClick:()=>t("todo"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="todo"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[m.jsx(bo,{className:"w-6 h-6"}),m.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),m.jsxs("button",{onClick:()=>t("expenses"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="expenses"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[m.jsx(Vx,{className:"w-6 h-6"}),m.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),m.jsxs("button",{onClick:()=>t("links"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="links"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[m.jsx(Hd,{className:"w-6 h-6"}),m.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]})]})]})})},eA=document.getElementById("root");if(!eA)throw new Error("Could not find root element to mount to");const vC=Ox.createRoot(eA);vC.render(m.jsx(ZA.StrictMode,{children:m.jsx(EC,{})}));
