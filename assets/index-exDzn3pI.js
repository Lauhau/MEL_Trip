(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function f_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d_={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA=Symbol.for("react.transitional.element"),YA=Symbol.for("react.fragment");function m_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:qA,type:e,key:i,ref:t!==void 0?t:null,props:n}}Tu.Fragment=YA;Tu.jsx=m_;Tu.jsxs=m_;d_.exports=Tu;var f=d_.exports,g_={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=Symbol.for("react.transitional.element"),KA=Symbol.for("react.portal"),QA=Symbol.for("react.fragment"),XA=Symbol.for("react.strict_mode"),$A=Symbol.for("react.profiler"),JA=Symbol.for("react.consumer"),ZA=Symbol.for("react.context"),WA=Symbol.for("react.forward_ref"),tS=Symbol.for("react.suspense"),eS=Symbol.for("react.memo"),p_=Symbol.for("react.lazy"),nS=Symbol.for("react.activity"),Cg=Symbol.iterator;function iS(e){return e===null||typeof e!="object"?null:(e=Cg&&e[Cg]||e["@@iterator"],typeof e=="function"?e:null)}var y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},__=Object.assign,E_={};function Tr(e,t,n){this.props=e,this.context=t,this.refs=E_,this.updater=n||y_}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v_(){}v_.prototype=Tr.prototype;function Xf(e,t,n){this.props=e,this.context=t,this.refs=E_,this.updater=n||y_}var $f=Xf.prototype=new v_;$f.constructor=Xf;__($f,Tr.prototype);$f.isPureReactComponent=!0;var Dg=Array.isArray;function xh(){}var Ct={H:null,A:null,T:null,S:null},T_=Object.prototype.hasOwnProperty;function Jf(e,t,n){var i=n.ref;return{$$typeof:Qf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function aS(e,t){return Jf(e.type,t,e.props)}function Zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qf}function rS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Og=/\/+/g;function wc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rS(""+e.key):t.toString(36)}function sS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(xh,xh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Na(e,t,n,i,a){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Qf:case KA:s=!0;break;case p_:return s=e._init,Na(s(e._payload),t,n,i,a)}}if(s)return a=a(e),s=i===""?"."+wc(e,0):i,Dg(a)?(n="",s!=null&&(n=s.replace(Og,"$&/")+"/"),Na(a,t,n,"",function(h){return h})):a!=null&&(Zf(a)&&(a=aS(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Og,"$&/")+"/")+s)),t.push(a)),1;s=0;var o=i===""?".":i+":";if(Dg(e))for(var u=0;u<e.length;u++)i=e[u],r=o+wc(i,u),s+=Na(i,t,n,r,a);else if(u=iS(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+wc(i,u++),s+=Na(i,t,n,r,a);else if(r==="object"){if(typeof e.then=="function")return Na(sS(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ul(e,t,n){if(e==null)return e;var i=[],a=0;return Na(e,i,"","",function(r){return t.call(n,r,a++)}),i}function lS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oS={map:Ul,forEach:function(e,t,n){Ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ul(e,function(){t++}),t},toArray:function(e){return Ul(e,function(t){return t})||[]},only:function(e){if(!Zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Activity=nS;it.Children=oS;it.Component=Tr;it.Fragment=QA;it.Profiler=$A;it.PureComponent=Xf;it.StrictMode=XA;it.Suspense=tS;it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ct;it.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ct.H.useMemoCache(e)}};it.cache=function(e){return function(){return e.apply(null,arguments)}};it.cacheSignal=function(){return null};it.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=__({},e.props),a=e.key;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)!T_.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var s=Array(r),o=0;o<r;o++)s[o]=arguments[o+2];i.children=s}return Jf(e.type,a,i)};it.createContext=function(e){return e={$$typeof:ZA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:JA,_context:e},e};it.createElement=function(e,t,n){var i,a={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)T_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return Jf(e,r,a)};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:WA,render:e}};it.isValidElement=Zf;it.lazy=function(e){return{$$typeof:p_,_payload:{_status:-1,_result:e},_init:lS}};it.memo=function(e,t){return{$$typeof:eS,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=Ct.T,n={};Ct.T=n;try{var i=e(),a=Ct.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(xh,Mg)}catch(r){Mg(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ct.T=t}};it.unstable_useCacheRefresh=function(){return Ct.H.useCacheRefresh()};it.use=function(e){return Ct.H.use(e)};it.useActionState=function(e,t,n){return Ct.H.useActionState(e,t,n)};it.useCallback=function(e,t){return Ct.H.useCallback(e,t)};it.useContext=function(e){return Ct.H.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e,t){return Ct.H.useDeferredValue(e,t)};it.useEffect=function(e,t){return Ct.H.useEffect(e,t)};it.useEffectEvent=function(e){return Ct.H.useEffectEvent(e)};it.useId=function(){return Ct.H.useId()};it.useImperativeHandle=function(e,t,n){return Ct.H.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return Ct.H.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return Ct.H.useLayoutEffect(e,t)};it.useMemo=function(e,t){return Ct.H.useMemo(e,t)};it.useOptimistic=function(e,t){return Ct.H.useOptimistic(e,t)};it.useReducer=function(e,t,n){return Ct.H.useReducer(e,t,n)};it.useRef=function(e){return Ct.H.useRef(e)};it.useState=function(e){return Ct.H.useState(e)};it.useSyncExternalStore=function(e,t,n){return Ct.H.useSyncExternalStore(e,t,n)};it.useTransition=function(){return Ct.H.useTransition()};it.version="19.2.3";g_.exports=it;var K=g_.exports;const uS=f_(K);var b_={exports:{}},bu={},A_={exports:{}},S_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,J){var $=G.length;G.push(J);t:for(;0<$;){var q=$-1>>>1,Y=G[q];if(0<a(Y,J))G[q]=J,G[$]=Y,$=q;else break t}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var J=G[0],$=G.pop();if($!==J){G[0]=$;t:for(var q=0,Y=G.length,At=Y>>>1;q<At;){var tt=2*(q+1)-1,U=G[tt],ht=tt+1,k=G[ht];if(0>a(U,$))ht<Y&&0>a(k,U)?(G[q]=k,G[ht]=$,q=ht):(G[q]=U,G[tt]=$,q=tt);else if(ht<Y&&0>a(k,$))G[q]=k,G[ht]=$,q=ht;else break t}}return J}function a(G,J){var $=G.sortIndex-J.sortIndex;return $!==0?$:G.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],h=[],m=1,p=null,g=3,y=!1,I=!1,M=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var J=n(h);J!==null;){if(J.callback===null)i(h);else if(J.startTime<=G)i(h),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(h)}}function P(G){if(M=!1,D(G),!I)if(n(u)!==null)I=!0,H||(H=!0,C());else{var J=n(h);J!==null&&me(P,J.startTime-G)}}var H=!1,v=-1,_=5,T=-1;function S(){return w?!0:!(e.unstable_now()-T<_)}function R(){if(w=!1,H){var G=e.unstable_now();T=G;var J=!0;try{t:{I=!1,M&&(M=!1,b(v),v=-1),y=!0;var $=g;try{e:{for(D(G),p=n(u);p!==null&&!(p.expirationTime>G&&S());){var q=p.callback;if(typeof q=="function"){p.callback=null,g=p.priorityLevel;var Y=q(p.expirationTime<=G);if(G=e.unstable_now(),typeof Y=="function"){p.callback=Y,D(G),J=!0;break e}p===n(u)&&i(u),D(G)}else i(u);p=n(u)}if(p!==null)J=!0;else{var At=n(h);At!==null&&me(P,At.startTime-G),J=!1}}break t}finally{p=null,g=$,y=!1}J=void 0}}finally{J?C():H=!1}}}var C;if(typeof x=="function")C=function(){x(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ne=N.port2;N.port1.onmessage=R,C=function(){ne.postMessage(null)}}else C=function(){A(R,0)};function me(G,J){v=A(function(){G(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var $=g;g=J;try{return G()}finally{g=$}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=g;g=G;try{return J()}finally{g=$}},e.unstable_scheduleCallback=function(G,J,$){var q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,G){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,G={id:m++,callback:J,priorityLevel:G,startTime:$,expirationTime:Y,sortIndex:-1},$>q?(G.sortIndex=$,t(h,G),n(u)===null&&G===n(h)&&(M?(b(v),v=-1):M=!0,me(P,$-q))):(G.sortIndex=Y,t(u,G),I||y||(I=!0,H||(H=!0,C()))),G},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(G){var J=g;return function(){var $=g;g=J;try{return G.apply(this,arguments)}finally{g=$}}}})(S_);A_.exports=S_;var cS=A_.exports,x_={exports:{}},Ne={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS=K;function w_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zn(){}var xe={d:{f:Zn,r:function(){throw Error(w_(522))},D:Zn,C:Zn,L:Zn,m:Zn,X:Zn,S:Zn,M:Zn},p:0,findDOMNode:null},fS=Symbol.for("react.portal");function dS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ds=hS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Au(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;Ne.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(w_(299));return dS(e,t,null,n)};Ne.flushSync=function(e){var t=ds.T,n=xe.p;try{if(ds.T=null,xe.p=2,e)return e()}finally{ds.T=t,xe.p=n,xe.d.f()}};Ne.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,xe.d.C(e,t))};Ne.prefetchDNS=function(e){typeof e=="string"&&xe.d.D(e)};Ne.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Au(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?xe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:r}):n==="script"&&xe.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ne.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Au(t.as,t.crossOrigin);xe.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&xe.d.M(e)};Ne.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Au(n,t.crossOrigin);xe.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ne.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Au(t.as,t.crossOrigin);xe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else xe.d.m(e)};Ne.requestFormReset=function(e){xe.d.r(e)};Ne.unstable_batchedUpdates=function(e,t){return e(t)};Ne.useFormState=function(e,t,n){return ds.H.useFormState(e,t,n)};Ne.useFormStatus=function(){return ds.H.useHostTransitionStatus()};Ne.version="19.2.3";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(e){console.error(e)}}N_(),x_.exports=Ne;var mS=x_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=cS,I_=K,gS=mS;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function C_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vg(e){if(nl(e)!==e)throw Error(L(188))}function pS(e){var t=e.alternate;if(!t){if(t=nl(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return Vg(a),e;if(r===i)return Vg(a),t;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=a,i=r;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s){for(o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function O_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=O_(e),t!==null)return t;e=e.sibling}return null}var Dt=Object.assign,yS=Symbol.for("react.element"),Ll=Symbol.for("react.transitional.element"),is=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),M_=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),V_=Symbol.for("react.consumer"),Mn=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Rh=Symbol.for("react.activity"),_S=Symbol.for("react.memo_cache_sentinel"),kg=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=kg&&e[kg]||e["@@iterator"],typeof e=="function"?e:null)}var ES=Symbol.for("react.client.reference");function Ch(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ES?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case wh:return"Profiler";case M_:return"StrictMode";case Nh:return"Suspense";case Ih:return"SuspenseList";case Rh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case is:return"Portal";case Mn:return e.displayName||"Context";case V_:return(e._context.displayName||"Context")+".Consumer";case Wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case td:return t=e.displayName||null,t!==null?t:Ch(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return Ch(e(t))}catch{}}return null}var as=Array.isArray,Z=I_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=gS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xi={pending:!1,data:null,method:null,action:null},Dh=[],ka=-1;function bn(e){return{current:e}}function ee(e){0>ka||(e.current=Dh[ka],Dh[ka]=null,ka--)}function wt(e,t){ka++,Dh[ka]=e.current,e.current=t}var pn=bn(null),Os=bn(null),hi=bn(null),Oo=bn(null);function Mo(e,t){switch(wt(hi,t),wt(Os,e),wt(pn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zp(t),e=tT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(pn),wt(pn,e)}function ir(){ee(pn),ee(Os),ee(hi)}function Oh(e){e.memoizedState!==null&&wt(Oo,e);var t=pn.current,n=tT(t,e.type);t!==n&&(wt(Os,e),wt(pn,n))}function Vo(e){Os.current===e&&(ee(pn),ee(Os)),Oo.current===e&&(ee(Oo),Gs._currentValue=Xi)}var Nc,Ug;function Hi(e){if(Nc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nc=t&&t[1]||"",Ug=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+e+Ug}var Ic=!1;function Rc(e,t){if(!e||Ic)return"";Ic=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(y){var g=y}Reflect.construct(e,[],p)}else{try{p.call()}catch(y){g=y}e.call(p.prototype)}}else{try{throw Error()}catch(y){g=y}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],o=r[1];if(s&&o){var u=s.split(`
`),h=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===h.length)for(i=u.length-1,a=h.length-1;1<=i&&0<=a&&u[i]!==h[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==h[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==h[a]){var m=`
`+u[i].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=i&&0<=a);break}}}finally{Ic=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Hi(n):""}function vS(e,t){switch(e.tag){case 26:case 27:case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return e.child!==t&&t!==null?Hi("Suspense Fallback"):Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Rc(e.type,!1);case 11:return Rc(e.type.render,!1);case 1:return Rc(e.type,!0);case 31:return Hi("Activity");default:return""}}function Lg(e){try{var t="",n=null;do t+=vS(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Mh=Object.prototype.hasOwnProperty,ed=Jt.unstable_scheduleCallback,Cc=Jt.unstable_cancelCallback,TS=Jt.unstable_shouldYield,bS=Jt.unstable_requestPaint,Ge=Jt.unstable_now,AS=Jt.unstable_getCurrentPriorityLevel,k_=Jt.unstable_ImmediatePriority,U_=Jt.unstable_UserBlockingPriority,ko=Jt.unstable_NormalPriority,SS=Jt.unstable_LowPriority,L_=Jt.unstable_IdlePriority,xS=Jt.log,wS=Jt.unstable_setDisableYieldValue,il=null,Fe=null;function ri(e){if(typeof xS=="function"&&wS(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(il,e)}catch{}}var qe=Math.clz32?Math.clz32:RS,NS=Math.log,IS=Math.LN2;function RS(e){return e>>>=0,e===0?32:31-(NS(e)/IS|0)|0}var jl=256,Bl=262144,Pl=4194304;function Gi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Su(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?a=Gi(i):(s&=o,s!==0?a=Gi(s):n||(n=o&~e,n!==0&&(a=Gi(n))))):(o=i&~r,o!==0?a=Gi(o):s!==0?a=Gi(s):n||(n=i&~e,n!==0&&(a=Gi(n)))),a===0?0:t!==0&&t!==a&&!(t&r)&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function al(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function CS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j_(){var e=Pl;return Pl<<=1,!(Pl&62914560)&&(Pl=4194304),e}function Dc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function DS(e,t,n,i,a,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=s&~n;0<n;){var m=31-qe(n),p=1<<m;o[m]=0,u[m]=-1;var g=h[m];if(g!==null)for(h[m]=null,m=0;m<g.length;m++){var y=g[m];y!==null&&(y.lane&=-536870913)}n&=~p}i!==0&&B_(e,i,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function B_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-qe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function P_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-qe(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function z_(e,t){var n=t&-t;return n=n&42?1:nd(n),n&(e.suspendedLanes|t)?0:n}function nd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function id(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function H_(){var e=yt.p;return e!==0?e:(e=window.event,e===void 0?32:hT(e.type))}function jg(e,t){var n=yt.p;try{return yt.p=e,t()}finally{yt.p=n}}var Di=Math.random().toString(36).slice(2),se="__reactFiber$"+Di,ke="__reactProps$"+Di,br="__reactContainer$"+Di,Vh="__reactEvents$"+Di,OS="__reactListeners$"+Di,MS="__reactHandles$"+Di,Bg="__reactResources$"+Di,sl="__reactMarker$"+Di;function ad(e){delete e[se],delete e[ke],delete e[Vh],delete e[OS],delete e[MS]}function Ua(e){var t=e[se];if(t)return t;for(var n=e.parentNode;n;){if(t=n[br]||n[se]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yp(e);e!==null;){if(n=e[se])return n;e=Yp(e)}return t}e=n,n=e.parentNode}return null}function Ar(e){if(e=e[se]||e[br]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Ka(e){var t=e[Bg];return t||(t=e[Bg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function te(e){e[sl]=!0}var G_=new Set,F_={};function fa(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(F_[e]=t,e=0;e<t.length;e++)G_.add(t[e])}var VS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pg={},zg={};function kS(e){return Mh.call(zg,e)?!0:Mh.call(Pg,e)?!1:VS.test(e)?zg[e]=!0:(Pg[e]=!0,!1)}function co(e,t,n){if(kS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function zl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function US(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kh(e){if(!e._valueTracker){var t=q_(e)?"checked":"value";e._valueTracker=US(e,t,""+e[t])}}function Y_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=q_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var LS=/[\n"\\]/g;function tn(e){return e.replace(LS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Uh(e,t,n,i,a,r,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Je(t)):e.value!==""+Je(t)&&(e.value=""+Je(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Lh(e,s,Je(t)):n!=null?Lh(e,s,Je(n)):i!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Je(o):e.removeAttribute("name")}function K_(e,t,n,i,a,r,s,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){kh(e);return}n=n!=null?""+Je(n):"",t=t!=null?""+Je(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),kh(e)}function Lh(e,t,n){t==="number"&&Uo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qa(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Je(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Q_(e,t,n){if(t!=null&&(t=""+Je(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Je(n):""}function X_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(as(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Je(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),kh(e)}function rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||jS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $_(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Hg(e,a,i)}else for(var r in t)t.hasOwnProperty(r)&&Hg(e,r,t[r])}function rd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return PS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vn(){}var jh=null;function sd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,Xa=null;function Gg(e){var t=Ar(e);if(t&&(e=t.stateNode)){var n=e[ke]||null;t:switch(e=t.stateNode,t.type){case"input":if(Uh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[ke]||null;if(!a)throw Error(L(90));Uh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Y_(i)}break t;case"textarea":Q_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Qa(e,!!n.multiple,t,!1)}}}var Oc=!1;function J_(e,t,n){if(Oc)return e(t,n);Oc=!0;try{var i=e(t);return i}finally{if(Oc=!1,(La!==null||Xa!==null)&&(Uu(),La&&(t=La,e=Xa,Xa=La=null,Gg(t),e)))for(t=0;t<e.length;t++)Gg(e[t])}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ke]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bh=!1;if(Bn)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Bh=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Bh=!1}var si=null,ld=null,fo=null;function Z_(){if(fo)return fo;var e,t=ld,n=t.length,i,a="value"in si?si.value:si.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===a[r-i];i++);return fo=a.slice(e,1<i?1-i:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function Fg(){return!1}function Ue(e){function t(n,i,a,r,s){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Hl:Fg,this.isPropagationStopped=Fg,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Ue(da),ll=Dt({},da,{view:0,detail:0}),zS=Ue(ll),Mc,Vc,$r,wu=Dt({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(Mc=e.screenX-$r.screenX,Vc=e.screenY-$r.screenY):Vc=Mc=0,$r=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Vc}}),qg=Ue(wu),HS=Dt({},wu,{dataTransfer:0}),GS=Ue(HS),FS=Dt({},ll,{relatedTarget:0}),kc=Ue(FS),qS=Dt({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),YS=Ue(qS),KS=Dt({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QS=Ue(KS),XS=Dt({},da,{data:0}),Yg=Ue(XS),$S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZS[e])?!!t[e]:!1}function od(){return WS}var t1=Dt({},ll,{key:function(e){if(e.key){var t=$S[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e1=Ue(t1),n1=Dt({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Ue(n1),i1=Dt({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),a1=Ue(i1),r1=Dt({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),s1=Ue(r1),l1=Dt({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o1=Ue(l1),u1=Dt({},da,{newState:0,oldState:0}),c1=Ue(u1),h1=[9,13,27,32],ud=Bn&&"CompositionEvent"in window,ms=null;Bn&&"documentMode"in document&&(ms=document.documentMode);var f1=Bn&&"TextEvent"in window&&!ms,W_=Bn&&(!ud||ms&&8<ms&&11>=ms),Qg=" ",Xg=!1;function tE(e,t){switch(e){case"keyup":return h1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function d1(e,t){switch(e){case"compositionend":return eE(t);case"keypress":return t.which!==32?null:(Xg=!0,Qg);case"textInput":return e=t.data,e===Qg&&Xg?null:e;default:return null}}function m1(e,t){if(ja)return e==="compositionend"||!ud&&tE(e,t)?(e=Z_(),fo=ld=si=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W_&&t.locale!=="ko"?null:t.data;default:return null}}var g1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g1[e.type]:t==="textarea"}function nE(e,t,n,i){La?Xa?Xa.push(i):Xa=[i]:La=i,t=tu(t,"onChange"),0<t.length&&(n=new xu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var gs=null,Vs=null;function p1(e){Jv(e,0)}function Nu(e){var t=rs(e);if(Y_(t))return e}function Jg(e,t){if(e==="change")return t}var iE=!1;if(Bn){var Uc;if(Bn){var Lc="oninput"in document;if(!Lc){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Lc=typeof Zg.oninput=="function"}Uc=Lc}else Uc=!1;iE=Uc&&(!document.documentMode||9<document.documentMode)}function Wg(){gs&&(gs.detachEvent("onpropertychange",aE),Vs=gs=null)}function aE(e){if(e.propertyName==="value"&&Nu(Vs)){var t=[];nE(t,Vs,e,sd(e)),J_(p1,t)}}function y1(e,t,n){e==="focusin"?(Wg(),gs=t,Vs=n,gs.attachEvent("onpropertychange",aE)):e==="focusout"&&Wg()}function _1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Vs)}function E1(e,t){if(e==="click")return Nu(t)}function v1(e,t){if(e==="input"||e==="change")return Nu(t)}function T1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is=="function"?Object.is:T1;function ks(e,t){if(Qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Mh.call(t,a)||!Qe(e[a],t[a]))return!1}return!0}function tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,t){var n=tp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=tp(n)}}function rE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sE(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Uo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Uo(e.document)}return t}function cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var b1=Bn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Ph=null,ps=null,zh=!1;function np(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||Ba==null||Ba!==Uo(i)||(i=Ba,"selectionStart"in i&&cd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ps&&ks(ps,i)||(ps=i,i=tu(Ph,"onSelect"),0<i.length&&(t=new xu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ba)))}function ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},jc={},lE={};Bn&&(lE=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function ma(e){if(jc[e])return jc[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lE)return jc[e]=t[n];return e}var oE=ma("animationend"),uE=ma("animationiteration"),cE=ma("animationstart"),A1=ma("transitionrun"),S1=ma("transitionstart"),x1=ma("transitioncancel"),hE=ma("transitionend"),fE=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function fn(e,t){fE.set(e,t),fa(t,[e])}var Lo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$e=[],za=0,hd=0;function Iu(){for(var e=za,t=hd=za=0;t<e;){var n=$e[t];$e[t++]=null;var i=$e[t];$e[t++]=null;var a=$e[t];$e[t++]=null;var r=$e[t];if($e[t++]=null,i!==null&&a!==null){var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}r!==0&&dE(n,a,r)}}function Ru(e,t,n,i){$e[za++]=e,$e[za++]=t,$e[za++]=n,$e[za++]=i,hd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function fd(e,t,n,i){return Ru(e,t,n,i),jo(e)}function ga(e,t){return Ru(e,null,null,t),jo(e)}function dE(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-qe(n),e=r.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),r):null}function jo(e){if(50<xs)throw xs=0,cf=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ha={};function w1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(e,t,n,i){return new w1(e,t,n,i)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,t){var n=e.alternate;return n===null?(n=Pe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function mE(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function go(e,t,n,i,a,r){var s=0;if(i=e,typeof e=="function")dd(e)&&(s=1);else if(typeof e=="string")s=Dx(e,n,pn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Rh:return e=Pe(31,n,t,a),e.elementType=Rh,e.lanes=r,e;case Va:return $i(n.children,a,r,t);case M_:s=8,a|=24;break;case wh:return e=Pe(12,n,t,a|2),e.elementType=wh,e.lanes=r,e;case Nh:return e=Pe(13,n,t,a),e.elementType=Nh,e.lanes=r,e;case Ih:return e=Pe(19,n,t,a),e.elementType=Ih,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mn:s=10;break t;case V_:s=9;break t;case Wf:s=11;break t;case td:s=14;break t;case Wn:s=16,i=null;break t}s=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Pe(s,n,t,a),t.elementType=e,t.type=i,t.lanes=r,t}function $i(e,t,n,i){return e=Pe(7,e,i,t),e.lanes=n,e}function Bc(e,t,n){return e=Pe(6,e,null,t),e.lanes=n,e}function gE(e){var t=Pe(18,null,null,0);return t.stateNode=e,t}function Pc(e,t,n){return t=Pe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ip=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var n=ip.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lg(t)},ip.set(e,t),t)}return{value:e,source:t,stack:Lg(t)}}var Ga=[],Fa=0,Bo=null,Us=0,Ze=[],We=0,Ai=null,dn=1,mn="";function Dn(e,t){Ga[Fa++]=Us,Ga[Fa++]=Bo,Bo=e,Us=t}function pE(e,t,n){Ze[We++]=dn,Ze[We++]=mn,Ze[We++]=Ai,Ai=e;var i=dn;e=mn;var a=32-qe(i)-1;i&=~(1<<a),n+=1;var r=32-qe(t)+a;if(30<r){var s=a-a%5;r=(i&(1<<s)-1).toString(32),i>>=s,a-=s,dn=1<<32-qe(t)+a|n<<a|i,mn=r+e}else dn=1<<r|n<<a|i,mn=e}function md(e){e.return!==null&&(Dn(e,1),pE(e,1,0))}function gd(e){for(;e===Bo;)Bo=Ga[--Fa],Ga[Fa]=null,Us=Ga[--Fa],Ga[Fa]=null;for(;e===Ai;)Ai=Ze[--We],Ze[We]=null,mn=Ze[--We],Ze[We]=null,dn=Ze[--We],Ze[We]=null}function yE(e,t){Ze[We++]=dn,Ze[We++]=mn,Ze[We++]=Ai,dn=t.id,mn=t.overflow,Ai=e}var le=null,Rt=null,ct=!1,fi=null,nn=!1,Gh=Error(L(519));function Si(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(en(t,e)),Gh}function ap(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[se]=e,t[ke]=i,n){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(n=0;n<zs.length;n++)st(zs[n],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),K_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),X_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Wv(t.textContent,n)?(i.popover!=null&&(st("beforetoggle",t),st("toggle",t)),i.onScroll!=null&&st("scroll",t),i.onScrollEnd!=null&&st("scrollend",t),i.onClick!=null&&(t.onclick=Vn),t=!0):t=!1,t||Si(e,!0)}function rp(e){for(le=e.return;le;)switch(le.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:le=le.return}}function Sa(e){if(e!==le)return!1;if(!ct)return rp(e),ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||gf(e.type,e.memoizedProps)),n=!n),n&&Rt&&Si(e),rp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Rt=qp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Rt=qp(e)}else t===27?(t=Rt,Oi(e.type)?(e=Ef,Ef=null,Rt=e):Rt=t):Rt=le?rn(e.stateNode.nextSibling):null;return!0}function na(){Rt=le=null,ct=!1}function zc(){var e=fi;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),fi=null),e}function Ls(e){fi===null?fi=[e]:fi.push(e)}var Fh=bn(null),pa=null,kn=null;function ei(e,t,n){wt(Fh,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=Fh.current,ee(Fh)}function qh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Yh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var s=a.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),qh(r.return,n,e),i||(s=null);break t}r=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(L(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),qh(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Sr(e,t,n,i){e=null;for(var a=t,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(L(387));if(s=s.memoizedProps,s!==null){var o=a.type;Qe(a.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(a===Oo.current){if(s=a.alternate,s===null)throw Error(L(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Gs):e=[Gs])}a=a.return}e!==null&&Yh(t,e,n,i),t.flags|=262144}function Po(e){for(e=e.firstContext;e!==null;){if(!Qe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){pa=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return _E(pa,e)}function Gl(e,t){return pa===null&&ia(e),_E(e,t)}function _E(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},kn===null){if(e===null)throw Error(L(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return n}var N1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},I1=Jt.unstable_scheduleCallback,R1=Jt.unstable_NormalPriority,Yt={$$typeof:Mn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new N1,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&I1(R1,function(){e.controller.abort()})}var ys=null,Kh=0,sr=0,$a=null;function C1(e,t){if(ys===null){var n=ys=[];Kh=0,sr=zd(),$a={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Kh++,t.then(sp,sp),t}function sp(){if(--Kh===0&&ys!==null){$a!==null&&($a.status="fulfilled");var e=ys;ys=null,sr=0,$a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function D1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var lp=Z.S;Z.S=function(e,t){Ov=Ge(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&C1(e,t),lp!==null&&lp(e,t)};var Ji=bn(null);function yd(){var e=Ji.current;return e!==null?e:xt.pooledCache}function po(e,t){t===null?wt(Ji,Ji.current):wt(Ji,t.pool)}function EE(){var e=yd();return e===null?null:{parent:Yt._currentValue,pool:e}}var xr=Error(L(460)),_d=Error(L(474)),Cu=Error(L(542)),zo={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vE(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Vn,Vn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cp(e),e;default:if(typeof t.status=="string")t.then(Vn,Vn);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cp(e),e}throw Zi=t,xr}}function Fi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Zi=n,xr):n}}var Zi=null;function up(){if(Zi===null)throw Error(L(459));var e=Zi;return Zi=null,e}function cp(e){if(e===xr||e===Cu)throw Error(L(483))}var Ja=null,js=0;function Fl(e){var t=js;return js+=1,Ja===null&&(Ja=[]),vE(Ja,e,t)}function Jr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ql(e,t){throw t.$$typeof===yS?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function TE(e){function t(A,b){if(e){var x=A.deletions;x===null?(A.deletions=[b],A.flags|=16):x.push(b)}}function n(A,b){if(!e)return null;for(;b!==null;)t(A,b),b=b.sibling;return null}function i(A){for(var b=new Map;A!==null;)A.key!==null?b.set(A.key,A):b.set(A.index,A),A=A.sibling;return b}function a(A,b){return A=Un(A,b),A.index=0,A.sibling=null,A}function r(A,b,x){return A.index=x,e?(x=A.alternate,x!==null?(x=x.index,x<b?(A.flags|=67108866,b):x):(A.flags|=67108866,b)):(A.flags|=1048576,b)}function s(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function o(A,b,x,D){return b===null||b.tag!==6?(b=Bc(x,A.mode,D),b.return=A,b):(b=a(b,x),b.return=A,b)}function u(A,b,x,D){var P=x.type;return P===Va?m(A,b,x.props.children,D,x.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wn&&Fi(P)===b.type)?(b=a(b,x.props),Jr(b,x),b.return=A,b):(b=go(x.type,x.key,x.props,null,A.mode,D),Jr(b,x),b.return=A,b)}function h(A,b,x,D){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Pc(x,A.mode,D),b.return=A,b):(b=a(b,x.children||[]),b.return=A,b)}function m(A,b,x,D,P){return b===null||b.tag!==7?(b=$i(x,A.mode,D,P),b.return=A,b):(b=a(b,x),b.return=A,b)}function p(A,b,x){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Bc(""+b,A.mode,x),b.return=A,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ll:return x=go(b.type,b.key,b.props,null,A.mode,x),Jr(x,b),x.return=A,x;case is:return b=Pc(b,A.mode,x),b.return=A,b;case Wn:return b=Fi(b),p(A,b,x)}if(as(b)||Qr(b))return b=$i(b,A.mode,x,null),b.return=A,b;if(typeof b.then=="function")return p(A,Fl(b),x);if(b.$$typeof===Mn)return p(A,Gl(A,b),x);ql(A,b)}return null}function g(A,b,x,D){var P=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return P!==null?null:o(A,b,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ll:return x.key===P?u(A,b,x,D):null;case is:return x.key===P?h(A,b,x,D):null;case Wn:return x=Fi(x),g(A,b,x,D)}if(as(x)||Qr(x))return P!==null?null:m(A,b,x,D,null);if(typeof x.then=="function")return g(A,b,Fl(x),D);if(x.$$typeof===Mn)return g(A,b,Gl(A,x),D);ql(A,x)}return null}function y(A,b,x,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return A=A.get(x)||null,o(b,A,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ll:return A=A.get(D.key===null?x:D.key)||null,u(b,A,D,P);case is:return A=A.get(D.key===null?x:D.key)||null,h(b,A,D,P);case Wn:return D=Fi(D),y(A,b,x,D,P)}if(as(D)||Qr(D))return A=A.get(x)||null,m(b,A,D,P,null);if(typeof D.then=="function")return y(A,b,x,Fl(D),P);if(D.$$typeof===Mn)return y(A,b,x,Gl(b,D),P);ql(b,D)}return null}function I(A,b,x,D){for(var P=null,H=null,v=b,_=b=0,T=null;v!==null&&_<x.length;_++){v.index>_?(T=v,v=null):T=v.sibling;var S=g(A,v,x[_],D);if(S===null){v===null&&(v=T);break}e&&v&&S.alternate===null&&t(A,v),b=r(S,b,_),H===null?P=S:H.sibling=S,H=S,v=T}if(_===x.length)return n(A,v),ct&&Dn(A,_),P;if(v===null){for(;_<x.length;_++)v=p(A,x[_],D),v!==null&&(b=r(v,b,_),H===null?P=v:H.sibling=v,H=v);return ct&&Dn(A,_),P}for(v=i(v);_<x.length;_++)T=y(v,A,_,x[_],D),T!==null&&(e&&T.alternate!==null&&v.delete(T.key===null?_:T.key),b=r(T,b,_),H===null?P=T:H.sibling=T,H=T);return e&&v.forEach(function(R){return t(A,R)}),ct&&Dn(A,_),P}function M(A,b,x,D){if(x==null)throw Error(L(151));for(var P=null,H=null,v=b,_=b=0,T=null,S=x.next();v!==null&&!S.done;_++,S=x.next()){v.index>_?(T=v,v=null):T=v.sibling;var R=g(A,v,S.value,D);if(R===null){v===null&&(v=T);break}e&&v&&R.alternate===null&&t(A,v),b=r(R,b,_),H===null?P=R:H.sibling=R,H=R,v=T}if(S.done)return n(A,v),ct&&Dn(A,_),P;if(v===null){for(;!S.done;_++,S=x.next())S=p(A,S.value,D),S!==null&&(b=r(S,b,_),H===null?P=S:H.sibling=S,H=S);return ct&&Dn(A,_),P}for(v=i(v);!S.done;_++,S=x.next())S=y(v,A,_,S.value,D),S!==null&&(e&&S.alternate!==null&&v.delete(S.key===null?_:S.key),b=r(S,b,_),H===null?P=S:H.sibling=S,H=S);return e&&v.forEach(function(C){return t(A,C)}),ct&&Dn(A,_),P}function w(A,b,x,D){if(typeof x=="object"&&x!==null&&x.type===Va&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ll:t:{for(var P=x.key;b!==null;){if(b.key===P){if(P=x.type,P===Va){if(b.tag===7){n(A,b.sibling),D=a(b,x.props.children),D.return=A,A=D;break t}}else if(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wn&&Fi(P)===b.type){n(A,b.sibling),D=a(b,x.props),Jr(D,x),D.return=A,A=D;break t}n(A,b);break}else t(A,b);b=b.sibling}x.type===Va?(D=$i(x.props.children,A.mode,D,x.key),D.return=A,A=D):(D=go(x.type,x.key,x.props,null,A.mode,D),Jr(D,x),D.return=A,A=D)}return s(A);case is:t:{for(P=x.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(A,b.sibling),D=a(b,x.children||[]),D.return=A,A=D;break t}else{n(A,b);break}else t(A,b);b=b.sibling}D=Pc(x,A.mode,D),D.return=A,A=D}return s(A);case Wn:return x=Fi(x),w(A,b,x,D)}if(as(x))return I(A,b,x,D);if(Qr(x)){if(P=Qr(x),typeof P!="function")throw Error(L(150));return x=P.call(x),M(A,b,x,D)}if(typeof x.then=="function")return w(A,b,Fl(x),D);if(x.$$typeof===Mn)return w(A,b,Gl(A,x),D);ql(A,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,b!==null&&b.tag===6?(n(A,b.sibling),D=a(b,x),D.return=A,A=D):(n(A,b),D=Bc(x,A.mode,D),D.return=A,A=D),s(A)):n(A,b)}return function(A,b,x,D){try{js=0;var P=w(A,b,x,D);return Ja=null,P}catch(v){if(v===xr||v===Cu)throw v;var H=Pe(29,v,null,A.mode);return H.lanes=D,H.return=A,H}finally{}}}var aa=TE(!0),bE=TE(!1),ti=!1;function Ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function di(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,pt&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=jo(e),dE(e,null,n),t}return Ru(e,i,t,n),jo(e)}function _s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,P_(e,n)}}function Hc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Xh=!1;function Es(){if(Xh){var e=$a;if(e!==null)throw e}}function vs(e,t,n,i){Xh=!1;var a=e.updateQueue;ti=!1;var r=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,s===null?r=h:s.next=h,s=u;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==s&&(o===null?m.firstBaseUpdate=h:o.next=h,m.lastBaseUpdate=u))}if(r!==null){var p=a.baseState;s=0,m=h=u=null,o=r;do{var g=o.lane&-536870913,y=g!==o.lane;if(y?(ut&g)===g:(i&g)===g){g!==0&&g===sr&&(Xh=!0),m!==null&&(m=m.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var I=e,M=o;g=t;var w=n;switch(M.tag){case 1:if(I=M.payload,typeof I=="function"){p=I.call(w,p,g);break t}p=I;break t;case 3:I.flags=I.flags&-65537|128;case 0:if(I=M.payload,g=typeof I=="function"?I.call(w,p,g):I,g==null)break t;p=Dt({},p,g);break t;case 2:ti=!0}}g=o.callback,g!==null&&(e.flags|=64,y&&(e.flags|=8192),y=a.callbacks,y===null?a.callbacks=[g]:y.push(g))}else y={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(h=m=y,u=p):m=m.next=y,s|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;y=o,o=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);m===null&&(u=p),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=m,r===null&&(a.shared.lanes=0),wi|=s,e.lanes=s,e.memoizedState=p}}function AE(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function SE(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)AE(n[e],t)}var lr=bn(null),Ho=bn(0);function hp(e,t){e=Gn,wt(Ho,e),wt(lr,t),Gn=e|t.baseLanes}function $h(){wt(Ho,Gn),wt(lr,lr.current)}function vd(){Gn=Ho.current,ee(lr),ee(Ho)}var Xe=bn(null),an=null;function ni(e){var t=e.alternate;wt(zt,zt.current&1),wt(Xe,e),an===null&&(t===null||lr.current!==null||t.memoizedState!==null)&&(an=e)}function Jh(e){wt(zt,zt.current),wt(Xe,e),an===null&&(an=e)}function xE(e){e.tag===22?(wt(zt,zt.current),wt(Xe,e),an===null&&(an=e)):ii()}function ii(){wt(zt,zt.current),wt(Xe,Xe.current)}function Be(e){ee(Xe),an===e&&(an=null),ee(zt)}var zt=bn(0);function Go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||yf(n)||_f(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pn=0,at=null,bt=null,Ft=null,Fo=!1,Za=!1,ra=!1,qo=0,Bs=0,Wa=null,O1=0;function Lt(){throw Error(L(321))}function Td(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}function bd(e,t,n,i,a,r){return Pn=r,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?nv:Md,ra=!1,r=n(i,a),ra=!1,Za&&(r=NE(t,n,i,a)),wE(e),r}function wE(e){Z.H=Ps;var t=bt!==null&&bt.next!==null;if(Pn=0,Ft=bt=at=null,Fo=!1,Bs=0,Wa=null,t)throw Error(L(300));e===null||Kt||(e=e.dependencies,e!==null&&Po(e)&&(Kt=!0))}function NE(e,t,n,i){at=e;var a=0;do{if(Za&&(Wa=null),Bs=0,Za=!1,25<=a)throw Error(L(301));if(a+=1,Ft=bt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Z.H=iv,r=t(n,i)}while(Za);return r}function M1(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?ul(t):t,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(at.flags|=1024),t}function Ad(){var e=qo!==0;return qo=0,e}function Sd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function xd(e){if(Fo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fo=!1}Pn=0,Ft=bt=at=null,Za=!1,Bs=qo=0,Wa=null}function Ae(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?at.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function Ht(){if(bt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Ft===null?at.memoizedState:Ft.next;if(t!==null)Ft=t,bt=e;else{if(e===null)throw at.alternate===null?Error(L(467)):Error(L(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ft===null?at.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var t=Bs;return Bs+=1,Wa===null&&(Wa=[]),e=vE(Wa,e,t),t=at,(Ft===null?t.memoizedState:Ft.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?nv:Md),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===Mn)return ue(e)}throw Error(L(438,String(e)))}function wd(e){var t=null,n=at.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=at.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Du(),at.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=_S;return t.index++,n}function zn(e,t){return typeof t=="function"?t(e):t}function yo(e){var t=Ht();return Nd(t,bt,e)}function Nd(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var a=e.baseQueue,r=i.pending;if(r!==null){if(a!==null){var s=a.next;a.next=r.next,r.next=s}t.baseQueue=a=r,i.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var o=s=null,u=null,h=t,m=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(ut&p)===p:(Pn&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===sr&&(m=!0);else if((Pn&g)===g){h=h.next,g===sr&&(m=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,s=r):u=u.next=p,at.lanes|=g,wi|=g;p=h.action,ra&&n(r,p),r=h.hasEagerState?h.eagerState:n(r,p)}else g={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,s=r):u=u.next=g,at.lanes|=p,wi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?s=r:u.next=o,!Qe(r,e.memoizedState)&&(Kt=!0,m&&(n=$a,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=u,i.lastRenderedState=r}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do r=e(r,s.action),s=s.next;while(s!==a);Qe(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function IE(e,t,n){var i=at,a=Ht(),r=ct;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=t();var s=!Qe((bt||a).memoizedState,n);if(s&&(a.memoizedState=n,Kt=!0),a=a.queue,Id(DE.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||Ft!==null&&Ft.memoizedState.tag&1){if(i.flags|=2048,or(9,{destroy:void 0},CE.bind(null,i,a,n,t),null),xt===null)throw Error(L(349));r||Pn&127||RE(i,t,n)}return n}function RE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=at.updateQueue,t===null?(t=Du(),at.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CE(e,t,n,i){t.value=n,t.getSnapshot=i,OE(t)&&ME(e)}function DE(e,t,n){return n(function(){OE(t)&&ME(e)})}function OE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qe(e,n)}catch{return!0}}function ME(e){var t=ga(e,2);t!==null&&Ve(t,e,2)}function Zh(e){var t=Ae();if(typeof e=="function"){var n=e;if(e=n(),ra){ri(!0);try{n()}finally{ri(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},t}function VE(e,t,n,i){return e.baseState=n,Nd(e,bt,typeof i=="function"?i:zn)}function V1(e,t,n,i,a){if(Vu(e))throw Error(L(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};Z.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,kE(t,r)):(r.next=n.next,t.pending=n.next=r)}}function kE(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var r=Z.T,s={};Z.T=s;try{var o=n(a,i),u=Z.S;u!==null&&u(s,o),fp(e,t,o)}catch(h){Wh(e,t,h)}finally{r!==null&&s.types!==null&&(r.types=s.types),Z.T=r}}else try{r=n(a,i),fp(e,t,r)}catch(h){Wh(e,t,h)}}function fp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){dp(e,t,i)},function(i){return Wh(e,t,i)}):dp(e,t,n)}function dp(e,t,n){t.status="fulfilled",t.value=n,UE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,kE(e,n)))}function Wh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,UE(t),t=t.next;while(t!==i)}e.action=null}function UE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function LE(e,t){return t}function mp(e,t){if(ct){var n=xt.formState;if(n!==null){t:{var i=at;if(ct){if(Rt){e:{for(var a=Rt,r=nn;a.nodeType!==8;){if(!r){a=null;break e}if(a=rn(a.nextSibling),a===null){a=null;break e}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){Rt=rn(a.nextSibling),i=a.data==="F!";break t}}Si(i)}i=!1}i&&(t=n[0])}}return n=Ae(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LE,lastRenderedState:t},n.queue=i,n=WE.bind(null,at,i),i.dispatch=n,i=Zh(!1),r=Od.bind(null,at,!1,i.queue),i=Ae(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=V1.bind(null,at,a,r,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function gp(e){var t=Ht();return jE(t,bt,e)}function jE(e,t,n){if(t=Nd(e,t,LE)[0],e=yo(zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ul(t)}catch(s){throw s===xr?Cu:s}else i=t;t=Ht();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(at.flags|=2048,or(9,{destroy:void 0},k1.bind(null,a,n),null)),[i,r,e]}function k1(e,t){e.action=t}function pp(e){var t=Ht(),n=bt;if(n!==null)return jE(t,n,e);Ht(),t=t.memoizedState,n=Ht();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function or(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=at.updateQueue,t===null&&(t=Du(),at.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function BE(){return Ht().memoizedState}function _o(e,t,n,i){var a=Ae();at.flags|=e,a.memoizedState=or(1|t,{destroy:void 0},n,i===void 0?null:i)}function Mu(e,t,n,i){var a=Ht();i=i===void 0?null:i;var r=a.memoizedState.inst;bt!==null&&i!==null&&Td(i,bt.memoizedState.deps)?a.memoizedState=or(t,r,n,i):(at.flags|=e,a.memoizedState=or(1|t,r,n,i))}function yp(e,t){_o(8390656,8,e,t)}function Id(e,t){Mu(2048,8,e,t)}function U1(e){at.flags|=4;var t=at.updateQueue;if(t===null)t=Du(),at.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function PE(e){var t=Ht().memoizedState;return U1({ref:t,nextImpl:e}),function(){if(pt&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function zE(e,t){return Mu(4,2,e,t)}function HE(e,t){return Mu(4,4,e,t)}function GE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FE(e,t,n){n=n!=null?n.concat([e]):null,Mu(4,4,GE.bind(null,t,e),n)}function Rd(){}function qE(e,t){var n=Ht();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Td(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function YE(e,t){var n=Ht();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Td(t,i[1]))return i[0];if(i=e(),ra){ri(!0);try{e()}finally{ri(!1)}}return n.memoizedState=[i,t],i}function Cd(e,t,n){return n===void 0||Pn&1073741824&&!(ut&261930)?e.memoizedState=t:(e.memoizedState=n,e=Vv(),at.lanes|=e,wi|=e,n)}function KE(e,t,n,i){return Qe(n,t)?n:lr.current!==null?(e=Cd(e,n,i),Qe(e,t)||(Kt=!0),e):!(Pn&42)||Pn&1073741824&&!(ut&261930)?(Kt=!0,e.memoizedState=n):(e=Vv(),at.lanes|=e,wi|=e,t)}function QE(e,t,n,i,a){var r=yt.p;yt.p=r!==0&&8>r?r:8;var s=Z.T,o={};Z.T=o,Od(e,!1,t,n);try{var u=a(),h=Z.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=D1(u,i);Ts(e,t,m,Ye(e))}else Ts(e,t,i,Ye(e))}catch(p){Ts(e,t,{then:function(){},status:"rejected",reason:p},Ye())}finally{yt.p=r,s!==null&&o.types!==null&&(s.types=o.types),Z.T=s}}function L1(){}function tf(e,t,n,i){if(e.tag!==5)throw Error(L(476));var a=XE(e).queue;QE(e,a,t,Xi,n===null?L1:function(){return $E(e),n(i)})}function XE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xi,baseState:Xi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Xi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $E(e){var t=XE(e);t.next===null&&(t=e.alternate.memoizedState),Ts(e,t.next.queue,{},Ye())}function Dd(){return ue(Gs)}function JE(){return Ht().memoizedState}function ZE(){return Ht().memoizedState}function j1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ye();e=di(n);var i=mi(t,e,n);i!==null&&(Ve(i,t,n),_s(i,t,n)),t={cache:pd()},e.payload=t;return}t=t.return}}function B1(e,t,n){var i=Ye();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vu(e)?tv(t,n):(n=fd(e,t,n,i),n!==null&&(Ve(n,e,i),ev(n,t,i)))}function WE(e,t,n){var i=Ye();Ts(e,t,n,i)}function Ts(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))tv(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,o=r(s,n);if(a.hasEagerState=!0,a.eagerState=o,Qe(o,s))return Ru(e,t,a,0),xt===null&&Iu(),!1}catch{}finally{}if(n=fd(e,t,a,i),n!==null)return Ve(n,e,i),ev(n,t,i),!0}return!1}function Od(e,t,n,i){if(i={lane:2,revertLane:zd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(t)throw Error(L(479))}else t=fd(e,n,i,2),t!==null&&Ve(t,e,2)}function Vu(e){var t=e.alternate;return e===at||t!==null&&t===at}function tv(e,t){Za=Fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ev(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,P_(e,n)}}var Ps={readContext:ue,use:Ou,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Ps.useEffectEvent=Lt;var nv={readContext:ue,use:Ou,useCallback:function(e,t){return Ae().memoizedState=[e,t===void 0?null:t],e},useContext:ue,useEffect:yp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_o(4194308,4,GE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){_o(4,2,e,t)},useMemo:function(e,t){var n=Ae();t=t===void 0?null:t;var i=e();if(ra){ri(!0);try{e()}finally{ri(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ae();if(n!==void 0){var a=n(t);if(ra){ri(!0);try{n(t)}finally{ri(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=B1.bind(null,at,e),[i.memoizedState,e]},useRef:function(e){var t=Ae();return e={current:e},t.memoizedState=e},useState:function(e){e=Zh(e);var t=e.queue,n=WE.bind(null,at,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Rd,useDeferredValue:function(e,t){var n=Ae();return Cd(n,e,t)},useTransition:function(){var e=Zh(!1);return e=QE.bind(null,at,e.queue,!0,!1),Ae().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=at,a=Ae();if(ct){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),xt===null)throw Error(L(349));ut&127||RE(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,yp(DE.bind(null,i,r,e),[e]),i.flags|=2048,or(9,{destroy:void 0},CE.bind(null,i,r,n,t),null),n},useId:function(){var e=Ae(),t=xt.identifierPrefix;if(ct){var n=mn,i=dn;n=(i&~(1<<32-qe(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=O1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Dd,useFormState:mp,useActionState:mp,useOptimistic:function(e){var t=Ae();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Od.bind(null,at,!0,n),n.dispatch=t,[e,t]},useMemoCache:wd,useCacheRefresh:function(){return Ae().memoizedState=j1.bind(null,at)},useEffectEvent:function(e){var t=Ae(),n={impl:e};return t.memoizedState=n,function(){if(pt&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},Md={readContext:ue,use:Ou,useCallback:qE,useContext:ue,useEffect:Id,useImperativeHandle:FE,useInsertionEffect:zE,useLayoutEffect:HE,useMemo:YE,useReducer:yo,useRef:BE,useState:function(){return yo(zn)},useDebugValue:Rd,useDeferredValue:function(e,t){var n=Ht();return KE(n,bt.memoizedState,e,t)},useTransition:function(){var e=yo(zn)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:IE,useId:JE,useHostTransitionStatus:Dd,useFormState:gp,useActionState:gp,useOptimistic:function(e,t){var n=Ht();return VE(n,bt,e,t)},useMemoCache:wd,useCacheRefresh:ZE};Md.useEffectEvent=PE;var iv={readContext:ue,use:Ou,useCallback:qE,useContext:ue,useEffect:Id,useImperativeHandle:FE,useInsertionEffect:zE,useLayoutEffect:HE,useMemo:YE,useReducer:Gc,useRef:BE,useState:function(){return Gc(zn)},useDebugValue:Rd,useDeferredValue:function(e,t){var n=Ht();return bt===null?Cd(n,e,t):KE(n,bt.memoizedState,e,t)},useTransition:function(){var e=Gc(zn)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:IE,useId:JE,useHostTransitionStatus:Dd,useFormState:pp,useActionState:pp,useOptimistic:function(e,t){var n=Ht();return bt!==null?VE(n,bt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:wd,useCacheRefresh:ZE};iv.useEffectEvent=PE;function Fc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ef={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ye(),a=di(i);a.payload=t,n!=null&&(a.callback=n),t=mi(e,a,i),t!==null&&(Ve(t,e,i),_s(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ye(),a=di(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=mi(e,a,i),t!==null&&(Ve(t,e,i),_s(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),i=di(n);i.tag=2,t!=null&&(i.callback=t),t=mi(e,i,n),t!==null&&(Ve(t,e,n),_s(t,e,n))}};function _p(e,t,n,i,a,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,s):t.prototype&&t.prototype.isPureReactComponent?!ks(n,i)||!ks(a,r):!0}function Ep(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ef.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Dt({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function av(e){Lo(e)}function rv(e){console.error(e)}function sv(e){Lo(e)}function Yo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function vp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function nf(e,t,n){return n=di(n),n.tag=3,n.payload={element:null},n.callback=function(){Yo(e,t)},n}function lv(e){return e=di(e),e.tag=3,e}function ov(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;e.payload=function(){return a(r)},e.callback=function(){vp(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){vp(t,n,i),typeof a!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function P1(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Sr(t,n,a,!0),n=Xe.current,n!==null){switch(n.tag){case 31:case 13:return an===null?Jo():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===zo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),eh(e,i,a)),!1;case 22:return n.flags|=65536,i===zo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),eh(e,i,a)),!1}throw Error(L(435,n.tag))}return eh(e,i,a),Jo(),!1}if(ct)return t=Xe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==Gh&&(e=Error(L(422),{cause:i}),Ls(en(e,n)))):(i!==Gh&&(t=Error(L(423),{cause:i}),Ls(en(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=en(i,n),a=nf(e.stateNode,i,a),Hc(e,a),jt!==4&&(jt=2)),!1;var r=Error(L(520),{cause:i});if(r=en(r,n),Ss===null?Ss=[r]:Ss.push(r),jt!==4&&(jt=2),t===null)return!0;i=en(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=nf(n.stateNode,i,e),Hc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=lv(a),ov(a,e,n,i),Hc(n,a),!1}n=n.return}while(n!==null);return!1}var Vd=Error(L(461)),Kt=!1;function ae(e,t,n,i){t.child=e===null?bE(t,null,n,i):aa(t,e.child,n,i)}function Tp(e,t,n,i,a){n=n.render;var r=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return ia(t),i=bd(e,t,n,s,r,a),o=Ad(),e!==null&&!Kt?(Sd(e,t,a),Hn(e,t,a)):(ct&&o&&md(t),t.flags|=1,ae(e,t,i,a),t.child)}function bp(e,t,n,i,a){if(e===null){var r=n.type;return typeof r=="function"&&!dd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,uv(e,t,r,i,a)):(e=go(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!kd(e,a)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(s,i)&&e.ref===t.ref)return Hn(e,t,a)}return t.flags|=1,e=Un(r,i),e.ref=t.ref,e.return=t,t.child=e}function uv(e,t,n,i,a){if(e!==null){var r=e.memoizedProps;if(ks(r,i)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=i=r,kd(e,a))e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,Hn(e,t,a)}return af(e,t,n,i,a)}function cv(e,t,n,i){var a=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,t.child=null;return Ap(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&po(t,r!==null?r.cachePool:null),r!==null?hp(t,r):$h(),xE(t);else return i=t.lanes=536870912,Ap(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(po(t,r.cachePool),hp(t,r),ii(),t.memoizedState=null):(e!==null&&po(t,null),$h(),ii());return ae(e,t,a,n),t.child}function ss(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ap(e,t,n,i,a){var r=yd();return r=r===null?null:{parent:Yt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&po(t,null),$h(),xE(t),e!==null&&Sr(e,t,i,!0),t.childLanes=a,null}function Eo(e,t){return t=Ko({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sp(e,t,n){return aa(t,e.child,null,n),e=Eo(t,t.pendingProps),e.flags|=2,Be(t),t.memoizedState=null,e}function z1(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ct){if(i.mode==="hidden")return e=Eo(t,i),t.lanes=536870912,ss(null,e);if(Jh(t),(e=Rt)?(e=nT(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=gE(e),n.return=t,t.child=n,le=t,Rt=null)):e=null,e===null)throw Si(t);return t.lanes=536870912,null}return Eo(t,i)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(Jh(t),a)if(t.flags&256)t.flags&=-257,t=Sp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Kt||Sr(e,t,n,!1),a=(n&e.childLanes)!==0,Kt||a){if(i=xt,i!==null&&(s=z_(i,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,ga(e,s),Ve(i,e,s),Vd;Jo(),t=Sp(e,t,n)}else e=r.treeContext,Rt=rn(s.nextSibling),le=t,ct=!0,fi=null,nn=!1,e!==null&&yE(t,e),t=Eo(t,i),t.flags|=4096;return t}return e=Un(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function af(e,t,n,i,a){return ia(t),n=bd(e,t,n,i,void 0,a),i=Ad(),e!==null&&!Kt?(Sd(e,t,a),Hn(e,t,a)):(ct&&i&&md(t),t.flags|=1,ae(e,t,n,a),t.child)}function xp(e,t,n,i,a,r){return ia(t),t.updateQueue=null,n=NE(t,i,n,a),wE(e),i=Ad(),e!==null&&!Kt?(Sd(e,t,r),Hn(e,t,r)):(ct&&i&&md(t),t.flags|=1,ae(e,t,n,r),t.child)}function wp(e,t,n,i,a){if(ia(t),t.stateNode===null){var r=Ha,s=n.contextType;typeof s=="object"&&s!==null&&(r=ue(s)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ef,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Ed(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?ue(s):Ha,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Fc(t,n,s,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&ef.enqueueReplaceState(r,r.state,null),vs(t,i,r,a),Es(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=sa(n,o);r.props=u;var h=r.context,m=n.contextType;s=Ha,typeof m=="object"&&m!==null&&(s=ue(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,m||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||h!==s)&&Ep(t,r,i,s),ti=!1;var g=t.memoizedState;r.state=g,vs(t,i,r,a),Es(),h=t.memoizedState,o||g!==h||ti?(typeof p=="function"&&(Fc(t,n,p,i),h=t.memoizedState),(u=ti||_p(t,n,u,i,g,h,s))?(m||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=s,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Qh(e,t),s=t.memoizedProps,m=sa(n,s),r.props=m,p=t.pendingProps,g=r.context,h=n.contextType,u=Ha,typeof h=="object"&&h!==null&&(u=ue(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==p||g!==u)&&Ep(t,r,i,u),ti=!1,g=t.memoizedState,r.state=g,vs(t,i,r,a),Es();var y=t.memoizedState;s!==p||g!==y||ti||e!==null&&e.dependencies!==null&&Po(e.dependencies)?(typeof o=="function"&&(Fc(t,n,o,i),y=t.memoizedState),(m=ti||_p(t,n,m,i,g,y,u)||e!==null&&e.dependencies!==null&&Po(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,y,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,y,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),r.props=i,r.state=y,r.context=u,i=m):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,vo(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=aa(t,e.child,null,a),t.child=aa(t,null,n,a)):ae(e,t,n,a),t.memoizedState=r.state,e=t.child):e=Hn(e,t,a),e}function Np(e,t,n,i){return na(),t.flags|=256,ae(e,t,n,i),t.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(e){return{baseLanes:e,cachePool:EE()}}function Kc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ze),e}function hv(e,t,n){var i=t.pendingProps,a=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(a?ni(t):ii(),(e=Rt)?(e=nT(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=gE(e),n.return=t,t.child=n,le=t,Rt=null)):e=null,e===null)throw Si(t);return _f(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,a?(ii(),a=t.mode,o=Ko({mode:"hidden",children:o},a),i=$i(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Yc(n),i.childLanes=Kc(e,s,n),t.memoizedState=qc,ss(null,i)):(ni(t),rf(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(ni(t),t.flags&=-257,t=Qc(e,t,n)):t.memoizedState!==null?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),o=i.fallback,a=t.mode,i=Ko({mode:"visible",children:i.children},a),o=$i(o,a,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,aa(t,e.child,null,n),i=t.child,i.memoizedState=Yc(n),i.childLanes=Kc(e,s,n),t.memoizedState=qc,t=ss(null,i));else if(ni(t),_f(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,i=Error(L(419)),i.stack="",i.digest=s,Ls({value:i,source:null,stack:null}),t=Qc(e,t,n)}else if(Kt||Sr(e,t,n,!1),s=(n&e.childLanes)!==0,Kt||s){if(s=xt,s!==null&&(i=z_(s,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,ga(e,i),Ve(s,e,i),Vd;yf(o)||Jo(),t=Qc(e,t,n)}else yf(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Rt=rn(o.nextSibling),le=t,ct=!0,fi=null,nn=!1,e!==null&&yE(t,e),t=rf(t,i.children),t.flags|=4096);return t}return a?(ii(),o=i.fallback,a=t.mode,u=e.child,h=u.sibling,i=Un(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Un(h,o):(o=$i(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,ss(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Yc(n):(a=o.cachePool,a!==null?(u=Yt._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=EE(),o={baseLanes:o.baseLanes|n,cachePool:a}),i.memoizedState=o,i.childLanes=Kc(e,s,n),t.memoizedState=qc,ss(e.child,i)):(ni(t),n=e.child,e=n.sibling,n=Un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function rf(e,t){return t=Ko({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ko(e,t){return e=Pe(22,e,null,t),e.lanes=0,e}function Qc(e,t,n){return aa(t,e.child,null,n),e=rf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ip(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),qh(e.return,t,n)}function Xc(e,t,n,i,a,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a,s.treeForkCount=r)}function fv(e,t,n){var i=t.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var s=zt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,wt(zt,s),ae(e,t,i,n),i=ct?Us:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,n,t);else if(e.tag===19)Ip(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Go(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Xc(t,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Go(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Xc(t,!0,n,null,r,i);break;case"together":Xc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Sr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Po(e)))}function H1(e,t,n){switch(t.tag){case 3:Mo(t,t.stateNode.containerInfo),ei(t,Yt,e.memoizedState.cache),na();break;case 27:case 5:Oh(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:ei(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ni(t),t.flags|=128,null):n&t.child.childLanes?hv(e,t,n):(ni(t),e=Hn(e,t,n),e!==null?e.sibling:null);ni(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Sr(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return fv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),wt(zt,zt.current),i)break;return null;case 22:return t.lanes=0,cv(e,t,n,t.pendingProps);case 24:ei(t,Yt,e.memoizedState.cache)}return Hn(e,t,n)}function dv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Kt=!0;else{if(!kd(e,n)&&!(t.flags&128))return Kt=!1,H1(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,ct&&t.flags&1048576&&pE(t,Us,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Fi(t.elementType),t.type=e,typeof e=="function")dd(e)?(i=sa(e,i),t.tag=1,t=wp(null,t,e,i,n)):(t.tag=0,t=af(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===Wf){t.tag=11,t=Tp(null,t,e,i,n);break t}else if(a===td){t.tag=14,t=bp(null,t,e,i,n);break t}}throw t=Ch(e)||e,Error(L(306,t,""))}}return t;case 0:return af(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=sa(i,t.pendingProps),wp(e,t,i,a,n);case 3:t:{if(Mo(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var r=t.memoizedState;a=r.element,Qh(e,t),vs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ei(t,Yt,i),i!==r.cache&&Yh(t,[Yt],n,!0),Es(),i=s.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Np(e,t,i,n);break t}else if(i!==a){a=en(Error(L(424)),t),Ls(a),t=Np(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=rn(e.firstChild),le=t,ct=!0,fi=null,nn=!0,n=bE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(na(),i===a){t=Hn(e,t,n);break t}ae(e,t,i,n)}t=t.child}return t;case 26:return vo(e,t),e===null?(n=Qp(t.type,null,t.pendingProps,null))?t.memoizedState=n:ct||(n=t.type,e=t.pendingProps,i=eu(hi.current).createElement(n),i[se]=t,i[ke]=e,ce(i,n,e),te(i),t.stateNode=i):t.memoizedState=Qp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Oh(t),e===null&&ct&&(i=t.stateNode=iT(t.type,t.pendingProps,hi.current),le=t,nn=!0,a=Rt,Oi(t.type)?(Ef=a,Rt=rn(i.firstChild)):Rt=a),ae(e,t,t.pendingProps.children,n),vo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((a=i=Rt)&&(i=_x(i,t.type,t.pendingProps,nn),i!==null?(t.stateNode=i,le=t,Rt=rn(i.firstChild),nn=!1,a=!0):a=!1),a||Si(t)),Oh(t),a=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,i=r.children,gf(a,r)?i=null:s!==null&&gf(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=bd(e,t,M1,null,null,n),Gs._currentValue=a),vo(e,t),ae(e,t,i,n),t.child;case 6:return e===null&&ct&&((e=n=Rt)&&(n=Ex(n,t.pendingProps,nn),n!==null?(t.stateNode=n,le=t,Rt=null,e=!0):e=!1),e||Si(t)),null;case 13:return hv(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=aa(t,null,i,n):ae(e,t,i,n),t.child;case 11:return Tp(e,t,t.type,t.pendingProps,n);case 7:return ae(e,t,t.pendingProps,n),t.child;case 8:return ae(e,t,t.pendingProps.children,n),t.child;case 12:return ae(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ei(t,t.type,i.value),ae(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,ia(t),a=ue(a),i=i(a),t.flags|=1,ae(e,t,i,n),t.child;case 14:return bp(e,t,t.type,t.pendingProps,n);case 15:return uv(e,t,t.type,t.pendingProps,n);case 19:return fv(e,t,n);case 31:return z1(e,t,n);case 22:return cv(e,t,n,t.pendingProps);case 24:return ia(t),i=ue(Yt),e===null?(a=yd(),a===null&&(a=xt,r=pd(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:i,cache:a},Ed(t),ei(t,Yt,a)):(e.lanes&n&&(Qh(e,t),vs(t,null,null,n),Es()),a=e.memoizedState,r=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ei(t,Yt,i)):(i=r.cache,ei(t,Yt,i),i!==a.cache&&Yh(t,[Yt],n,!0))),ae(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function Nn(e){e.flags|=4}function $c(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(Lv())e.flags|=8192;else throw Zi=zo,_d}else e.flags&=-16777217}function Rp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!sT(t))if(Lv())e.flags|=8192;else throw Zi=zo,_d}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?j_():536870912,e.lanes|=t,ur|=t)}function Zr(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function G1(e,t,n){var i=t.pendingProps;switch(gd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(Yt),ir(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sa(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zc())),It(t),null;case 26:var a=t.type,r=t.memoizedState;return e===null?(Nn(t),r!==null?(It(t),Rp(t,r)):(It(t),$c(t,a,null,i,n))):r?r!==e.memoizedState?(Nn(t),It(t),Rp(t,r)):(It(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Nn(t),It(t),$c(t,a,e,i,n)),null;case 27:if(Vo(t),n=hi.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return It(t),null}e=pn.current,Sa(t)?ap(t):(e=iT(a,i,n),t.stateNode=e,Nn(t))}return It(t),null;case 5:if(Vo(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return It(t),null}if(r=pn.current,Sa(t))ap(t);else{var s=eu(hi.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?s.createElement(a,{is:i.is}):s.createElement(a)}}r[se]=t,r[ke]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;t:switch(ce(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Nn(t)}}return It(t),$c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=hi.current,Sa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=le,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[se]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Wv(e.nodeValue,n)),e||Si(t,!0)}else e=eu(e).createTextNode(i),e[se]=t,t.stateNode=e}return It(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Sa(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[se]=t}else na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),e=!1}else n=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Be(t),t):(Be(t),null);if(t.flags&128)throw Error(L(558))}return It(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Sa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[se]=t}else na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),a=!1}else a=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Be(t),t):(Be(t),null)}return Be(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),It(t),null);case 4:return ir(),e===null&&Hd(t.stateNode.containerInfo),It(t),null;case 10:return Ln(t.type),It(t),null;case 19:if(ee(zt),i=t.memoizedState,i===null)return It(t),null;if(a=(t.flags&128)!==0,r=i.rendering,r===null)if(a)Zr(i,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Go(e),r!==null){for(t.flags|=128,Zr(i,!1),e=r.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)mE(n,e),n=n.sibling;return wt(zt,zt.current&1|2),ct&&Dn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ge()>Xo&&(t.flags|=128,a=!0,Zr(i,!1),t.lanes=4194304)}else{if(!a)if(e=Go(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!ct)return It(t),null}else 2*Ge()-i.renderingStartTime>Xo&&n!==536870912&&(t.flags|=128,a=!0,Zr(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=zt.current,wt(zt,a?n&1|2:n&1),ct&&Dn(t,i.treeForkCount),e):(It(t),null);case 22:case 23:return Be(t),vd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),n=t.updateQueue,n!==null&&Yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ee(Ji),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(Yt),It(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function F1(e,t){switch(gd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(Yt),ir(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vo(t),null;case 31:if(t.memoizedState!==null){if(Be(t),t.alternate===null)throw Error(L(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Be(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(zt),null;case 4:return ir(),null;case 10:return Ln(t.type),null;case 22:case 23:return Be(t),vd(),e!==null&&ee(Ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(Yt),null;case 25:return null;default:return null}}function mv(e,t){switch(gd(t),t.tag){case 3:Ln(Yt),ir();break;case 26:case 27:case 5:Vo(t);break;case 4:ir();break;case 31:t.memoizedState!==null&&Be(t);break;case 13:Be(t);break;case 19:ee(zt);break;case 10:Ln(t.type);break;case 22:case 23:Be(t),vd(),e!==null&&ee(Ji);break;case 24:Ln(Yt)}}function cl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==a)}}catch(o){Et(t,t.return,o)}}function xi(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=t;var u=n,h=o;try{h()}catch(m){Et(a,u,m)}}}i=i.next}while(i!==r)}}catch(m){Et(t,t.return,m)}}function gv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{SE(t,n)}catch(i){Et(e,e.return,i)}}}function pv(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Et(e,t,i)}}function bs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){Et(e,t,a)}}function gn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){Et(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Et(e,t,a)}else n.current=null}function yv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){Et(e,e.return,a)}}function Jc(e,t,n){try{var i=e.stateNode;fx(i,e.type,n,t),i[ke]=t}catch(a){Et(e,e.return,a)}}function _v(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Oi(e.type)||e.tag===4}function Zc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_v(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vn));else if(i!==4&&(i===27&&Oi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(sf(e,t,n),e=e.sibling;e!==null;)sf(e,t,n),e=e.sibling}function Qo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Oi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qo(e,t,n),e=e.sibling;e!==null;)Qo(e,t,n),e=e.sibling}function Ev(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ce(t,i,n),t[se]=e,t[ke]=n}catch(r){Et(e,e.return,r)}}var On=!1,qt=!1,Wc=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function q1(e,t){if(e=e.containerInfo,df=ru,e=sE(e),cd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,h=0,m=0,p=e,g=null;e:for(;;){for(var y;p!==n||a!==0&&p.nodeType!==3||(o=s+a),p!==r||i!==0&&p.nodeType!==3||(u=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===e)break e;if(g===n&&++h===a&&(o=s),g===r&&++m===i&&(u=s),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mf={focusedElem:e,selectionRange:n},ru=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){switch(t=Wt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var I=sa(n.type,a);e=i.getSnapshotBeforeUpdate(I,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){Et(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)pf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}}function vv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Rn(e,n),i&4&&cl(5,n);break;case 1:if(Rn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Et(n,n.return,s)}else{var a=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Et(n,n.return,s)}}i&64&&gv(n),i&512&&bs(n,n.return);break;case 3:if(Rn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{SE(e,t)}catch(s){Et(n,n.return,s)}}break;case 27:t===null&&i&4&&Ev(n);case 26:case 5:Rn(e,n),t===null&&i&4&&yv(n),i&512&&bs(n,n.return);break;case 12:Rn(e,n);break;case 31:Rn(e,n),i&4&&Av(e,n);break;case 13:Rn(e,n),i&4&&Sv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=tx.bind(null,n),vx(e,n))));break;case 22:if(i=n.memoizedState!==null||On,!i){t=t!==null&&t.memoizedState!==null||qt,a=On;var r=qt;On=i,(qt=t)&&!r?Cn(e,n,(n.subtreeFlags&8772)!==0):Rn(e,n),On=a,qt=r}break;case 30:break;default:Rn(e,n)}}function Tv(e){var t=e.alternate;t!==null&&(e.alternate=null,Tv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ad(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,De=!1;function In(e,t,n){for(n=n.child;n!==null;)bv(e,t,n),n=n.sibling}function bv(e,t,n){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 26:qt||gn(n,t),In(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qt||gn(n,t);var i=Mt,a=De;Oi(n.type)&&(Mt=n.stateNode,De=!1),In(e,t,n),ws(n.stateNode),Mt=i,De=a;break;case 5:qt||gn(n,t);case 6:if(i=Mt,a=De,Mt=null,In(e,t,n),Mt=i,De=a,Mt!==null)if(De)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(r){Et(n,t,r)}else try{Mt.removeChild(n.stateNode)}catch(r){Et(n,t,r)}break;case 18:Mt!==null&&(De?(e=Mt,Gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),dr(e)):Gp(Mt,n.stateNode));break;case 4:i=Mt,a=De,Mt=n.stateNode.containerInfo,De=!0,In(e,t,n),Mt=i,De=a;break;case 0:case 11:case 14:case 15:xi(2,n,t),qt||xi(4,n,t),In(e,t,n);break;case 1:qt||(gn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&pv(n,t,i)),In(e,t,n);break;case 21:In(e,t,n);break;case 22:qt=(i=qt)||n.memoizedState!==null,In(e,t,n),qt=i;break;default:In(e,t,n)}}function Av(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dr(e)}catch(n){Et(t,t.return,n)}}}function Sv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dr(e)}catch(n){Et(t,t.return,n)}}function Y1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cp),t;default:throw Error(L(435,e.tag))}}function Kl(e,t){var n=Y1(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=ex.bind(null,e,i);i.then(a,a)}})}function Ie(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Oi(o.type)){Mt=o.stateNode,De=!1;break t}break;case 5:Mt=o.stateNode,De=!1;break t;case 3:case 4:Mt=o.stateNode.containerInfo,De=!0;break t}o=o.return}if(Mt===null)throw Error(L(160));bv(r,s,a),Mt=null,De=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xv(t,e),t=t.sibling}var hn=null;function xv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),Re(e),i&4&&(xi(3,e,e.return),cl(3,e),xi(5,e,e.return));break;case 1:Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),i&64&&On&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=hn;if(Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[sl]||r[se]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),ce(r,i,n),r[se]=e,te(r),i=r;break t;case"link":var s=$p("link","href",a).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(r=s[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}r=a.createElement(i),ce(r,i,n),a.head.appendChild(r);break;case"meta":if(s=$p("meta","content",a).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(r=s[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}r=a.createElement(i),ce(r,i,n),a.head.appendChild(r);break;default:throw Error(L(468,i))}r[se]=e,te(r),i=r}e.stateNode=i}else Jp(a,e.type,e.stateNode);else e.stateNode=Xp(a,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Jp(a,e.type,e.stateNode):Xp(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Jc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),n!==null&&i&4&&Jc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ie(t,e),Re(e),i&512&&(qt||n===null||gn(n,n.return)),e.flags&32){a=e.stateNode;try{rr(a,"")}catch(I){Et(e,e.return,I)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Jc(e,a,n!==null?n.memoizedProps:a)),i&1024&&(Wc=!0);break;case 6:if(Ie(t,e),Re(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(I){Et(e,e.return,I)}}break;case 3:if(Ao=null,a=hn,hn=nu(t.containerInfo),Ie(t,e),hn=a,Re(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{dr(t.containerInfo)}catch(I){Et(e,e.return,I)}Wc&&(Wc=!1,wv(e));break;case 4:i=hn,hn=nu(e.stateNode.containerInfo),Ie(t,e),Re(e),hn=i;break;case 12:Ie(t,e),Re(e);break;case 31:Ie(t,e),Re(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 13:Ie(t,e),Re(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ku=Ge()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=On,m=qt;if(On=h||a,qt=m||u,Ie(t,e),qt=m,On=h,Re(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||On||qt||qi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,a)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(I){Et(u,u.return,I)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(I){Et(u,u.return,I)}}}else if(t.tag===18){if(n===null){u=t;try{var y=u.stateNode;a?Fp(y,!0):Fp(u.stateNode,!1)}catch(I){Et(u,u.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Kl(e,n))));break;case 19:Ie(t,e),Re(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 30:break;case 21:break;default:Ie(t,e),Re(e)}}function Re(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(_v(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var a=n.stateNode,r=Zc(e);Qo(e,r,a);break;case 5:var s=n.stateNode;n.flags&32&&(rr(s,""),n.flags&=-33);var o=Zc(e);Qo(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Zc(e);sf(e,h,u);break;default:throw Error(L(161))}}catch(m){Et(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vv(e,t.alternate,t),t=t.sibling}function qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xi(4,t,t.return),qi(t);break;case 1:gn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&pv(t,t.return,n),qi(t);break;case 27:ws(t.stateNode);case 26:case 5:gn(t,t.return),qi(t);break;case 22:t.memoizedState===null&&qi(t);break;case 30:qi(t);break;default:qi(t)}e=e.sibling}}function Cn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Cn(a,r,n),cl(4,r);break;case 1:if(Cn(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){Et(i,i.return,h)}if(i=r,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)AE(u[a],o)}catch(h){Et(i,i.return,h)}}n&&s&64&&gv(r),bs(r,r.return);break;case 27:Ev(r);case 26:case 5:Cn(a,r,n),n&&i===null&&s&4&&yv(r),bs(r,r.return);break;case 12:Cn(a,r,n);break;case 31:Cn(a,r,n),n&&s&4&&Av(a,r);break;case 13:Cn(a,r,n),n&&s&4&&Sv(a,r);break;case 22:r.memoizedState===null&&Cn(a,r,n),bs(r,r.return);break;case 30:break;default:Cn(a,r,n)}t=t.sibling}}function Ud(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ol(n))}function Ld(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e))}function un(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nv(e,t,n,i),t=t.sibling}function Nv(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:un(e,t,n,i),a&2048&&cl(9,t);break;case 1:un(e,t,n,i);break;case 3:un(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e)));break;case 12:if(a&2048){un(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,o=r.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Et(t,t.return,u)}}else un(e,t,n,i);break;case 31:un(e,t,n,i);break;case 13:un(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?un(e,t,n,i):As(e,t):r._visibility&2?un(e,t,n,i):(r._visibility|=2,Ia(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Ud(s,t);break;case 24:un(e,t,n,i),a&2048&&Ld(t.alternate,t);break;default:un(e,t,n,i)}}function Ia(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,o=n,u=i,h=s.flags;switch(s.tag){case 0:case 11:case 15:Ia(r,s,o,u,a),cl(8,s);break;case 23:break;case 22:var m=s.stateNode;s.memoizedState!==null?m._visibility&2?Ia(r,s,o,u,a):As(r,s):(m._visibility|=2,Ia(r,s,o,u,a)),a&&h&2048&&Ud(s.alternate,s);break;case 24:Ia(r,s,o,u,a),a&&h&2048&&Ld(s.alternate,s);break;default:Ia(r,s,o,u,a)}t=t.sibling}}function As(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:As(n,i),a&2048&&Ud(i.alternate,i);break;case 24:As(n,i),a&2048&&Ld(i.alternate,i);break;default:As(n,i)}t=t.sibling}}var ls=8192;function xa(e,t,n){if(e.subtreeFlags&ls)for(e=e.child;e!==null;)Iv(e,t,n),e=e.sibling}function Iv(e,t,n){switch(e.tag){case 26:xa(e,t,n),e.flags&ls&&e.memoizedState!==null&&Ox(n,hn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,t,n);break;case 3:case 4:var i=hn;hn=nu(e.stateNode.containerInfo),xa(e,t,n),hn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ls,ls=16777216,xa(e,t,n),ls=i):xa(e,t,n));break;default:xa(e,t,n)}}function Rv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Dv(i,e)}Rv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cv(e),e=e.sibling}function Cv(e){switch(e.tag){case 0:case 11:case 15:Wr(e),e.flags&2048&&xi(9,e,e.return);break;case 3:Wr(e);break;case 12:Wr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,To(e)):Wr(e);break;default:Wr(e)}}function To(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Dv(i,e)}Rv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xi(8,t,t.return),To(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,To(t));break;default:To(t)}e=e.sibling}}function Dv(e,t){for(;Wt!==null;){var n=Wt;switch(n.tag){case 0:case 11:case 15:xi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ol(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Wt=i;else t:for(n=e;Wt!==null;){i=Wt;var a=i.sibling,r=i.return;if(Tv(i),i===n){Wt=null;break t}if(a!==null){a.return=r,Wt=a;break t}Wt=r}}}var K1={getCacheForType:function(e){var t=ue(Yt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ue(Yt).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,pt=0,xt=null,lt=null,ut=0,_t=0,je=null,li=!1,wr=!1,jd=!1,Gn=0,jt=0,wi=0,Wi=0,Bd=0,ze=0,ur=0,Ss=null,Oe=null,lf=!1,ku=0,Ov=0,Xo=1/0,$o=null,gi=null,Qt=0,pi=null,cr=null,jn=0,of=0,uf=null,Mv=null,xs=0,cf=null;function Ye(){return pt&2&&ut!==0?ut&-ut:Z.T!==null?zd():H_()}function Vv(){if(ze===0)if(!(ut&536870912)||ct){var e=Bl;Bl<<=1,!(Bl&3932160)&&(Bl=262144),ze=e}else ze=536870912;return e=Xe.current,e!==null&&(e.flags|=32),ze}function Ve(e,t,n){(e===xt&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(hr(e,0),oi(e,ut,ze,!1)),rl(e,n),(!(pt&2)||e!==xt)&&(e===xt&&(!(pt&2)&&(Wi|=n),jt===4&&oi(e,ut,ze,!1)),An(e))}function kv(e,t,n){if(pt&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||al(e,t),a=i?J1(e,t):th(e,t,!0),r=i;do{if(a===0){wr&&!i&&oi(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!X1(n)){a=th(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;a=Ss;var u=o.current.memoizedState.isDehydrated;if(u&&(hr(o,s).flags|=256),s=th(o,s,!1),s!==2){if(jd&&!u){o.errorRecoveryDisabledLanes|=r,Wi|=r,a=4;break t}r=Oe,Oe=a,r!==null&&(Oe===null?Oe=r:Oe.push.apply(Oe,r))}a=s}if(r=!1,a!==2)continue}}if(a===1){hr(e,0),oi(e,t,0,!0);break}t:{switch(i=e,r=a,r){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:oi(i,t,ze,!li);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(a=ku+300-Ge(),10<a)){if(oi(i,t,ze,!li),Su(i,0,!0)!==0)break t;jn=t,i.timeoutHandle=eT(Dp.bind(null,i,n,Oe,$o,lf,t,ze,Wi,ur,li,r,"Throttled",-0,0),a);break t}Dp(i,n,Oe,$o,lf,t,ze,Wi,ur,li,r,null,-0,0)}}break}while(!0);An(e)}function Dp(e,t,n,i,a,r,s,o,u,h,m,p,g,y){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},Iv(t,r,p);var I=(r&62914560)===r?ku-Ge():(r&4194048)===r?Ov-Ge():0;if(I=Mx(p,I),I!==null){jn=r,e.cancelPendingCommit=I(Mp.bind(null,e,t,r,n,i,a,s,o,u,m,p,null,g,y)),oi(e,r,s,!h);return}}Mp(e,t,r,n,i,a,s,o,u)}function X1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!Qe(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t,n,i){t&=~Bd,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var r=31-qe(a),s=1<<r;i[r]=-1,a&=~s}n!==0&&B_(e,n,t)}function Uu(){return pt&6?!0:(hl(0),!1)}function Pd(){if(lt!==null){if(_t===0)var e=lt.return;else e=lt,kn=pa=null,xd(e),Ja=null,js=0,e=lt;for(;e!==null;)mv(e.alternate,e),e=e.return;lt=null}}function hr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,gx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),jn=0,Pd(),xt=e,lt=n=Un(e.current,null),ut=t,_t=0,je=null,li=!1,wr=al(e,t),jd=!1,ur=ze=Bd=Wi=wi=jt=0,Oe=Ss=null,lf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-qe(i),r=1<<a;t|=e[a],i&=~r}return Gn=t,Iu(),n}function Uv(e,t){at=null,Z.H=Ps,t===xr||t===Cu?(t=up(),_t=3):t===_d?(t=up(),_t=4):_t=t===Vd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,je=t,lt===null&&(jt=1,Yo(e,en(t,e.current)))}function Lv(){var e=Xe.current;return e===null?!0:(ut&4194048)===ut?an===null:(ut&62914560)===ut||ut&536870912?e===an:!1}function jv(){var e=Z.H;return Z.H=Ps,e===null?Ps:e}function Bv(){var e=Z.A;return Z.A=K1,e}function Jo(){jt=4,li||(ut&4194048)!==ut&&Xe.current!==null||(wr=!0),!(wi&134217727)&&!(Wi&134217727)||xt===null||oi(xt,ut,ze,!1)}function th(e,t,n){var i=pt;pt|=2;var a=jv(),r=Bv();(xt!==e||ut!==t)&&($o=null,hr(e,t)),t=!1;var s=jt;t:do try{if(_t!==0&&lt!==null){var o=lt,u=je;switch(_t){case 8:Pd(),s=6;break t;case 3:case 2:case 9:case 6:Xe.current===null&&(t=!0);var h=_t;if(_t=0,je=null,qa(e,o,u,h),n&&wr){s=0;break t}break;default:h=_t,_t=0,je=null,qa(e,o,u,h)}}$1(),s=jt;break}catch(m){Uv(e,m)}while(!0);return t&&e.shellSuspendCounter++,kn=pa=null,pt=i,Z.H=a,Z.A=r,lt===null&&(xt=null,ut=0,Iu()),s}function $1(){for(;lt!==null;)Pv(lt)}function J1(e,t){var n=pt;pt|=2;var i=jv(),a=Bv();xt!==e||ut!==t?($o=null,Xo=Ge()+500,hr(e,t)):wr=al(e,t);t:do try{if(_t!==0&&lt!==null){t=lt;var r=je;e:switch(_t){case 1:_t=0,je=null,qa(e,t,r,1);break;case 2:case 9:if(op(r)){_t=0,je=null,Op(t);break}t=function(){_t!==2&&_t!==9||xt!==e||(_t=7),An(e)},r.then(t,t);break t;case 3:_t=7;break t;case 4:_t=5;break t;case 7:op(r)?(_t=0,je=null,Op(t)):(_t=0,je=null,qa(e,t,r,7));break;case 5:var s=null;switch(lt.tag){case 26:s=lt.memoizedState;case 5:case 27:var o=lt;if(s?sT(s):o.stateNode.complete){_t=0,je=null;var u=o.sibling;if(u!==null)lt=u;else{var h=o.return;h!==null?(lt=h,Lu(h)):lt=null}break e}}_t=0,je=null,qa(e,t,r,5);break;case 6:_t=0,je=null,qa(e,t,r,6);break;case 8:Pd(),jt=6;break t;default:throw Error(L(462))}}Z1();break}catch(m){Uv(e,m)}while(!0);return kn=pa=null,Z.H=i,Z.A=a,pt=n,lt!==null?0:(xt=null,ut=0,Iu(),jt)}function Z1(){for(;lt!==null&&!TS();)Pv(lt)}function Pv(e){var t=dv(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?Lu(e):lt=t}function Op(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xp(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=xp(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:xd(t);default:mv(n,t),t=lt=mE(t,Gn),t=dv(n,t,Gn)}e.memoizedProps=e.pendingProps,t===null?Lu(e):lt=t}function qa(e,t,n,i){kn=pa=null,xd(t),Ja=null,js=0;var a=t.return;try{if(P1(e,a,t,n,ut)){jt=1,Yo(e,en(n,e.current)),lt=null;return}}catch(r){if(a!==null)throw lt=a,r;jt=1,Yo(e,en(n,e.current)),lt=null;return}t.flags&32768?(ct||i===1?e=!0:wr||ut&536870912?e=!1:(li=e=!0,(i===2||i===9||i===3||i===6)&&(i=Xe.current,i!==null&&i.tag===13&&(i.flags|=16384))),zv(t,e)):Lu(t)}function Lu(e){var t=e;do{if(t.flags&32768){zv(t,li);return}e=t.return;var n=G1(t.alternate,t,Gn);if(n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);jt===0&&(jt=5)}function zv(e,t){do{var n=F1(e.alternate,e);if(n!==null){n.flags&=32767,lt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){lt=e;return}lt=e=n}while(e!==null);jt=6,lt=null}function Mp(e,t,n,i,a,r,s,o,u){e.cancelPendingCommit=null;do ju();while(Qt!==0);if(pt&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(r=t.lanes|t.childLanes,r|=hd,DS(e,n,r,s,o,u),e===xt&&(lt=xt=null,ut=0),cr=t,pi=e,jn=n,of=r,uf=a,Mv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,nx(ko,function(){return Yv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Z.T,Z.T=null,a=yt.p,yt.p=2,s=pt,pt|=4;try{q1(e,t,n)}finally{pt=s,yt.p=a,Z.T=i}}Qt=1,Hv(),Gv(),Fv()}}function Hv(){if(Qt===1){Qt=0;var e=pi,t=cr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Z.T,Z.T=null;var i=yt.p;yt.p=2;var a=pt;pt|=4;try{xv(t,e);var r=mf,s=sE(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&rE(o.ownerDocument.documentElement,o)){if(u!==null&&cd(o)){var h=u.start,m=u.end;if(m===void 0&&(m=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(m,o.value.length);else{var p=o.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var y=g.getSelection(),I=o.textContent.length,M=Math.min(u.start,I),w=u.end===void 0?M:Math.min(u.end,I);!y.extend&&M>w&&(s=w,w=M,M=s);var A=ep(o,M),b=ep(o,w);if(A&&b&&(y.rangeCount!==1||y.anchorNode!==A.node||y.anchorOffset!==A.offset||y.focusNode!==b.node||y.focusOffset!==b.offset)){var x=p.createRange();x.setStart(A.node,A.offset),y.removeAllRanges(),M>w?(y.addRange(x),y.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),y.addRange(x))}}}}for(p=[],y=o;y=y.parentNode;)y.nodeType===1&&p.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var D=p[o];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}ru=!!df,mf=df=null}finally{pt=a,yt.p=i,Z.T=n}}e.current=t,Qt=2}}function Gv(){if(Qt===2){Qt=0;var e=pi,t=cr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Z.T,Z.T=null;var i=yt.p;yt.p=2;var a=pt;pt|=4;try{vv(e,t.alternate,t)}finally{pt=a,yt.p=i,Z.T=n}}Qt=3}}function Fv(){if(Qt===4||Qt===3){Qt=0,bS();var e=pi,t=cr,n=jn,i=Mv;t.subtreeFlags&10256||t.flags&10256?Qt=5:(Qt=0,cr=pi=null,qv(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(gi=null),id(n),t=t.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(il,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Z.T,a=yt.p,yt.p=2,Z.T=null;try{for(var r=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];r(o.value,{componentStack:o.stack})}}finally{Z.T=t,yt.p=a}}jn&3&&ju(),An(e),a=e.pendingLanes,n&261930&&a&42?e===cf?xs++:(xs=0,cf=e):xs=0,hl(0)}}function qv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ol(t)))}function ju(){return Hv(),Gv(),Fv(),Yv()}function Yv(){if(Qt!==5)return!1;var e=pi,t=of;of=0;var n=id(jn),i=Z.T,a=yt.p;try{yt.p=32>n?32:n,Z.T=null,n=uf,uf=null;var r=pi,s=jn;if(Qt=0,cr=pi=null,jn=0,pt&6)throw Error(L(331));var o=pt;if(pt|=4,Cv(r.current),Nv(r,r.current,s,n),pt=o,hl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(il,r)}catch{}return!0}finally{yt.p=a,Z.T=i,qv(e,t)}}function Vp(e,t,n){t=en(n,t),t=nf(e.stateNode,t,2),e=mi(e,t,2),e!==null&&(rl(e,2),An(e))}function Et(e,t,n){if(e.tag===3)Vp(e,e,n);else for(;t!==null;){if(t.tag===3){Vp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gi===null||!gi.has(i))){e=en(n,e),n=lv(2),i=mi(t,n,2),i!==null&&(ov(n,i,t,e),rl(i,2),An(i));break}}t=t.return}}function eh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Q1;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(jd=!0,a.add(n),e=W1.bind(null,e,t,n),t.then(e,e))}function W1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xt===e&&(ut&n)===n&&(jt===4||jt===3&&(ut&62914560)===ut&&300>Ge()-ku?!(pt&2)&&hr(e,0):Bd|=n,ur===ut&&(ur=0)),An(e)}function Kv(e,t){t===0&&(t=j_()),e=ga(e,t),e!==null&&(rl(e,t),An(e))}function tx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kv(e,n)}function ex(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),Kv(e,n)}function nx(e,t){return ed(e,t)}var Zo=null,Ra=null,hf=!1,Wo=!1,nh=!1,ui=0;function An(e){e!==Ra&&e.next===null&&(Ra===null?Zo=Ra=e:Ra=Ra.next=e),Wo=!0,hf||(hf=!0,ax())}function hl(e,t){if(!nh&&Wo){nh=!0;do for(var n=!1,i=Zo;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var s=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-qe(42|e)+1)-1,r&=a&~(s&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,kp(i,r))}else r=ut,r=Su(i,i===xt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||al(i,r)||(n=!0,kp(i,r));i=i.next}while(n);nh=!1}}function ix(){Qv()}function Qv(){Wo=hf=!1;var e=0;ui!==0&&mx()&&(e=ui);for(var t=Ge(),n=null,i=Zo;i!==null;){var a=i.next,r=Xv(i,t);r===0?(i.next=null,n===null?Zo=a:n.next=a,a===null&&(Ra=n)):(n=i,(e!==0||r&3)&&(Wo=!0)),i=a}Qt!==0&&Qt!==5||hl(e),ui!==0&&(ui=0)}function Xv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-qe(r),o=1<<s,u=a[s];u===-1?(!(o&n)||o&i)&&(a[s]=CS(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=xt,n=ut,n=Su(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Cc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||al(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Cc(i),id(n)){case 2:case 8:n=U_;break;case 32:n=ko;break;case 268435456:n=L_;break;default:n=ko}return i=$v.bind(null,e),n=ed(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Cc(i),e.callbackPriority=2,e.callbackNode=null,2}function $v(e,t){if(Qt!==0&&Qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ju()&&e.callbackNode!==n)return null;var i=ut;return i=Su(e,e===xt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(kv(e,i,t),Xv(e,Ge()),e.callbackNode!=null&&e.callbackNode===n?$v.bind(null,e):null)}function kp(e,t){if(ju())return null;kv(e,t,!0)}function ax(){px(function(){pt&6?ed(k_,ix):Qv()})}function zd(){if(ui===0){var e=sr;e===0&&(e=jl,jl<<=1,!(jl&261888)&&(jl=256)),ui=e}return ui}function Up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function Lp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function rx(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var r=Up((a[ke]||null).action),s=i.submitter;s&&(t=(t=s[ke]||null)?Up(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var o=new xu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ui!==0){var u=s?Lp(a,s):new FormData(a);tf(n,{pending:!0,data:u,method:a.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=s?Lp(a,s):new FormData(a),tf(n,{pending:!0,data:u,method:a.method,action:r},r,u))},currentTarget:a}]})}}for(var ih=0;ih<Hh.length;ih++){var ah=Hh[ih],sx=ah.toLowerCase(),lx=ah[0].toUpperCase()+ah.slice(1);fn(sx,"on"+lx)}fn(oE,"onAnimationEnd");fn(uE,"onAnimationIteration");fn(cE,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(A1,"onTransitionRun");fn(S1,"onTransitionStart");fn(x1,"onTransitionCancel");fn(hE,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function Jv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(m){Lo(m)}a.currentTarget=null,r=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,h=o.currentTarget,o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=h;try{r(a)}catch(m){Lo(m)}a.currentTarget=null,r=u}}}}function st(e,t){var n=t[Vh];n===void 0&&(n=t[Vh]=new Set);var i=e+"__bubble";n.has(i)||(Zv(t,e,2,!1),n.add(i))}function rh(e,t,n){var i=0;t&&(i|=4),Zv(n,e,i,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Hd(e){if(!e[Ql]){e[Ql]=!0,G_.forEach(function(n){n!=="selectionchange"&&(ox.has(n)||rh(n,!1,e),rh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,rh("selectionchange",!1,t))}}function Zv(e,t,n,i){switch(hT(t)){case 2:var a=Ux;break;case 8:a=Lx;break;default:a=Yd}n=a.bind(null,t,n,e),a=void 0,!Bh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function sh(e,t,n,i,a){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Ua(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=r=s;continue t}o=o.parentNode}}i=i.return}J_(function(){var h=r,m=sd(n),p=[];t:{var g=fE.get(e);if(g!==void 0){var y=xu,I=e;switch(e){case"keypress":if(mo(n)===0)break t;case"keydown":case"keyup":y=e1;break;case"focusin":I="focus",y=kc;break;case"focusout":I="blur",y=kc;break;case"beforeblur":case"afterblur":y=kc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=GS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=a1;break;case oE:case uE:case cE:y=YS;break;case hE:y=s1;break;case"scroll":case"scrollend":y=zS;break;case"wheel":y=o1;break;case"copy":case"cut":case"paste":y=QS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Kg;break;case"toggle":case"beforetoggle":y=c1}var M=(t&4)!==0,w=!M&&(e==="scroll"||e==="scrollend"),A=M?g!==null?g+"Capture":null:g;M=[];for(var b=h,x;b!==null;){var D=b;if(x=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||x===null||A===null||(D=Ms(b,A),D!=null&&M.push(Hs(b,D,x))),w)break;b=b.return}0<M.length&&(g=new y(g,I,null,n,m),p.push({event:g,listeners:M}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==jh&&(I=n.relatedTarget||n.fromElement)&&(Ua(I)||I[br]))break t;if((y||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,y?(I=n.relatedTarget||n.toElement,y=h,I=I?Ua(I):null,I!==null&&(w=nl(I),M=I.tag,I!==w||M!==5&&M!==27&&M!==6)&&(I=null)):(y=null,I=h),y!==I)){if(M=qg,D="onMouseLeave",A="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(M=Kg,D="onPointerLeave",A="onPointerEnter",b="pointer"),w=y==null?g:rs(y),x=I==null?g:rs(I),g=new M(D,b+"leave",y,n,m),g.target=w,g.relatedTarget=x,D=null,Ua(m)===h&&(M=new M(A,b+"enter",I,n,m),M.target=x,M.relatedTarget=w,D=M),w=D,y&&I)e:{for(M=ux,A=y,b=I,x=0,D=A;D;D=M(D))x++;D=0;for(var P=b;P;P=M(P))D++;for(;0<x-D;)A=M(A),x--;for(;0<D-x;)b=M(b),D--;for(;x--;){if(A===b||b!==null&&A===b.alternate){M=A;break e}A=M(A),b=M(b)}M=null}else M=null;y!==null&&jp(p,g,y,M,!1),I!==null&&w!==null&&jp(p,w,I,M,!0)}}t:{if(g=h?rs(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var H=Jg;else if($g(g))if(iE)H=v1;else{H=_1;var v=y1}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&rd(h.elementType)&&(H=Jg):H=E1;if(H&&(H=H(e,h))){nE(p,H,n,m);break t}v&&v(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&Lh(g,"number",g.value)}switch(v=h?rs(h):window,e){case"focusin":($g(v)||v.contentEditable==="true")&&(Ba=v,Ph=h,ps=null);break;case"focusout":ps=Ph=Ba=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,np(p,n,m);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":np(p,n,m)}var _;if(ud)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else ja?tE(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(W_&&n.locale!=="ko"&&(ja||T!=="onCompositionStart"?T==="onCompositionEnd"&&ja&&(_=Z_()):(si=m,ld="value"in si?si.value:si.textContent,ja=!0)),v=tu(h,T),0<v.length&&(T=new Yg(T,e,null,n,m),p.push({event:T,listeners:v}),_?T.data=_:(_=eE(n),_!==null&&(T.data=_)))),(_=f1?d1(e,n):m1(e,n))&&(T=tu(h,"onBeforeInput"),0<T.length&&(v=new Yg("onBeforeInput","beforeinput",null,n,m),p.push({event:v,listeners:T}),v.data=_)),rx(p,e,h,n,m)}Jv(p,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tu(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=Ms(e,n),a!=null&&i.unshift(Hs(e,a,r)),a=Ms(e,t),a!=null&&i.push(Hs(e,a,r))),e.tag===3)return i;e=e.return}return[]}function ux(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jp(e,t,n,i,a){for(var r=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=Ms(n,r),h!=null&&s.unshift(Hs(n,h,u))):a||(h=Ms(n,r),h!=null&&s.push(Hs(n,h,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var cx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function Bp(e){return(typeof e=="string"?e:""+e).replace(cx,`
`).replace(hx,"")}function Wv(e,t){return t=Bp(t),Bp(e)===t}function Tt(e,t,n,i,a,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||rr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&rr(e,""+i);break;case"className":zl(e,"class",i);break;case"tabIndex":zl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,n,i);break;case"style":$_(e,i,r);break;case"data":if(t!=="object"){zl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ho(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Tt(e,t,"name",a.name,a,null),Tt(e,t,"formEncType",a.formEncType,a,null),Tt(e,t,"formMethod",a.formMethod,a,null),Tt(e,t,"formTarget",a.formTarget,a,null)):(Tt(e,t,"encType",a.encType,a,null),Tt(e,t,"method",a.method,a,null),Tt(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ho(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Vn);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ho(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":st("beforetoggle",e),st("toggle",e),co(e,"popover",i);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":co(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=BS.get(n)||n,co(e,n,i))}}function ff(e,t,n,i,a,r){switch(n){case"style":$_(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?rr(e,i):(typeof i=="number"||typeof i=="bigint")&&rr(e,""+i);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!F_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[ke]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):co(e,n,i)}}}function ce(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:Tt(e,t,r,s,n,null)}}a&&Tt(e,t,"srcSet",n.srcSet,n,null),i&&Tt(e,t,"src",n.src,n,null);return;case"input":st("invalid",e);var o=r=s=a=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":a=m;break;case"type":s=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":r=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:Tt(e,t,i,m,n,null)}}K_(e,r,o,u,h,s,a,!1);return;case"select":st("invalid",e),i=s=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:Tt(e,t,a,o,n,null)}t=r,n=s,e.multiple=!!i,t!=null?Qa(e,!!i,t,!1):n!=null&&Qa(e,!!i,n,!0);return;case"textarea":st("invalid",e),r=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(L(91));break;default:Tt(e,t,s,o,n,null)}X_(e,i,a,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Tt(e,t,u,i,n,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(i=0;i<zs.length;i++)st(zs[i],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:Tt(e,t,h,i,n,null)}return;default:if(rd(t)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&ff(e,t,m,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Tt(e,t,o,i,n,null))}function fx(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,s=null,o=null,u=null,h=null,m=null;for(y in n){var p=n[y];if(n.hasOwnProperty(y)&&p!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(y)||Tt(e,t,y,null,i,p)}}for(var g in i){var y=i[g];if(p=n[g],i.hasOwnProperty(g)&&(y!=null||p!=null))switch(g){case"type":r=y;break;case"name":a=y;break;case"checked":h=y;break;case"defaultChecked":m=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(L(137,t));break;default:y!==p&&Tt(e,t,g,y,i,p)}}Uh(e,s,o,u,h,m,r,a);return;case"select":y=s=o=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(r)||Tt(e,t,r,null,i,u)}for(a in i)if(r=i[a],u=n[a],i.hasOwnProperty(a)&&(r!=null||u!=null))switch(a){case"value":g=r;break;case"defaultValue":o=r;break;case"multiple":s=r;default:r!==u&&Tt(e,t,a,r,i,u)}t=o,n=s,i=y,g!=null?Qa(e,!!n,g,!1):!!i!=!!n&&(t!=null?Qa(e,!!n,t,!0):Qa(e,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Tt(e,t,o,null,i,a)}for(s in i)if(a=i[s],r=n[s],i.hasOwnProperty(s)&&(a!=null||r!=null))switch(s){case"value":g=a;break;case"defaultValue":y=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(L(91));break;default:a!==r&&Tt(e,t,s,a,i,r)}Q_(e,g,y);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:Tt(e,t,I,null,i,g)}for(u in i)if(g=i[u],y=n[u],i.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Tt(e,t,u,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)g=n[M],n.hasOwnProperty(M)&&g!=null&&!i.hasOwnProperty(M)&&Tt(e,t,M,null,i,g);for(h in i)if(g=i[h],y=n[h],i.hasOwnProperty(h)&&g!==y&&(g!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,t));break;default:Tt(e,t,h,g,i,y)}return;default:if(rd(t)){for(var w in n)g=n[w],n.hasOwnProperty(w)&&g!==void 0&&!i.hasOwnProperty(w)&&ff(e,t,w,void 0,i,g);for(m in i)g=i[m],y=n[m],!i.hasOwnProperty(m)||g===y||g===void 0&&y===void 0||ff(e,t,m,g,i,y);return}}for(var A in n)g=n[A],n.hasOwnProperty(A)&&g!=null&&!i.hasOwnProperty(A)&&Tt(e,t,A,null,i,g);for(p in i)g=i[p],y=n[p],!i.hasOwnProperty(p)||g===y||g==null&&y==null||Tt(e,t,p,g,i,y)}function Pp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,s=a.initiatorType,o=a.duration;if(r&&o&&Pp(s)){for(s=0,o=a.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var m=u.transferSize,p=u.initiatorType;m&&Pp(p)&&(u=u.responseEnd,s+=m*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(r+s)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var df=null,mf=null;function eu(e){return e.nodeType===9?e:e.ownerDocument}function zp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function gf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lh=null;function mx(){var e=window.event;return e&&e.type==="popstate"?e===lh?!1:(lh=e,!0):(lh=null,!1)}var eT=typeof setTimeout=="function"?setTimeout:void 0,gx=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(e){return Hp.resolve(null).then(e).catch(yx)}:eT;function yx(e){setTimeout(function(){throw e})}function Oi(e){return e==="head"}function Gp(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),dr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ws(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ws(n);for(var r=n.firstChild;r;){var s=r.nextSibling,o=r.nodeName;r[sl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&ws(e.ownerDocument.body);n=a}while(n);dr(t)}function Fp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function pf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pf(n),ad(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _x(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[sl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function Ex(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rn(e.nextSibling),e===null))return null;return e}function nT(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=rn(e.nextSibling),e===null))return null;return e}function yf(e){return e.data==="$?"||e.data==="$~"}function _f(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vx(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ef=null;function qp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return rn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function iT(e,t,n){switch(t=eu(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function ws(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ad(e)}var sn=new Map,Kp=new Set;function nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=yt.d;yt.d={f:Tx,r:bx,D:Ax,C:Sx,L:xx,m:wx,X:Ix,S:Nx,M:Rx};function Tx(){var e=Kn.f(),t=Uu();return e||t}function bx(e){var t=Ar(e);t!==null&&t.tag===5&&t.type==="form"?$E(t):Kn.r(e)}var Nr=typeof document>"u"?null:document;function aT(e,t,n){var i=Nr;if(i&&typeof t=="string"&&t){var a=tn(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Kp.has(a)||(Kp.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),ce(t,"link",e),te(t),i.head.appendChild(t)))}}function Ax(e){Kn.D(e),aT("dns-prefetch",e,null)}function Sx(e,t){Kn.C(e,t),aT("preconnect",e,t)}function xx(e,t,n){Kn.L(e,t,n);var i=Nr;if(i&&e&&t){var a='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+tn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+tn(n.imageSizes)+'"]')):a+='[href="'+tn(e)+'"]';var r=a;switch(t){case"style":r=fr(e);break;case"script":r=Ir(e)}sn.has(r)||(e=Dt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sn.set(r,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(fl(r))||t==="script"&&i.querySelector(dl(r))||(t=i.createElement("link"),ce(t,"link",e),te(t),i.head.appendChild(t)))}}function wx(e,t){Kn.m(e,t);var n=Nr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+tn(i)+'"][href="'+tn(e)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ir(e)}if(!sn.has(r)&&(e=Dt({rel:"modulepreload",href:e},t),sn.set(r,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dl(r)))return}i=n.createElement("link"),ce(i,"link",e),te(i),n.head.appendChild(i)}}}function Nx(e,t,n){Kn.S(e,t,n);var i=Nr;if(i&&e){var a=Ka(i).hoistableStyles,r=fr(e);t=t||"default";var s=a.get(r);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(fl(r)))o.loading=5;else{e=Dt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sn.get(r))&&Gd(e,n);var u=s=i.createElement("link");te(u),ce(u,"link",e),u._p=new Promise(function(h,m){u.onload=h,u.onerror=m}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,bo(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(r,s)}}}function Ix(e,t){Kn.X(e,t);var n=Nr;if(n&&e){var i=Ka(n).hoistableScripts,a=Ir(e),r=i.get(a);r||(r=n.querySelector(dl(a)),r||(e=Dt({src:e,async:!0},t),(t=sn.get(a))&&Fd(e,t),r=n.createElement("script"),te(r),ce(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function Rx(e,t){Kn.M(e,t);var n=Nr;if(n&&e){var i=Ka(n).hoistableScripts,a=Ir(e),r=i.get(a);r||(r=n.querySelector(dl(a)),r||(e=Dt({src:e,async:!0,type:"module"},t),(t=sn.get(a))&&Fd(e,t),r=n.createElement("script"),te(r),ce(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function Qp(e,t,n,i){var a=(a=hi.current)?nu(a):null;if(!a)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fr(n.href),n=Ka(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fr(n.href);var r=Ka(a).hoistableStyles,s=r.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=a.querySelector(fl(e)))&&!r._p&&(s.instance=r,s.state.loading=5),sn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sn.set(e,n),r||Cx(a,e,n,s.state))),t&&i===null)throw Error(L(528,""));return s}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ir(n),n=Ka(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function fr(e){return'href="'+tn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function rT(e){return Dt({},e,{"data-precedence":e.precedence,precedence:null})}function Cx(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ce(t,"link",n),te(t),e.head.appendChild(t))}function Ir(e){return'[src="'+tn(e)+'"]'}function dl(e){return"script[async]"+e}function Xp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+tn(n.href)+'"]');if(i)return t.instance=i,te(i),i;var a=Dt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),te(i),ce(i,"style",a),bo(i,n.precedence,e),t.instance=i;case"stylesheet":a=fr(n.href);var r=e.querySelector(fl(a));if(r)return t.state.loading|=4,t.instance=r,te(r),r;i=rT(n),(a=sn.get(a))&&Gd(i,a),r=(e.ownerDocument||e).createElement("link"),te(r);var s=r;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ce(r,"link",i),t.state.loading|=4,bo(r,n.precedence,e),t.instance=r;case"script":return r=Ir(n.src),(a=e.querySelector(dl(r)))?(t.instance=a,te(a),a):(i=n,(a=sn.get(r))&&(i=Dt({},n),Fd(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),te(a),ce(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,bo(i,n.precedence,e));return t.instance}function bo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ao=null;function $p(e,t,n){if(Ao===null){var i=new Map,a=Ao=new Map;a.set(n,i)}else a=Ao,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[sl]||r[se]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(r):i.set(s,[r])}}return i}function Jp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Dx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Ox(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=fr(i.href),r=t.querySelector(fl(a));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=iu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,te(r);return}r=t.ownerDocument||t,i=rT(i),(a=sn.get(a))&&Gd(i,a),r=r.createElement("link"),te(r);var s=r;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),ce(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=iu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var oh=0;function Mx(e,t){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&oh===0&&(oh=62500*dx());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var au=null;function So(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,au=new Map,t.forEach(Vx,e),au=null,iu.call(e))}function Vx(e,t){if(!(t.state.loading&4)){var n=au.get(e);if(n)var i=n.get(null);else{n=new Map,au.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var s=a[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}a=t.instance,s=a.getAttribute("data-precedence"),r=n.get(s)||i,r===i&&n.set(null,a),n.set(s,a),this.count++,i=iu.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Gs={$$typeof:Mn,Provider:null,Consumer:null,_currentValue:Xi,_currentValue2:Xi,_threadCount:0};function kx(e,t,n,i,a,r,s,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.hiddenUpdates=Dc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function lT(e,t,n,i,a,r,s,o,u,h,m,p){return e=new kx(e,t,n,s,u,h,m,p,o),t=1,r===!0&&(t|=24),r=Pe(3,null,null,t),e.current=r,r.stateNode=e,t=pd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Ed(r),e}function oT(e){return e?(e=Ha,e):Ha}function uT(e,t,n,i,a,r){a=oT(a),i.context===null?i.context=a:i.pendingContext=a,i=di(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=mi(e,i,t),n!==null&&(Ve(n,e,t),_s(n,e,t))}function Zp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qd(e,t){Zp(e,t),(e=e.alternate)&&Zp(e,t)}function cT(e){if(e.tag===13||e.tag===31){var t=ga(e,67108864);t!==null&&Ve(t,e,67108864),qd(e,67108864)}}function Wp(e){if(e.tag===13||e.tag===31){var t=Ye();t=nd(t);var n=ga(e,t);n!==null&&Ve(n,e,t),qd(e,t)}}var ru=!0;function Ux(e,t,n,i){var a=Z.T;Z.T=null;var r=yt.p;try{yt.p=2,Yd(e,t,n,i)}finally{yt.p=r,Z.T=a}}function Lx(e,t,n,i){var a=Z.T;Z.T=null;var r=yt.p;try{yt.p=8,Yd(e,t,n,i)}finally{yt.p=r,Z.T=a}}function Yd(e,t,n,i){if(ru){var a=vf(i);if(a===null)sh(e,t,i,su,n),t0(e,i);else if(Bx(a,e,t,n,i))i.stopPropagation();else if(t0(e,i),t&4&&-1<jx.indexOf(e)){for(;a!==null;){var r=Ar(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=Gi(r.pendingLanes);if(s!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-qe(s);o.entanglements[1]|=u,s&=~u}An(r),!(pt&6)&&(Xo=Ge()+500,hl(0))}}break;case 31:case 13:o=ga(r,2),o!==null&&Ve(o,r,2),Uu(),qd(r,2)}if(r=vf(i),r===null&&sh(e,t,i,su,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else sh(e,t,i,null,n)}}function vf(e){return e=sd(e),Kd(e)}var su=null;function Kd(e){if(su=null,e=Ua(e),e!==null){var t=nl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=C_(t),e!==null)return e;e=null}else if(n===31){if(e=D_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return su=e,null}function hT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(AS()){case k_:return 2;case U_:return 8;case ko:case SS:return 32;case L_:return 268435456;default:return 32}default:return 32}}var Tf=!1,yi=null,_i=null,Ei=null,Fs=new Map,qs=new Map,ai=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t0(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function ts(e,t,n,i,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},t!==null&&(t=Ar(t),t!==null&&cT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Bx(e,t,n,i,a){switch(t){case"focusin":return yi=ts(yi,e,t,n,i,a),!0;case"dragenter":return _i=ts(_i,e,t,n,i,a),!0;case"mouseover":return Ei=ts(Ei,e,t,n,i,a),!0;case"pointerover":var r=a.pointerId;return Fs.set(r,ts(Fs.get(r)||null,e,t,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,qs.set(r,ts(qs.get(r)||null,e,t,n,i,a)),!0}return!1}function fT(e){var t=Ua(e.target);if(t!==null){var n=nl(t);if(n!==null){if(t=n.tag,t===13){if(t=C_(n),t!==null){e.blockedOn=t,jg(e.priority,function(){Wp(n)});return}}else if(t===31){if(t=D_(n),t!==null){e.blockedOn=t,jg(e.priority,function(){Wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);jh=i,n.target.dispatchEvent(i),jh=null}else return t=Ar(n),t!==null&&cT(t),e.blockedOn=n,!1;t.shift()}return!0}function e0(e,t,n){xo(e)&&n.delete(t)}function Px(){Tf=!1,yi!==null&&xo(yi)&&(yi=null),_i!==null&&xo(_i)&&(_i=null),Ei!==null&&xo(Ei)&&(Ei=null),Fs.forEach(e0),qs.forEach(e0)}function Xl(e,t){e.blockedOn===t&&(e.blockedOn=null,Tf||(Tf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,Px)))}var $l=null;function n0(e){$l!==e&&($l=e,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,function(){$l===e&&($l=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Kd(i||n)===null)continue;break}var r=Ar(n);r!==null&&(e.splice(t,3),t-=3,tf(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function dr(e){function t(u){return Xl(u,e)}yi!==null&&Xl(yi,e),_i!==null&&Xl(_i,e),Ei!==null&&Xl(Ei,e),Fs.forEach(t),qs.forEach(t);for(var n=0;n<ai.length;n++){var i=ai[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)fT(n),n.blockedOn===null&&ai.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],s=a[ke]||null;if(typeof r=="function")s||n0(n);else if(s){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,s=r[ke]||null)o=s.formAction;else if(Kd(a)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),n0(n)}}}function dT(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Qd(e){this._internalRoot=e}Bu.prototype.render=Qd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Ye();uT(n,i,e,t,null,null)};Bu.prototype.unmount=Qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uT(e.current,2,null,e,null,null),Uu(),t[br]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=H_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ai.length&&t!==0&&t<ai[n].priority;n++);ai.splice(n,0,e),n===0&&fT(e)}};var i0=I_.version;if(i0!=="19.2.3")throw Error(L(527,i0,"19.2.3"));yt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=pS(t),e=e!==null?O_(e):null,e=e===null?null:e.stateNode,e};var zx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{il=Jl.inject(zx),Fe=Jl}catch{}}bu.createRoot=function(e,t){if(!R_(e))throw Error(L(299));var n=!1,i="",a=av,r=rv,s=sv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lT(e,1,!1,null,null,n,i,null,a,r,s,dT),e[br]=t.current,Hd(e),new Qd(t)};bu.hydrateRoot=function(e,t,n){if(!R_(e))throw Error(L(299));var i=!1,a="",r=av,s=rv,o=sv,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=lT(e,1,!0,t,n??null,i,a,u,r,s,o,dT),t.context=oT(null),n=t.current,i=Ye(),i=nd(i),a=di(i),a.callback=null,mi(n,a,i),n=i,t.current.lanes=n,rl(t,n),An(t),e[br]=t.current,Hd(e),new Bu(t)};bu.version="19.2.3";function mT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mT)}catch(e){console.error(e)}}mT(),b_.exports=bu;var Hx=b_.exports;const Gx=f_(Hx),Fx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),f.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),f.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),qx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),Xd=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),f.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),Yx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"}),f.jsx("line",{x1:"9",x2:"9",y1:"3",y2:"18"}),f.jsx("line",{x1:"15",x2:"15",y1:"6",y2:"21"})]}),gT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M5 12h14"}),f.jsx("path",{d:"M12 5v14"})]}),la=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),Kx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"orange",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("circle",{cx:"12",cy:"12",r:"4"}),f.jsx("path",{d:"M12 2v2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),f.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),f.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),oa=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:f.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),Qx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),f.jsx("path",{d:"M16 14v6"}),f.jsx("path",{d:"M8 14v6"}),f.jsx("path",{d:"M12 16v6"})]}),pT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}),f.jsx("path",{d:"M7 2v20"}),f.jsx("path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"})]}),yT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"}),f.jsx("circle",{cx:"7",cy:"17",r:"2"}),f.jsx("path",{d:"M9 17h6"}),f.jsx("circle",{cx:"17",cy:"17",r:"2"})]}),_T=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M2 4v16"}),f.jsx("path",{d:"M2 8h18a2 2 0 0 1 2 2v10"}),f.jsx("path",{d:"M2 17h20"}),f.jsx("path",{d:"M6 8v9"})]}),ET=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),f.jsx("path",{d:"M13 5v2"}),f.jsx("path",{d:"M13 17v2"}),f.jsx("path",{d:"M13 11v2"})]}),uh=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M2 12h20"}),f.jsx("path",{d:"M13 2 9 12h9l4 10"})]}),wo=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{x:"3",y:"5",width:"6",height:"6",rx:"1"}),f.jsx("path",{d:"m3 17 2 2 4-4"}),f.jsx("path",{d:"M13 6h8"}),f.jsx("path",{d:"M13 12h8"}),f.jsx("path",{d:"M13 18h8"})]}),vT=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),Xx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M6 20h0a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h0"}),f.jsx("path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14"}),f.jsx("path",{d:"M10 20h4"}),f.jsx("circle",{cx:"16",cy:"20",r:"2"}),f.jsx("circle",{cx:"8",cy:"20",r:"2"})]}),$x=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"})]}),Jx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),f.jsx("path",{d:"M12 8v13"}),f.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),f.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]}),ch=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("path",{d:"m16 3 4 4-4 4"}),f.jsx("path",{d:"M20 7H4"}),f.jsx("path",{d:"m8 21-4-4 4-4"}),f.jsx("path",{d:"M4 17h16"})]}),a0=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),f.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),Zx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[f.jsx("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),f.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]});var Wx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var r0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(r0||(r0={}));var s0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(s0||(s0={}));var l0;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(l0||(l0={}));var o0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(o0||(o0={}));var u0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(u0||(u0={}));var c0;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(c0||(c0={}));var h0;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(h0||(h0={}));var f0;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(f0||(f0={}));var d0;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(d0||(d0={}));var m0;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(m0||(m0={}));var g0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(g0||(g0={}));var p0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(p0||(p0={}));var y0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(y0||(y0={}));var _0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(_0||(_0={}));var E0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(E0||(E0={}));var v0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(v0||(v0={}));var T0;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(T0||(T0={}));var b0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(b0||(b0={}));var A0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(A0||(A0={}));var S0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(S0||(S0={}));var x0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(x0||(x0={}));var w0;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(w0||(w0={}));var N0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(N0||(N0={}));var I0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(I0||(I0={}));var R0;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(R0||(R0={}));var C0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(C0||(C0={}));var D0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(D0||(D0={}));var O0;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(O0||(O0={}));var M0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(M0||(M0={}));var V0;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(V0||(V0={}));var k0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(k0||(k0={}));var U0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(U0||(U0={}));var L0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(L0||(L0={}));var j0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(j0||(j0={}));var B0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(B0||(B0={}));var P0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(P0||(P0={}));var z0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(z0||(z0={}));var H0;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(H0||(H0={}));var G0;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(G0||(G0={}));var F0;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(F0||(F0={}));var q0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(q0||(q0={}));var Y0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Y0||(Y0={}));var K0;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(K0||(K0={}));var Q0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Q0||(Q0={}));var X0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(X0||(X0={}));var $0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})($0||($0={}));var J0;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(J0||(J0={}));var Z0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Z0||(Z0={}));var W0;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(W0||(W0={}));var ty;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ty||(ty={}));var ey;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ey||(ey={}));var ny;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ny||(ny={}));var iy;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(iy||(iy={}));var ay;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ay||(ay={}));var ry;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ry||(ry={}));var sy;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(sy||(sy={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ly;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ly||(ly={}));function lu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function oy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(e){return this instanceof Vt?(this.v=e,this):new Vt(e)}function Ns(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,r=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function o(y,I){i[y]&&(a[y]=function(M){return new Promise(function(w,A){r.push([y,M,w,A])>1||u(y,M)})},I&&(a[y]=I(a[y])))}function u(y,I){try{h(i[y](I))}catch(M){g(r[0][3],M)}}function h(y){y.value instanceof Vt?Promise.resolve(y.value.v).then(m,p):g(r[0][2],y)}function m(y){u("next",y)}function p(y){u("throw",y)}function g(y,I){y(I),r.shift(),r.length&&u(r[0][0],r[0][1])}}function tr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof oy=="function"?oy(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=e[r]&&function(s){return new Promise(function(o,u){s=e[r](s),a(o,u,s.done,s.value)})}}function a(r,s,o,u){Promise.resolve(u).then(function(h){r({value:h,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let TT=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return TT=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const tw=()=>TT();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bf(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Af=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ln extends Error{}class we extends ln{constructor(t,n,i,a){super(`${we.makeMessage(t,n,i)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,i){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,i,a){if(!t||!a)return new Pu({message:i,cause:Af(n)});const r=n;return t===400?new AT(t,r,i,a):t===401?new ST(t,r,i,a):t===403?new xT(t,r,i,a):t===404?new wT(t,r,i,a):t===409?new NT(t,r,i,a):t===422?new IT(t,r,i,a):t===429?new RT(t,r,i,a):t>=500?new CT(t,r,i,a):new we(t,r,i,a)}}class Sf extends we{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Pu extends we{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class bT extends Pu{constructor({message:t}={}){super({message:t??"Request timed out."})}}class AT extends we{}class ST extends we{}class xT extends we{}class wT extends we{}class NT extends we{}class IT extends we{}class RT extends we{}class CT extends we{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ew=/^[a-z][a-z0-9+.-]*:/i,nw=e=>ew.test(e);let xf=e=>(xf=Array.isArray,xf(e));const iw=xf;let aw=iw;const uy=aw;function rw(e){if(!e)return!0;for(const t in e)return!1;return!0}function sw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const lw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ln(`${e} must be an integer`);if(t<0)throw new ln(`${e} must be a positive integer`);return t},ow=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uw=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const hw=()=>{var e,t,n,i,a;const r=cw();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":hy(Deno.build.os),"X-Stainless-Arch":cy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":hy((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":cy((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const s=fw();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fw(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const a=i[1]||0,r=i[2]||0,s=i[3]||0;return{browser:t,version:`${a}.${r}.${s}`}}}return null}const cy=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",hy=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Zl;const dw=()=>Zl??(Zl=hw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function DT(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function gw(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return DT({start(){},async pull(n){const{done:i,value:a}=await t.next();i?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function OT(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function pw(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yw=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MT=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hh(e,t,n){return MT(),new File(e,t??"unknown_file",n)}function _w(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Ew=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VT=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",vw=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&VT(e),Tw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function bw(e,t,n){if(MT(),e=await e,vw(e))return e instanceof File?e:hh([await e.arrayBuffer()],e.name);if(Tw(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),hh(await wf(a),t,n)}const i=await wf(e);if(t||(t=_w(e)),!(n!=null&&n.type)){const a=i.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return hh(i,t,n)}async function wf(e){var t,n,i,a,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(VT(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(Ew(e))try{for(var o=!0,u=tr(e),h;h=await u.next(),t=h.done,!t;o=!0){a=h.value,o=!1;const m=a;s.push(...await wf(m))}}catch(m){n={error:m}}finally{try{!o&&!t&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}else{const m=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${m?`; constructor: ${m}`:""}${Aw(e)}`)}return s}function Aw(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kT{constructor(t){this._client=t}}kT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UT(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const fy=Object.freeze(Object.create(null)),Sw=(e=UT)=>function(n,...i){if(n.length===1)return n[0];let a=!1;const r=[],s=n.reduce((m,p,g)=>{var y,I,M;/[?#]/.test(p)&&(a=!0);const w=i[g];let A=(a?encodeURIComponent:e)(""+w);return g!==i.length&&(w==null||typeof w=="object"&&w.toString===((M=Object.getPrototypeOf((I=Object.getPrototypeOf((y=w.hasOwnProperty)!==null&&y!==void 0?y:fy))!==null&&I!==void 0?I:fy))===null||M===void 0?void 0:M.toString))&&(A=w+"",r.push({start:m.length+p.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),m+p+(g===i.length?"":A)},""),o=s.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=u.exec(o))!==null;)r.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(r.sort((m,p)=>m.start-p.start),r.length>0){let m=0;const p=r.reduce((g,y)=>{const I=" ".repeat(y.start-m),M="^".repeat(y.length);return m=y.start+y.length,g+I+M},"");throw new ln(`Path parameters result in path with invalid segments:
${r.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s},Wl=Sw(UT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LT extends kT{create(t,n){var i;const{api_version:a=this._client.apiVersion}=t,r=lu(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new ln("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new ln("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wl`/${a}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(Wl`/${a}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(Wl`/${a}/interactions/${t}/cancel`,i)}get(t,n={},i){var a;const r=n??{},{api_version:s=this._client.apiVersion}=r,o=lu(r,["api_version"]);return this._client.get(Wl`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},i),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}LT._key=Object.freeze(["interactions"]);class jT extends LT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xw(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let i=0;for(const a of e)n.set(a,i),i+=a.length;return n}let to;function $d(e){let t;return(to??(t=new globalThis.TextEncoder,to=t.encode.bind(t)))(e)}let eo;function dy(e){let t;return(eo??(t=new globalThis.TextDecoder,eo=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?$d(t):t;this.buffer=xw([this.buffer,n]);const i=[];let a;for(;(a=ww(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(dy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,s=dy(this.buffer.subarray(0,r));i.push(s),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}zu.NEWLINE_CHARS=new Set([`
`,"\r"]);zu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ww(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function Nw(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ou={off:0,error:200,warn:300,info:400,debug:500},my=(e,t,n)=>{if(e){if(sw(ou,e))return e;Se(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ou))}`)}};function os(){}function no(e,t,n){return!t||ou[e]>ou[n]?os:t[e].bind(t)}const Iw={error:os,warn:os,info:os,debug:os};let gy=new WeakMap;function Se(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Iw;const a=gy.get(n);if(a&&a[0]===i)return a[1];const r={error:no("error",n,i),warn:no("warn",n,i),info:no("info",n,i),debug:no("debug",n,i)};return gy.set(n,[i,r]),r}const Yi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let a=!1;const r=i?Se(i):console;function s(){return Ns(this,arguments,function*(){var u,h,m,p;if(a)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,I=tr(Rw(t,n)),M;M=yield Vt(I.next()),u=M.done,!u;y=!0){p=M.value,y=!1;const w=p;if(!g)if(w.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Vt(JSON.parse(w.data))}catch(A){throw r.error("Could not parse message into JSON:",w.data),r.error("From chunk:",w.raw),A}}}catch(w){h={error:w}}finally{try{!y&&!u&&(m=I.return)&&(yield Vt(m.call(I)))}finally{if(h)throw h.error}}g=!0}catch(w){if(bf(w))return yield Vt(void 0);throw w}finally{g||n.abort()}})}return new Ya(s,n,i)}static fromReadableStream(t,n,i){let a=!1;function r(){return Ns(this,arguments,function*(){var u,h,m,p;const g=new zu,y=OT(t);try{for(var I=!0,M=tr(y),w;w=yield Vt(M.next()),u=w.done,!u;I=!0){p=w.value,I=!1;const A=p;for(const b of g.decode(A))yield yield Vt(b)}}catch(A){h={error:A}}finally{try{!I&&!u&&(m=M.return)&&(yield Vt(m.call(M)))}finally{if(h)throw h.error}}for(const A of g.flush())yield yield Vt(A)})}function s(){return Ns(this,arguments,function*(){var u,h,m,p;if(a)throw new ln("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let g=!1;try{try{for(var y=!0,I=tr(r()),M;M=yield Vt(I.next()),u=M.done,!u;y=!0){p=M.value,y=!1;const w=p;g||w&&(yield yield Vt(JSON.parse(w)))}}catch(w){h={error:w}}finally{try{!y&&!u&&(m=I.return)&&(yield Vt(m.call(I)))}finally{if(h)throw h.error}}g=!0}catch(w){if(bf(w))return yield Vt(void 0);throw w}finally{g||n.abort()}})}return new Ya(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),a=r=>({next:()=>{if(r.length===0){const s=i.next();t.push(s),n.push(s)}return r.shift()}});return[new Ya(()=>a(t),this.controller,this.client),new Ya(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return DT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:r}=await n.next();if(r)return i.close();const s=$d(JSON.stringify(a)+`
`);i.enqueue(s)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function Rw(e,t){return Ns(this,arguments,function*(){var i,a,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ln("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ln("Attempted to iterate over a response with no body");const o=new Dw,u=new zu,h=OT(e.body);try{for(var m=!0,p=tr(Cw(h)),g;g=yield Vt(p.next()),i=g.done,!i;m=!0){s=g.value,m=!1;const y=s;for(const I of u.decode(y)){const M=o.decode(I);M&&(yield yield Vt(M))}}}catch(y){a={error:y}}finally{try{!m&&!i&&(r=p.return)&&(yield Vt(r.call(p)))}finally{if(a)throw a.error}}for(const y of u.flush()){const I=o.decode(y);I&&(yield yield Vt(I))}})}function Cw(e){return Ns(this,arguments,function*(){var n,i,a,r;let s=new Uint8Array;try{for(var o=!0,u=tr(e),h;h=yield Vt(u.next()),n=h.done,!n;o=!0){r=h.value,o=!1;const m=r;if(m==null)continue;const p=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?$d(m):m;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let y;for(;(y=Nw(s))!==-1;)yield yield Vt(s.slice(0,y)),s=s.slice(y)}}catch(m){i={error:m}}finally{try{!o&&!n&&(a=u.return)&&(yield Vt(a.call(u)))}finally{if(i)throw i.error}}s.length>0&&(yield yield Vt(s))})}class Dw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,a]=Ow(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function Ow(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Mw(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:r}=t,s=await(async()=>{var o;if(t.options.stream)return Se(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ya.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const u=n.headers.get("content-type"),h=(o=u==null?void 0:u.split(";")[0])===null||o===void 0?void 0:o.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return Se(e).debug(`[${i}] response parsed`,Yi({retryOfRequestLogID:a,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jd extends Promise{constructor(t,n,i=Mw){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new Jd(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BT=Symbol("brand.privateNullableHeaders");function*Vw(e){if(!e)return;if(BT in e){const{values:i,nulls:a}=e;yield*i.entries();for(const r of a)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():uy(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const r=uy(i[1])?i[1]:[i[1]];let s=!1;for(const o of r)o!==void 0&&(t&&!s&&(s=!0,yield[a,null]),yield[a,o])}}const es=e=>{const t=new Headers,n=new Set;for(const i of e){const a=new Set;for(const[r,s]of Vw(i)){const o=r.toLowerCase();a.has(o)||(t.delete(r),a.add(o)),s===null?(t.delete(r),n.add(o)):(t.append(r,s),n.delete(o))}}return{[BT]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fh=e=>{var t,n,i,a,r,s;if(typeof globalThis.process<"u")return(i=(n=(t=Wx)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||r===void 0?void 0:r.call(a,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var PT;class Hu{constructor(t){var n,i,a,r,s,o,u,{baseURL:h=fh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=fh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,g=lu(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:m,apiVersion:p},g),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(i=y.timeout)!==null&&i!==void 0?i:Hu.DEFAULT_TIMEOUT,this.logger=(a=y.logger)!==null&&a!==void 0?a:console;const I="warn";this.logLevel=I,this.logLevel=(s=(r=my(y.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:my(fh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:I,this.fetchOptions=y.fetchOptions,this.maxRetries=(o=y.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(u=y.fetch)!==null&&u!==void 0?u:mw(),this.encoder=yw,this._options=y,this.apiKey=m,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=es([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return es([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return es([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new ln(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${tw()}`}makeStatusError(t,n,i,a){return we.generate(t,n,i,a)}buildURL(t,n,i){const a=!this.baseURLOverridden()&&i||this.baseURL,r=nw(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return rw(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new Jd(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var a,r,s;const o=await t,u=(a=o.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=u),await this.prepareOptions(o);const{req:h,url:m,timeout:p}=await this.buildRequest(o,{retryCount:u-n});await this.prepareRequest(h,{url:m,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=i===void 0?"":`, retryOf: ${i}`,I=Date.now();if(Se(this).debug(`[${g}] sending request`,Yi({retryOfRequestLogID:i,method:o.method,url:m,options:o,headers:h.headers})),!((r=o.signal)===null||r===void 0)&&r.aborted)throw new Sf;const M=new AbortController,w=await this.fetchWithTimeout(m,h,p,M).catch(Af),A=Date.now();if(w instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new Sf;const D=bf(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Se(this).info(`[${g}] connection ${D?"timed out":"failed"} - ${x}`),Se(this).debug(`[${g}] connection ${D?"timed out":"failed"} (${x})`,Yi({retryOfRequestLogID:i,url:m,durationMs:A-I,message:w.message})),this.retryRequest(o,n,i??g);throw Se(this).info(`[${g}] connection ${D?"timed out":"failed"} - error; no more retries left`),Se(this).debug(`[${g}] connection ${D?"timed out":"failed"} (error; no more retries left)`,Yi({retryOfRequestLogID:i,url:m,durationMs:A-I,message:w.message})),D?new bT:new Pu({cause:w})}const b=`[${g}${y}] ${h.method} ${m} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${A-I}ms`;if(!w.ok){const x=await this.shouldRetry(w);if(n&&x){const T=`retrying, ${n} attempts remaining`;return await pw(w.body),Se(this).info(`${b} - ${T}`),Se(this).debug(`[${g}] response error (${T})`,Yi({retryOfRequestLogID:i,url:w.url,status:w.status,headers:w.headers,durationMs:A-I})),this.retryRequest(o,n,i??g,w.headers)}const D=x?"error; no more retries left":"error; not retryable";Se(this).info(`${b} - ${D}`);const P=await w.text().catch(T=>Af(T).message),H=ow(P),v=H?void 0:P;throw Se(this).debug(`[${g}] response error (${D})`,Yi({retryOfRequestLogID:i,url:w.url,status:w.status,headers:w.headers,message:v,durationMs:Date.now()-I})),this.makeStatusError(w.status,H,v,w.headers)}return Se(this).info(b),Se(this).debug(`[${g}] response start`,Yi({retryOfRequestLogID:i,url:w.url,status:w.status,headers:w.headers,durationMs:A-I})),{response:w,options:o,controller:M,requestLogID:g,retryOfRequestLogID:i,startTime:I}}async fetchWithTimeout(t,n,i,a){const r=n||{},{signal:s,method:o}=r,u=lu(r,["signal","method"]);s&&s.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),i),m=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,p=Object.assign(Object.assign(Object.assign({signal:a.signal},m?{duplex:"half"}:{}),{method:"GET"}),u);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,a){var r;let s;const o=a==null?void 0:a.get("retry-after-ms");if(o){const h=parseFloat(o);Number.isNaN(h)||(s=h)}const u=a==null?void 0:a.get("retry-after");if(u&&!s){const h=parseFloat(u);Number.isNaN(h)?s=Date.parse(u)-Date.now():s=h*1e3}if(!(s&&0<=s&&s<60*1e3)){const h=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,h)}return await uw(s),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,a,r;const s=Object.assign({},t),{method:o,path:u,query:h,defaultBaseURL:m}=s,p=this.buildURL(u,h,m);"timeout"in s&&lw("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:s}),I=await this.buildHeaders({options:t,method:o,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:I},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:a}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=es([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),dw()),this._options.defaultHeaders,i,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=es([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:gw(t)}:this.encoder({body:t,headers:i})}}Hu.DEFAULT_TIMEOUT=6e4;class de extends Hu{constructor(){super(...arguments),this.interactions=new jT(this)}}PT=de;de.GeminiNextGenAPIClient=PT;de.GeminiNextGenAPIClientError=ln;de.APIError=we;de.APIConnectionError=Pu;de.APIConnectionTimeoutError=bT;de.APIUserAbortError=Sf;de.NotFoundError=wT;de.ConflictError=NT;de.RateLimitError=RT;de.BadRequestError=AT;de.AuthenticationError=ST;de.InternalServerError=CT;de.PermissionDeniedError=xT;de.UnprocessableEntityError=IT;de.toFile=bw;de.Interactions=jT;const kw=async(e,t)=>" ( API Key AI )",Uw=({days:e,setDays:t,onMapClick:n,isReadOnly:i=!1})=>{const[a,r]=K.useState(0),[s,o]=K.useState(!1),[u,h]=K.useState(null),[m,p]=K.useState({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),[g,y]=K.useState(""),[I,M]=K.useState(!1),[w,A]=K.useState(!1),b=K.useRef(null),[x,D]=K.useState(null),[P,H]=K.useState(null),v=50,_=e[a];K.useEffect(()=>{if(e.length===0||w)return;const U=new Date,ht=`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}-${String(U.getDate()).padStart(2,"0")}`,k=e.findIndex(rt=>rt.date===ht);if(k!==-1)r(k);else{const rt=e[e.length-1].date;ht>rt&&r(e.length-1)}A(!0)},[e,w]),K.useEffect(()=>{if(b.current){const U=b.current.children;U[a]&&U[a].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[a]);const[T,S]=K.useState((_==null?void 0:_.tips)||"");K.useEffect(()=>{S((_==null?void 0:_.tips)||"")},[_]);const R=()=>{if(T!==_.tips&&!i){const U=[...e];U[a].tips=T,t(U)}},C=()=>{i||(h(null),p({time:"09:00",title:"",location:"",type:"activity",bookingUrl:"",navLink:""}),y(""),o(!0))},N=U=>{i||(h(U),p({...U}),y(""),o(!0))},ne=()=>{if(!m.title||!m.time)return;const U=[...e],ht=U[a].events;if(u){const k=ht.findIndex(rt=>rt.id===u.id);k!==-1&&(ht[k]={...u,...m})}else{const k={id:Date.now().toString(),time:m.time,title:m.title,location:m.location||"",type:m.type,notes:m.notes,bookingUrl:m.bookingUrl,navLink:m.navLink,flightDetails:m.flightDetails};ht.push(k)}ht.sort((k,rt)=>k.time.localeCompare(rt.time)),t(U),o(!1)},me=U=>{if(i)return;const ht=[...e];ht[a].events=ht[a].events.filter(k=>k.id!==U),t(ht)},G=async()=>{if(!m.location)return;M(!0);const U=await kw(m.location,m.time||"daytime");y(U),M(!1)},J=U=>{if(U.navLink)window.open(U.navLink,"_blank");else if(U.location){const ht=encodeURIComponent(U.location);window.open(`https://www.google.com/maps/search/?api=1&query=${ht}`,"_blank")}},$=U=>{H(null),D({x:U.targetTouches[0].clientX,y:U.targetTouches[0].clientY})},q=U=>{H({x:U.targetTouches[0].clientX,y:U.targetTouches[0].clientY})},Y=()=>{if(!x||!P)return;const U=x.x-P.x,ht=x.y-P.y,k=Math.abs(U)>Math.abs(ht),rt=Math.abs(U)>v;k&&rt&&(U>0?a<e.length-1&&r(Ot=>Ot+1):a>0&&r(Ot=>Ot-1))},At=U=>{switch(U){case"food":return"bg-orange-50 text-orange-800 border-orange-100";case"transport":return"bg-slate-100 text-slate-700 border-slate-200";case"hotel":return"bg-blue-50 text-blue-800 border-blue-100";case"flight":return"bg-white border-yellow-400 border-l-4";default:return"bg-emerald-50 text-emerald-800 border-emerald-100"}},tt=U=>{switch(U){case"food":return f.jsx(pT,{className:"w-4 h-4"});case"transport":return f.jsx(yT,{className:"w-4 h-4"});case"hotel":return f.jsx(_T,{className:"w-4 h-4"});case"flight":return f.jsx(uh,{className:"w-4 h-4"});default:return f.jsx(ET,{className:"w-4 h-4"})}};return f.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[f.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md shadow-sm sticky top-0 z-10 transition-colors",children:[f.jsx("div",{ref:b,className:"flex overflow-x-auto py-3 px-2 space-x-2 snap-x no-scrollbar",children:e.map((U,ht)=>f.jsxs("button",{onClick:()=>r(ht),className:`flex-shrink-0 flex flex-col items-center justify-center min-w-[3.5rem] h-16 rounded-xl transition-all border snap-center ${a===ht?"bg-primary dark:bg-blue-600 text-white border-primary dark:border-blue-600 shadow-lg scale-105":"bg-white dark:bg-slate-800 text-gray-400 dark:text-gray-500 border-gray-100 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:[f.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider",children:"Day"}),f.jsx("span",{className:"text-xl font-bold",children:U.day})]},U.day))}),f.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 dark:border-slate-800 bg-white dark:bg-slate-900 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_.date}),f.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-gray-100 dark:bg-slate-800 rounded text-gray-500 dark:text-gray-400",children:_.weekday})]}),f.jsx("div",{className:"flex flex-col items-end shrink-0",children:f.jsxs("div",{className:"flex items-center gap-1",children:[_.weather==="rain"?f.jsx(Qx,{className:"w-5 h-5 text-blue-400"}):f.jsx(Kx,{className:"w-5 h-5"}),f.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-white",children:[_.temp,""]})]})})]}),f.jsx("textarea",{value:T,onChange:U=>S(U.target.value),onBlur:R,disabled:i,placeholder:i?"":" (...)",className:`w-full h-16 text-xs text-gray-600 dark:text-gray-300 bg-yellow-50/50 dark:bg-slate-800/50 border border-yellow-100 dark:border-slate-700 rounded-lg p-2 resize-none outline-none leading-relaxed transition-all placeholder-gray-400 dark:placeholder-gray-600 ${i?"opacity-70":"focus:ring-1 focus:ring-accent"}`})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-28 no-scrollbar min-h-0",onTouchStart:$,onTouchMove:q,onTouchEnd:Y,children:_.events.length===0?f.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[f.jsx("p",{children:""}),f.jsx("p",{className:"text-xs mt-2 opacity-50",children:"   "}),!i&&f.jsx("button",{onClick:C,className:"mt-4 text-primary dark:text-blue-400 font-medium",children:""})]}):_.events.map(U=>{var ht;return f.jsxs("div",{className:"relative flex group",children:[f.jsxs("div",{className:"flex flex-col items-center mr-4 w-12 pt-1 shrink-0",children:[f.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 font-mono",children:U.time}),f.jsx("div",{className:"h-full w-px bg-gray-200 dark:bg-slate-700 mt-2 mb-2 dashed"})]}),U.type==="flight"&&U.flightDetails?f.jsxs("div",{className:"flex-1 rounded-2xl overflow-hidden shadow-sm border border-gray-100 dark:border-none mb-1 relative transition-transform active:scale-[0.99] bg-white dark:bg-slate-800 min-w-0",children:[f.jsx("div",{className:"bg-yellow-400 h-2 w-full"}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("div",{className:"bg-yellow-400 p-1.5 rounded-full text-black shrink-0",children:f.jsx(uh,{className:"w-4 h-4"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase block truncate",children:U.flightDetails.airline}),f.jsx("span",{className:"text-lg font-black text-gray-900 dark:text-white leading-none truncate block",children:U.flightDetails.flightNumber})]})]}),U.bookingUrl&&f.jsxs("a",{href:U.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300 px-2 py-1 rounded-md shrink-0 whitespace-nowrap ml-2",children:["REF: ",((ht=U.notes)==null?void 0:ht.split(`
`)[0])||"LINK"]})]}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:U.flightDetails.departCode}),f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:U.flightDetails.departTerminal?`T${U.flightDetails.departTerminal}`:"T-"}),f.jsx("span",{className:"block text-xs font-bold mt-1 text-gray-800 dark:text-gray-200",children:U.time})]}),f.jsxs("div",{className:"flex-1 px-4 flex flex-col items-center min-w-0",children:[f.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-1 truncate w-full text-center",children:U.flightDetails.duration}),f.jsxs("div",{className:"w-full h-0.5 bg-gray-200 dark:bg-slate-600 relative",children:[f.jsx("div",{className:"absolute -top-1 right-0 w-2 h-2 bg-gray-300 dark:bg-slate-500 rounded-full"}),f.jsx(uh,{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-4 h-4 text-yellow-500 rotate-90"})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white block",children:U.flightDetails.arriveCode}),f.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:U.flightDetails.arriveTerminal?`T${U.flightDetails.arriveTerminal}`:"T-"})]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-dashed border-gray-200 dark:border-slate-700 gap-2",children:[f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate flex-1 min-w-0",children:U.title}),!i&&f.jsxs("div",{className:"flex space-x-2 shrink-0",children:[f.jsx("button",{onClick:()=>N(U),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(oa,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>me(U.id),className:"p-1 text-gray-400 hover:text-red-500",children:f.jsx(la,{className:"w-4 h-4"})})]})]})]})]}):f.jsxs("div",{className:`flex-1 rounded-2xl p-4 border shadow-sm mb-1 ${At(U.type)} dark:border-none relative transition-transform active:scale-[0.99] dark:bg-slate-800 dark:text-gray-100 min-w-0`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[f.jsx("div",{className:`p-1.5 rounded-lg shrink-0 shadow-sm ${U.type==="food"?"bg-orange-100 text-orange-600 dark:bg-orange-900 dark:text-orange-300":U.type==="transport"?"bg-slate-200 text-slate-600 dark:bg-slate-700 dark:text-slate-300":U.type==="hotel"?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"bg-emerald-100 text-emerald-600 dark:bg-emerald-900 dark:text-emerald-300"}`,children:tt(U.type)}),f.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-white leading-tight pt-0.5 break-words min-w-0",children:U.title})]}),!i&&f.jsxs("div",{className:"flex space-x-1 shrink-0 ml-1",children:[f.jsx("button",{onClick:()=>N(U),className:"p-1 opacity-50 hover:opacity-100",children:f.jsx(oa,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>me(U.id),className:"p-1 opacity-50 hover:opacity-100",children:f.jsx(la,{className:"w-4 h-4"})})]})]}),U.location&&f.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[f.jsxs("p",{className:"text-xs opacity-80 flex items-center min-w-0 flex-1",children:[f.jsx("span",{className:"mr-1 shrink-0",children:""}),f.jsx("span",{className:"truncate block",children:U.location})]}),f.jsxs("div",{className:"flex gap-2 shrink-0",children:[U.bookingUrl&&f.jsxs("a",{href:U.bookingUrl,target:"_blank",rel:"noreferrer",className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 text-primary dark:text-blue-300 px-2 py-1 rounded-md transition-colors",children:[f.jsx(Xd,{className:"w-3 h-3 inline mr-1"}),""]}),f.jsxs("button",{onClick:()=>J(U),className:"text-[10px] font-bold bg-white/50 hover:bg-white dark:bg-slate-700 dark:hover:bg-slate-600 text-primary dark:text-blue-300 px-2 py-1 rounded-md transition-colors",children:[f.jsx(Yx,{className:"w-3 h-3 inline mr-1"}),""]})]})]}),U.notes&&f.jsx("div",{className:"mt-2 text-xs bg-white/50 dark:bg-black/20 p-2 rounded-lg text-gray-600 dark:text-gray-300 whitespace-pre-line break-words",children:U.notes})]})]},U.id)})}),!i&&f.jsx("button",{onClick:C,className:"fixed bottom-20 right-6 w-14 h-14 bg-primary dark:bg-blue-600 text-white rounded-full shadow-lg shadow-primary/40 dark:shadow-blue-900/40 flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-20",children:f.jsx(gT,{className:"w-8 h-8"})}),s&&!i&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in max-h-[90vh] overflow-y-auto no-scrollbar",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:u?"":""}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"w-1/3",children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"time",value:m.time,onChange:U=>p({...m,time:U.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none text-center font-mono"})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsxs("select",{value:m.type,onChange:U=>p({...m,type:U.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none appearance-none",children:[f.jsx("option",{value:"activity",children:" "}),f.jsx("option",{value:"food",children:" "}),f.jsx("option",{value:"transport",children:" "}),f.jsx("option",{value:"hotel",children:" "}),f.jsx("option",{value:"flight",children:" "})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"text",value:m.title,onChange:U=>p({...m,title:U.target.value}),placeholder:"",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase flex justify-between",children:[f.jsx("span",{children:" / "}),f.jsx("button",{onClick:G,disabled:!m.location||I,className:"text-primary dark:text-blue-400 hover:underline disabled:opacity-50",children:I?"AI ...":" AI "})]}),f.jsx("input",{type:"text",value:m.location,onChange:U=>p({...m,location:U.target.value}),placeholder:"...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"}),g&&f.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-900/30 rounded-lg text-xs text-yellow-800 dark:text-yellow-200 animate-in fade-in",children:[" ",g]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" /  / "}),f.jsx("textarea",{value:m.notes||"",onChange:U=>p({...m,notes:U.target.value}),placeholder:"...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none h-20 resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" (Booking URL)"}),f.jsx("input",{type:"text",value:m.bookingUrl||"",onChange:U=>p({...m,bookingUrl:U.target.value}),placeholder:"https://...",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none text-xs font-mono"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:""}),f.jsx("button",{onClick:ne,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30 dark:shadow-blue-900/30 hover:bg-slate-700 dark:hover:bg-blue-500 transition-colors",children:""})]})]})]})})]})},Ce=["",""],py=["bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300","bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300","bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300","bg-lime-50 text-lime-700 dark:bg-lime-900/30 dark:text-lime-300","bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300","bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300","bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300","bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300","bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300","bg-violet-50 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300","bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300","bg-fuchsia-50 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300","bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300","bg-rose-50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"],Lw=({expenses:e,setExpenses:t,categories:n,setCategories:i,isReadOnly:a=!1})=>{var ht;const[r,s]=K.useState(""),[o,u]=K.useState(Ce[0]),[h,m]=K.useState(Ce),[p,g]=K.useState(((ht=n[0])==null?void 0:ht.id)||"other"),[y,I]=K.useState(""),[M,w]=K.useState(""),[A,b]=K.useState("AUD"),[x,D]=K.useState(21.5),[P,H]=K.useState(""),[v,_]=K.useState(""),[T,S]=K.useState(!1),[R,C]=K.useState(""),N=k=>{H(k),k&&!isNaN(parseFloat(k))?_((parseFloat(k)*x).toFixed(0)):_("")},ne=k=>{_(k),k&&!isNaN(parseFloat(k))?H((parseFloat(k)/x).toFixed(2)):H("")},me=k=>{I(k),k&&!isNaN(parseFloat(k))?w((parseFloat(k)*x).toFixed(0)):w(""),b("AUD")},G=k=>{w(k),k&&!isNaN(parseFloat(k))?I((parseFloat(k)/x).toFixed(2)):I(""),b("TWD")},J=()=>{if(!r||!y&&!M||a)return;const k=parseFloat(A==="AUD"?y:M),rt={id:Date.now().toString(),title:r,amount:k,currency:A,payer:o,involved:h,category:p};t([rt,...e]),s(""),I(""),w("")},$=k=>{a||t(e.filter(rt=>rt.id!==k))},q=k=>{h.includes(k)?h.length>1&&m(h.filter(rt=>rt!==k)):m([...h,k])},Y=()=>{if(!R.trim()||a)return;const k=`cat_${Date.now()}`,rt=py[Math.floor(Math.random()*py.length)],Ot={id:k,label:R.trim(),color:rt,isDefault:!1};i([...n,Ot]),C("")},At=k=>{var rt;a||window.confirm("")&&(i(n.filter(Ot=>Ot.id!==k)),p===k&&g(((rt=n.find(Ot=>Ot.id!==k))==null?void 0:rt.id)||"other"))},tt=k=>k.includes("food")||k.includes("eat")?f.jsx(pT,{className:"w-4 h-4"}):k.includes("trans")||k.includes("bus")||k.includes("car")?f.jsx(yT,{className:"w-4 h-4"}):k.includes("hotel")||k.includes("stay")?f.jsx(_T,{className:"w-4 h-4"}):k.includes("shop")||k.includes("buy")?f.jsx(vT,{className:"w-4 h-4"}):k.includes("ticket")||k.includes("play")?f.jsx(ET,{className:"w-4 h-4"}):f.jsx(ch,{className:"w-4 h-4"}),U=K.useMemo(()=>{const k={};return Ce.forEach(rt=>k[rt]=0),e.forEach(rt=>{let Ot=rt.amount;rt.currency==="TWD"&&(Ot=rt.amount/x);const Mr=rt.payer,Vr=rt.involved.length,Qn=Ot/Vr;k[Mr]+=Ot,rt.involved.forEach(Ea=>{k[Ea]-=Qn})}),k},[e,x]);return f.jsxs("div",{className:"p-4 pb-28 h-full overflow-y-auto bg-surface dark:bg-darkSurface transition-colors no-scrollbar",children:[f.jsxs("div",{className:"bg-primary text-white rounded-2xl shadow-lg p-5 mb-6 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(ch,{className:"w-24 h-24"})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-gray-300",children:""}),f.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-2 py-1 rounded-lg border border-white/20",children:[f.jsx("span",{className:"text-xs text-gray-400",children:":"}),f.jsx("input",{type:"number",value:x,onChange:k=>D(parseFloat(k.target.value)),className:"w-12 bg-transparent text-white text-xs text-center outline-none font-mono"})]})]}),f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex-1 flex flex-col",children:[f.jsx("label",{className:"text-xs text-gray-400 mb-1",children:" (AUD)"}),f.jsx("input",{type:"number",placeholder:"0",value:P,onChange:k=>N(k.target.value),className:"w-full bg-white/10 text-xl font-bold rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-accent/50 border border-white/10 placeholder-gray-500 font-mono"})]}),f.jsx("div",{className:"pt-5 text-gray-400",children:f.jsx(ch,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex-1 flex flex-col text-right",children:[f.jsx("label",{className:"text-xs text-gray-400 mb-1",children:" (TWD)"}),f.jsx("input",{type:"number",placeholder:"0",value:v,onChange:k=>ne(k.target.value),className:"w-full bg-white/10 text-xl font-bold rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-accent/50 border border-white/10 placeholder-gray-500 text-right font-mono"})]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:" (: AUD)"}),f.jsx("div",{className:"space-y-3",children:Ce.map(k=>{const rt=U[k];return f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 dark:border-slate-700 last:border-0 pb-2 last:pb-0",children:[f.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300",children:k}),f.jsx("span",{className:`font-bold ${rt>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500 dark:text-rose-400"}`,children:rt>=0?` $${rt.toFixed(2)}`:` $${Math.abs(rt).toFixed(2)}`})]},k)})}),f.jsxs("div",{className:"mt-4 pt-3 border-t border-dashed border-gray-200 dark:border-slate-700 text-xs text-gray-400 text-center",children:[U[Ce[0]]>0?`${Ce[1]}  ${Ce[0]} $${U[Ce[0]].toFixed(2)} AUD`:`${Ce[0]}  ${Ce[1]} $${U[Ce[1]].toFixed(2)} AUD`,f.jsxs("div",{className:"text-accent mt-1",children:["( $",Math.abs(U[Ce[0]]*x).toFixed(0),")"]})]})]}),!a&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm p-5 mb-6 border border-gray-100 dark:border-none",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:""}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{className:"w-full bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white p-3 rounded-xl outline-none focus:ring-2 focus:ring-primary border-none",placeholder:" ()",value:r,onChange:k=>s(k.target.value)}),f.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-gray-100 dark:border-slate-700",children:[f.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-1",children:" ()"}),f.jsxs("div",{className:"flex items-center gap-3",onClick:()=>b("AUD"),children:[f.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center cursor-pointer ${A==="AUD"?"border-accent bg-accent":"border-gray-300"}`,children:A==="AUD"&&f.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),f.jsx("span",{className:`text-sm font-bold w-8 ${A==="AUD"?"text-gray-800 dark:text-white":"text-gray-400"}`,children:"AUD"}),f.jsx("input",{type:"number",className:`flex-1 p-2 rounded-lg outline-none font-mono ${A==="AUD"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white ring-2 ring-accent/20":"bg-transparent text-gray-500"}`,placeholder:"0.00",value:y,onChange:k=>me(k.target.value)})]}),f.jsxs("div",{className:"flex items-center gap-3",onClick:()=>b("TWD"),children:[f.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center cursor-pointer ${A==="TWD"?"border-accent bg-accent":"border-gray-300"}`,children:A==="TWD"&&f.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),f.jsx("span",{className:`text-sm font-bold w-8 ${A==="TWD"?"text-gray-800 dark:text-white":"text-gray-400"}`,children:"TWD"}),f.jsx("input",{type:"number",className:`flex-1 p-2 rounded-lg outline-none font-mono ${A==="TWD"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white ring-2 ring-accent/20":"bg-transparent text-gray-500"}`,placeholder:"0",value:M,onChange:k=>G(k.target.value)})]})]}),f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-slate-700 rounded-xl p-2 px-3",children:[f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:":"}),f.jsx("select",{className:"bg-transparent text-gray-900 dark:text-white font-bold outline-none text-right",value:o,onChange:k=>u(k.target.value),children:Ce.map(k=>f.jsx("option",{value:k,children:k},k))})]}),f.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[n.map(k=>f.jsxs("button",{type:"button",onClick:()=>g(k.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all
                            ${p===k.id?"bg-primary border-primary text-white dark:bg-blue-600 dark:border-blue-600":"bg-white border-gray-200 text-gray-500 dark:bg-slate-700 dark:border-slate-600 dark:text-gray-400"}`,children:[tt(k.id),k.label]},k.id)),f.jsx("button",{type:"button",onClick:()=>S(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-700 text-gray-400 hover:text-primary dark:hover:text-blue-400 border border-transparent hover:border-gray-300 transition-all shrink-0",children:f.jsx(oa,{className:"w-3 h-3"})})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 my-2 overflow-x-auto no-scrollbar",children:[f.jsx("span",{className:"whitespace-nowrap",children:":"}),Ce.map(k=>f.jsx("button",{onClick:()=>q(k),className:`px-3 py-1 rounded-full border transition-colors whitespace-nowrap ${h.includes(k)?"bg-primary text-white border-primary dark:bg-blue-600 dark:border-blue-600":"bg-white text-gray-400 border-gray-200 dark:bg-slate-700 dark:text-gray-400 dark:border-slate-600"}`,children:k},k))]}),f.jsxs("button",{onClick:J,disabled:!y&&!M,className:"w-full bg-accent text-white font-bold py-3 rounded-xl shadow-lg shadow-amber-200 dark:shadow-none disabled:opacity-50 hover:bg-amber-600 transition-colors",children:[" ( ",A," )"]})]})]}),f.jsx("h3",{className:"text-gray-400 font-semibold mb-3 px-1 uppercase text-[10px] tracking-widest",children:""}),f.jsxs("div",{className:"space-y-3",children:[e.map(k=>{const rt=n.find(Qn=>Qn.id===k.category)||n[0]||{color:"bg-gray-100",id:"other"},Ot=k.currency==="AUD"||k.currency===void 0,Mr=k.amount,Vr=Ot?k.amount*x:k.amount/x;return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-gray-50 dark:border-slate-700 flex justify-between items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:`p-2 rounded-lg shrink-0 ${rt.color}`,children:tt(rt.id)}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-sm truncate",children:k.title}),f.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 truncate",children:[f.jsx("span",{className:"text-primary dark:text-blue-400 font-medium",children:k.payer}),"   ",k.involved.join(", ")," "]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:"font-bold text-gray-800 dark:text-white block",children:[Ot?"$":"NT$",Mr.toFixed(Ot?2:0)]}),f.jsxs("span",{className:"text-[10px] text-gray-400",children:[" ",Ot?"NT$":"$",Vr.toFixed(Ot?0:2)]})]}),!a&&f.jsx("button",{onClick:()=>$(k.id),className:"text-gray-300 hover:text-rose-400 p-1",children:f.jsx(la,{className:"w-4 h-4"})})]})]},k.id)}),e.length===0&&f.jsx("div",{className:"text-center text-gray-400 text-xs italic py-4",children:""})]}),T&&!a&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(oa,{className:"w-5 h-5"})," "]}),f.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:n.map(k=>f.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center ${k.color}`,children:tt(k.id)}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:k.label})]}),!k.isDefault&&f.jsx("button",{onClick:()=>At(k.id),className:"text-gray-400 hover:text-red-500 p-1",children:f.jsx(la,{className:"w-4 h-4"})}),k.isDefault&&f.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:""})]},k.id))}),f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("input",{type:"text",placeholder:"",value:R,onChange:k=>C(k.target.value),className:"flex-1 p-2 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-lg border-none outline-none focus:ring-2 focus:ring-primary text-sm"}),f.jsx("button",{onClick:Y,disabled:!R.trim(),className:"bg-primary dark:bg-blue-600 text-white px-3 rounded-lg disabled:opacity-50 text-sm font-bold",children:""})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-full py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl",children:""})]})})]})},jw=({links:e,setLinks:t,days:n,setDays:i,isReadOnly:a=!1})=>{const[r,s]=K.useState(!1),[o,u]=K.useState(null),[h,m]=K.useState({title:"",url:"",details:"",type:"ticket"}),p=K.useMemo(()=>{const w=[];return n.forEach((A,b)=>{A.events.forEach((x,D)=>{x.bookingUrl&&w.push({id:x.id,title:x.title,url:x.bookingUrl,type:x.type,details:x.notes||"",isManual:!1,dayIndex:b,eventIndex:D})})}),e.forEach(A=>{w.push({...A,isManual:!0})}),w},[e,n]),g=()=>{a||(u(null),m({title:"",url:"",details:"",type:"ticket"}),s(!0))},y=w=>{a||(u(w),m({...w}),s(!0))},I=(w,A)=>{if(A.preventDefault(),!a){if(w.isManual)window.confirm("")&&t(e.filter(b=>b.id!==w.id));else if(window.confirm(`${w.title}`)){const b=[...n];if(w.dayIndex!==void 0&&w.eventIndex!==void 0){const x=b[w.dayIndex].events[w.eventIndex];x.bookingUrl=void 0,i(b)}}}},M=()=>{if(!(!h.title||!h.url)){if(o)if(o.isManual)t(e.map(w=>w.id===o.id?{...o,...h}:w));else{const w=[...n];if(o.dayIndex!==void 0&&o.eventIndex!==void 0){const A=w[o.dayIndex].events[o.eventIndex];A.title=h.title,A.bookingUrl=h.url,A.notes=h.details,A.type=h.type,i(w)}}else{const w={id:Date.now().toString(),title:h.title,url:h.url,details:h.details||"",type:h.type};t([w,...e])}s(!1)}};return f.jsxs("div",{className:"p-4 bg-surface dark:bg-darkSurface h-full pb-20 overflow-y-auto transition-colors no-scrollbar",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 px-1",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:" & "}),!a&&f.jsx("button",{onClick:g,className:"bg-primary dark:bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-slate-700 transition-colors",children:f.jsx(gT,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid gap-4",children:p.map((w,A)=>f.jsxs("div",{className:"relative group",children:[f.jsx("a",{href:w.url,target:"_blank",rel:"noreferrer",className:"block bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm hover:shadow-md transition-all border border-gray-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[f.jsx("span",{className:`inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-colors
                                        ${w.type==="car"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":w.type==="flight"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":w.type==="hotel"?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300":w.type==="ticket"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:w.type==="car"?"":w.type==="flight"?"":w.type==="hotel"?"":w.type==="ticket"?"":""}),!w.isManual&&f.jsxs("span",{className:"inline-block px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400",children:[" Day ",n[w.dayIndex].day]})]}),f.jsx("h3",{className:"font-bold text-base text-gray-800 dark:text-gray-100 truncate",children:w.title}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1 truncate",children:w.details})]}),f.jsx("div",{className:"bg-surface dark:bg-slate-700 p-2 rounded-full text-primary dark:text-blue-400 shrink-0",children:f.jsx(Xd,{className:"w-5 h-5"})})]})}),!a&&f.jsxs("div",{className:"absolute top-4 right-14 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:b=>{b.preventDefault(),y(w)},className:"p-1.5 bg-gray-100 dark:bg-slate-600 text-gray-600 dark:text-gray-200 rounded-full hover:bg-gray-200 dark:hover:bg-slate-500",children:f.jsx(oa,{className:"w-3 h-3"})}),f.jsx("button",{onClick:b=>I(w,b),className:"p-1.5 bg-rose-100 dark:bg-rose-900/50 text-rose-600 dark:text-rose-300 rounded-full hover:bg-rose-200 dark:hover:bg-rose-800/50",children:f.jsx(la,{className:"w-3 h-3"})})]})]},`${w.id}-${A}`))}),p.length===0&&f.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500",children:[f.jsx("p",{children:""}),!a&&f.jsx("button",{onClick:g,className:"mt-2 text-primary dark:text-blue-400 font-medium",children:""})]}),f.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary to-slate-900 dark:from-slate-800 dark:to-black rounded-2xl text-white shadow-lg",children:[f.jsx("h3",{className:"font-bold text-base mb-2",children:""}),f.jsx("p",{className:"text-gray-300 text-xs mb-4",children:""}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("a",{href:"tel:000",className:"flex-1 bg-white text-primary text-center py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors",children:" 000"}),f.jsx("a",{href:"https://www.taiwanembassy.org/au/index.html",target:"_blank",rel:"noreferrer",className:"flex-1 bg-white/10 text-white text-center py-2 rounded-lg text-sm backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-colors",children:""})]})]}),r&&!a&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-end sm:items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 fade-in",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:o?o.isManual?"":"":""}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"text",value:h.title,onChange:w=>m({...h,title:w.target.value}),placeholder:"",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsxs("select",{value:h.type,onChange:w=>m({...h,type:w.target.value}),className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none",children:[f.jsx("option",{value:"ticket",children:" "}),f.jsx("option",{value:"flight",children:" "}),f.jsx("option",{value:"hotel",children:" "}),f.jsx("option",{value:"car",children:" "}),f.jsx("option",{value:"transport",children:" "}),f.jsx("option",{value:"activity",children:" "}),f.jsx("option",{value:"food",children:" "})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:" URL"}),f.jsx("input",{type:"text",value:h.url,onChange:w=>m({...h,url:w.target.value}),placeholder:"https://...",className:"w-full mt-1 p-3 bg-gray-50 text-blue-600 dark:bg-slate-700 dark:text-blue-400 rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none font-mono text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:""}),f.jsx("input",{type:"text",value:h.details||"",onChange:w=>m({...h,details:w.target.value}),placeholder:" #123456",className:"w-full mt-1 p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border border-gray-100 dark:border-slate-600 focus:ring-2 focus:ring-primary outline-none"})]}),!(o!=null&&o.isManual)&&o&&f.jsx("p",{className:"text-xs text-amber-500 bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg",children:" "}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:""}),f.jsx("button",{onClick:M,className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-semibold rounded-xl shadow-lg shadow-primary/30 dark:shadow-blue-900/30 hover:bg-slate-700 dark:hover:bg-blue-500 transition-colors",children:""})]})]})]})})]})},yy=["bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300","bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300","bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300","bg-lime-50 text-lime-700 dark:bg-lime-900/30 dark:text-lime-300","bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300","bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300","bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300","bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300","bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300","bg-violet-50 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300","bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300","bg-fuchsia-50 text-fuchsia-700 dark:bg-fuchsia-900/30 dark:text-fuchsia-300","bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300","bg-rose-50 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"],Bw=({todos:e,setTodos:t,categories:n,setCategories:i,isReadOnly:a=!1})=>{const[r,s]=K.useState(""),[o,u]=K.useState("todo"),[h,m]=K.useState(!1),[p,g]=K.useState(""),y=v=>{if(v&&v.preventDefault(),!r.trim()||a)return;const _={id:Date.now().toString(),text:r.trim(),isCompleted:!1,category:o};t([_,...e]),s("")},I=v=>{a||t(e.map(_=>_.id===v?{..._,isCompleted:!_.isCompleted}:_))},M=v=>{a||t(e.filter(_=>_.id!==v))},w=K.useMemo(()=>{const v={};return n.forEach(_=>v[_.id]=[]),v.uncategorized=[],e.forEach(_=>{var T,S;if(v[_.category])v[_.category].push(_);else{const R=((T=n.find(C=>C.id==="todo"))==null?void 0:T.id)||((S=n[0])==null?void 0:S.id);R?v[R].push(_):v.uncategorized.push(_)}}),v},[e,n]),A=()=>{if(!p.trim()||a)return;const v=`cat_${Date.now()}`,_=yy[Math.floor(Math.random()*yy.length)],T={id:v,label:p.trim(),color:_,isDefault:!1};i([...n,T]),g("")},b=v=>{if(!a&&window.confirm("")){i(n.filter(T=>T.id!==v));const _="todo";t(T=>T.map(S=>S.category===v?{...S,category:_}:S)),o===v&&u(_)}},x=v=>v.includes("shop")||v.includes("buy")?f.jsx(vT,{className:"w-4 h-4"}):v.includes("pack")||v.includes("luggage")?f.jsx(Xx,{className:"w-4 h-4"}):v.includes("doc")||v.includes("pass")?f.jsx($x,{className:"w-4 h-4"}):v.includes("gift")?f.jsx(Jx,{className:"w-4 h-4"}):f.jsx(wo,{className:"w-4 h-4"}),D=e.length,P=e.filter(v=>v.isCompleted).length,H=D===0?0:Math.round(P/D*100);return f.jsxs("div",{className:"flex flex-col h-full bg-surface dark:bg-darkSurface transition-colors",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 pb-4 border-b border-gray-100 dark:border-slate-800 sticky top-0 z-10",children:[f.jsxs("div",{className:"flex justify-between items-end mb-2",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:""}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[" ",H,"% (",P,"/",D,")"]})]}),D>0&&H===100&&f.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full animate-bounce",children:" "})]}),f.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary dark:bg-blue-500 transition-all duration-500 ease-out rounded-full",style:{width:`${H}%`}})})]}),!a&&f.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-gray-100 dark:border-slate-800 shadow-sm z-10",children:f.jsxs("form",{onSubmit:y,className:"space-y-3",children:[f.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"...",className:"w-full p-3 bg-gray-50 text-gray-900 dark:bg-slate-800 dark:text-white rounded-xl border-none outline-none focus:ring-2 focus:ring-primary"}),f.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 no-scrollbar",children:[n.map(v=>f.jsxs("button",{type:"button",onClick:()=>u(v.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border transition-all
                                ${o===v.id?"bg-primary border-primary text-white dark:bg-blue-600 dark:border-blue-600":"bg-white border-gray-200 text-gray-500 dark:bg-slate-800 dark:border-slate-700 dark:text-gray-400"}`,children:[x(v.id),v.label]},v.id)),f.jsx("button",{type:"button",onClick:()=>m(!0),className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-800 text-gray-400 hover:text-primary dark:hover:text-blue-400 border border-transparent hover:border-gray-300 transition-all shrink-0",children:f.jsx(oa,{className:"w-3 h-3"})})]}),f.jsx("button",{type:"submit",disabled:!r,className:"w-full bg-primary dark:bg-blue-600 text-white font-bold py-3 rounded-xl disabled:opacity-50",children:""})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-28 space-y-6 no-scrollbar",children:[n.map(v=>{const _=w[v.id]||[];return _.length===0?null:f.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("span",{className:`p-1.5 rounded-lg ${v.color}`,children:x(v.id)}),f.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:v.label}),f.jsx("span",{className:"text-xs bg-gray-100 dark:bg-slate-800 text-gray-500 px-2 py-0.5 rounded-full",children:_.length})]}),f.jsx("div",{className:"space-y-2",children:_.map(T=>f.jsxs("div",{className:`flex items-center p-3 rounded-xl border transition-all ${T.isCompleted?"bg-gray-50 border-gray-100 dark:bg-slate-800/50 dark:border-slate-800":"bg-white border-gray-100 shadow-sm dark:bg-slate-800 dark:border-slate-700"}`,children:[f.jsx("button",{onClick:()=>I(T.id),disabled:a,className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3 transition-colors ${T.isCompleted?"bg-emerald-500 border-emerald-500 text-white":`border-gray-300 dark:border-gray-500 ${a?"opacity-50 cursor-not-allowed":""}`}`,children:T.isCompleted&&f.jsx(wo,{className:"w-4 h-4"})}),f.jsx("span",{className:`flex-1 text-sm ${T.isCompleted?"text-gray-400 line-through dark:text-gray-500":"text-gray-800 dark:text-gray-100"}`,children:T.text}),!a&&f.jsx("button",{onClick:()=>M(T.id),className:"p-2 text-gray-300 hover:text-red-400 transition-colors",children:f.jsx(la,{className:"w-4 h-4"})})]},T.id))})]},v.id)}),D===0&&f.jsxs("div",{className:"text-center py-10 opacity-50",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:f.jsx(wo,{className:"w-8 h-8"})}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["",f.jsx("br",{}),""]})]})]}),h&&!a&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(oa,{className:"w-5 h-5"})," "]}),f.jsx("div",{className:"space-y-3 mb-6 max-h-[50vh] overflow-y-auto pr-1 no-scrollbar",children:n.map(v=>f.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${v.color.split(" ")[0].replace("bg-","bg-")}`}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:v.label})]}),!v.isDefault&&f.jsx("button",{onClick:()=>b(v.id),className:"text-gray-400 hover:text-red-500 p-1",children:f.jsx(la,{className:"w-4 h-4"})}),v.isDefault&&f.jsx("span",{className:"text-[10px] text-gray-400 px-2",children:""})]},v.id))}),f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("input",{type:"text",placeholder:"",value:p,onChange:v=>g(v.target.value),className:"flex-1 p-2 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-lg border-none outline-none focus:ring-2 focus:ring-primary text-sm"}),f.jsx("button",{onClick:A,disabled:!p.trim(),className:"bg-primary dark:bg-blue-600 text-white px-3 rounded-lg disabled:opacity-50 text-sm font-bold",children:""})]}),f.jsx("button",{onClick:()=>m(!1),className:"w-full py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl",children:""})]})})]})};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Pw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const r=e[n++];t[i++]=String.fromCharCode((a&31)<<6|r&63)}else if(a>239&&a<365){const r=e[n++],s=e[n++],o=e[n++],u=((a&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],s=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(r&63)<<6|s&63)}}return t.join("")},HT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const r=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,m=r>>2,p=(r&3)<<4|o>>4;let g=(o&15)<<2|h>>6,y=h&63;u||(y=64,s||(g=64)),i.push(n[m],n[p],n[g],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Pw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const r=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const p=a<e.length?n[e.charAt(a)]:64;if(++a,r==null||o==null||h==null||p==null)throw new zw;const g=r<<2|o>>4;if(i.push(g),h!==64){const y=o<<4&240|h>>2;if(i.push(y),p!==64){const I=h<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(e){const t=zT(e);return HT.encodeByteArray(t,!0)},uu=function(e){return Hw(e).replace(/\./g,"")},Gw=function(e){try{return HT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>Fw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof _y>"u")return;const e=_y.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Kw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Gw(e[1]);return t&&JSON.parse(t)},Zd=()=>{try{return qw()||Yw()||Kw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Qw=e=>{var t,n;return(n=(t=Zd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Xw=e=>{const t=Qw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},GT=()=>{var e;return(e=Zd())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[uu(JSON.stringify(n)),uu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ww(){var e;const t=(e=Zd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t2(){return!Ww()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e2(){try{return typeof indexedDB=="object"}catch{return!1}}function n2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var r;t(((r=a.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="FirebaseError";class Rr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=i2,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,FT.prototype.create)}}class FT{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,r=this.errors[t],s=r?a2(r,i):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Rr(a,o,i)}}function a2(e,t){return e.replace(r2,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const r2=/\{\$([^}]+)}/g;function Nf(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const r=e[a],s=t[a];if(Ey(r)&&Ey(s)){if(!Nf(r,s))return!1}else if(r!==s)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ey(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e){return e&&e._delegate?e._delegate:e}class Ys{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new $w;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(a)return null;throw r}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(o2(t))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:a});i.resolve(r)}catch{}}}}clearInstance(t=Ki){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ki){return this.instances.has(t)}getOptions(t=Ki){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&s.resolve(a)}return a}onInit(t,n){var i;const a=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(a,r);const s=this.instances.get(a);return s&&t(s,a),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:l2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ki){return this.component?this.component.multipleInstances?t:Ki:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l2(e){return e===Ki?void 0:e}function o2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new s2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(dt||(dt={}));const c2={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},h2=dt.INFO,f2={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},d2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=f2[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qT{constructor(t){this.name=t,this._logLevel=h2,this._logHandler=d2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?c2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const m2=(e,t)=>t.some(n=>e instanceof n);let vy,Ty;function g2(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p2(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YT=new WeakMap,If=new WeakMap,KT=new WeakMap,dh=new WeakMap,Wd=new WeakMap;function y2(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{n(vi(e.result)),a()},s=()=>{i(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&YT.set(n,e)}).catch(()=>{}),Wd.set(t,e),t}function _2(e){if(If.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{n(),a()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});If.set(e,t)}let Rf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return If.get(e);if(t==="objectStoreNames")return e.objectStoreNames||KT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function E2(e){Rf=e(Rf)}function v2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(mh(this),t,...n);return KT.set(i,t.sort?t.sort():[t]),vi(i)}:p2().includes(e)?function(...t){return e.apply(mh(this),t),vi(YT.get(this))}:function(...t){return vi(e.apply(mh(this),t))}}function T2(e){return typeof e=="function"?v2(e):(e instanceof IDBTransaction&&_2(e),m2(e,g2())?new Proxy(e,Rf):e)}function vi(e){if(e instanceof IDBRequest)return y2(e);if(dh.has(e))return dh.get(e);const t=T2(e);return t!==e&&(dh.set(e,t),Wd.set(t,e)),t}const mh=e=>Wd.get(e);function b2(e,t,{blocked:n,upgrade:i,blocking:a,terminated:r}={}){const s=indexedDB.open(e,t),o=vi(s);return i&&s.addEventListener("upgradeneeded",u=>{i(vi(s.result),u.oldVersion,u.newVersion,vi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const A2=["get","getKey","getAll","getAllKeys","count"],S2=["put","add","delete","clear"],gh=new Map;function by(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gh.get(t))return gh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=S2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||A2.includes(n)))return;const r=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return gh.set(t,r),r}E2(e=>({...e,get:(t,n,i)=>by(t,n)||e.get(t,n,i),has:(t,n)=>!!by(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function w2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cf="@firebase/app",Ay="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new qT("@firebase/app"),N2="@firebase/app-compat",I2="@firebase/analytics-compat",R2="@firebase/analytics",C2="@firebase/app-check-compat",D2="@firebase/app-check",O2="@firebase/auth",M2="@firebase/auth-compat",V2="@firebase/database",k2="@firebase/data-connect",U2="@firebase/database-compat",L2="@firebase/functions",j2="@firebase/functions-compat",B2="@firebase/installations",P2="@firebase/installations-compat",z2="@firebase/messaging",H2="@firebase/messaging-compat",G2="@firebase/performance",F2="@firebase/performance-compat",q2="@firebase/remote-config",Y2="@firebase/remote-config-compat",K2="@firebase/storage",Q2="@firebase/storage-compat",X2="@firebase/firestore",$2="@firebase/vertexai-preview",J2="@firebase/firestore-compat",Z2="firebase",W2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="[DEFAULT]",tN={[Cf]:"fire-core",[N2]:"fire-core-compat",[R2]:"fire-analytics",[I2]:"fire-analytics-compat",[D2]:"fire-app-check",[C2]:"fire-app-check-compat",[O2]:"fire-auth",[M2]:"fire-auth-compat",[V2]:"fire-rtdb",[k2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[L2]:"fire-fn",[j2]:"fire-fn-compat",[B2]:"fire-iid",[P2]:"fire-iid-compat",[z2]:"fire-fcm",[H2]:"fire-fcm-compat",[G2]:"fire-perf",[F2]:"fire-perf-compat",[q2]:"fire-rc",[Y2]:"fire-rc-compat",[K2]:"fire-gcs",[Q2]:"fire-gcs-compat",[X2]:"fire-fst",[J2]:"fire-fst-compat",[$2]:"fire-vertex","fire-js":"fire-js",[Z2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,eN=new Map,Of=new Map;function Sy(e,t){try{e.container.addComponent(t)}catch(n){Fn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function hu(e){const t=e.name;if(Of.has(t))return Fn.debug(`There were multiple attempts to register component ${t}.`),!1;Of.set(t,e);for(const n of cu.values())Sy(n,e);for(const n of eN.values())Sy(n,e);return!0}function nN(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new FT("app","Firebase",iN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=W2;function QT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Df,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw Ti.create("bad-app-name",{appName:String(a)});if(n||(n=GT()),!n)throw Ti.create("no-options");const r=cu.get(a);if(r){if(Nf(n,r.options)&&Nf(i,r.config))return r;throw Ti.create("duplicate-app",{appName:a})}const s=new u2(a);for(const u of Of.values())s.addComponent(u);const o=new aN(n,i,s);return cu.set(a,o),o}function sN(e=Df){const t=cu.get(e);if(!t&&e===Df&&GT())return QT();if(!t)throw Ti.create("no-app",{appName:e});return t}function er(e,t,n){var i;let a=(i=tN[e])!==null&&i!==void 0?i:e;n&&(a+=`-${n}`);const r=a.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const o=[`Unable to register library "${a}" with version "${t}":`];r&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fn.warn(o.join(" "));return}hu(new Ys(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebase-heartbeat-database",oN=1,Ks="firebase-heartbeat-store";let ph=null;function XT(){return ph||(ph=b2(lN,oN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ks)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ti.create("idb-open",{originalErrorMessage:e.message})})),ph}async function uN(e){try{const n=(await XT()).transaction(Ks),i=await n.objectStore(Ks).get($T(e));return await n.done,i}catch(t){if(t instanceof Rr)Fn.warn(t.message);else{const n=Ti.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fn.warn(n.message)}}}async function xy(e,t){try{const i=(await XT()).transaction(Ks,"readwrite");await i.objectStore(Ks).put(t,$T(e)),await i.done}catch(n){if(n instanceof Rr)Fn.warn(n.message);else{const i=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fn.warn(i.message)}}}function $T(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1024,hN=30*24*60*60*1e3;class fN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wy();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=hN}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wy(),{heartbeatsToSend:i,unsentEntries:a}=dN(this._heartbeatsCache.heartbeats),r=uu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Fn.warn(n),""}}}function wy(){return new Date().toISOString().substring(0,10)}function dN(e,t=cN){const n=[];let i=e.slice();for(const a of e){const r=n.find(s=>s.agent===a.agent);if(r){if(r.dates.push(a.date),Ny(n)>t){r.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ny(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class mN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e2()?n2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Ny(e){return uu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(e){hu(new Ys("platform-logger",t=>new x2(t),"PRIVATE")),hu(new Ys("heartbeat",t=>new fN(t),"PRIVATE")),er(Cf,Ay,e),er(Cf,Ay,"esm2017"),er("fire-js","")}gN("");var pN="firebase",yN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(pN,yN,"app");var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,JT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(v,_){function T(){}T.prototype=_.prototype,v.D=_.prototype,v.prototype=new T,v.prototype.constructor=v,v.C=function(S,R,C){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return _.prototype[R].apply(S,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(v,_,T){T||(T=0);var S=Array(16);if(typeof _=="string")for(var R=0;16>R;++R)S[R]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(R=0;16>R;++R)S[R]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=v.g[0],T=v.g[1],R=v.g[2];var C=v.g[3],N=_+(C^T&(R^C))+S[0]+3614090360&4294967295;_=T+(N<<7&4294967295|N>>>25),N=C+(R^_&(T^R))+S[1]+3905402710&4294967295,C=_+(N<<12&4294967295|N>>>20),N=R+(T^C&(_^T))+S[2]+606105819&4294967295,R=C+(N<<17&4294967295|N>>>15),N=T+(_^R&(C^_))+S[3]+3250441966&4294967295,T=R+(N<<22&4294967295|N>>>10),N=_+(C^T&(R^C))+S[4]+4118548399&4294967295,_=T+(N<<7&4294967295|N>>>25),N=C+(R^_&(T^R))+S[5]+1200080426&4294967295,C=_+(N<<12&4294967295|N>>>20),N=R+(T^C&(_^T))+S[6]+2821735955&4294967295,R=C+(N<<17&4294967295|N>>>15),N=T+(_^R&(C^_))+S[7]+4249261313&4294967295,T=R+(N<<22&4294967295|N>>>10),N=_+(C^T&(R^C))+S[8]+1770035416&4294967295,_=T+(N<<7&4294967295|N>>>25),N=C+(R^_&(T^R))+S[9]+2336552879&4294967295,C=_+(N<<12&4294967295|N>>>20),N=R+(T^C&(_^T))+S[10]+4294925233&4294967295,R=C+(N<<17&4294967295|N>>>15),N=T+(_^R&(C^_))+S[11]+2304563134&4294967295,T=R+(N<<22&4294967295|N>>>10),N=_+(C^T&(R^C))+S[12]+1804603682&4294967295,_=T+(N<<7&4294967295|N>>>25),N=C+(R^_&(T^R))+S[13]+4254626195&4294967295,C=_+(N<<12&4294967295|N>>>20),N=R+(T^C&(_^T))+S[14]+2792965006&4294967295,R=C+(N<<17&4294967295|N>>>15),N=T+(_^R&(C^_))+S[15]+1236535329&4294967295,T=R+(N<<22&4294967295|N>>>10),N=_+(R^C&(T^R))+S[1]+4129170786&4294967295,_=T+(N<<5&4294967295|N>>>27),N=C+(T^R&(_^T))+S[6]+3225465664&4294967295,C=_+(N<<9&4294967295|N>>>23),N=R+(_^T&(C^_))+S[11]+643717713&4294967295,R=C+(N<<14&4294967295|N>>>18),N=T+(C^_&(R^C))+S[0]+3921069994&4294967295,T=R+(N<<20&4294967295|N>>>12),N=_+(R^C&(T^R))+S[5]+3593408605&4294967295,_=T+(N<<5&4294967295|N>>>27),N=C+(T^R&(_^T))+S[10]+38016083&4294967295,C=_+(N<<9&4294967295|N>>>23),N=R+(_^T&(C^_))+S[15]+3634488961&4294967295,R=C+(N<<14&4294967295|N>>>18),N=T+(C^_&(R^C))+S[4]+3889429448&4294967295,T=R+(N<<20&4294967295|N>>>12),N=_+(R^C&(T^R))+S[9]+568446438&4294967295,_=T+(N<<5&4294967295|N>>>27),N=C+(T^R&(_^T))+S[14]+3275163606&4294967295,C=_+(N<<9&4294967295|N>>>23),N=R+(_^T&(C^_))+S[3]+4107603335&4294967295,R=C+(N<<14&4294967295|N>>>18),N=T+(C^_&(R^C))+S[8]+1163531501&4294967295,T=R+(N<<20&4294967295|N>>>12),N=_+(R^C&(T^R))+S[13]+2850285829&4294967295,_=T+(N<<5&4294967295|N>>>27),N=C+(T^R&(_^T))+S[2]+4243563512&4294967295,C=_+(N<<9&4294967295|N>>>23),N=R+(_^T&(C^_))+S[7]+1735328473&4294967295,R=C+(N<<14&4294967295|N>>>18),N=T+(C^_&(R^C))+S[12]+2368359562&4294967295,T=R+(N<<20&4294967295|N>>>12),N=_+(T^R^C)+S[5]+4294588738&4294967295,_=T+(N<<4&4294967295|N>>>28),N=C+(_^T^R)+S[8]+2272392833&4294967295,C=_+(N<<11&4294967295|N>>>21),N=R+(C^_^T)+S[11]+1839030562&4294967295,R=C+(N<<16&4294967295|N>>>16),N=T+(R^C^_)+S[14]+4259657740&4294967295,T=R+(N<<23&4294967295|N>>>9),N=_+(T^R^C)+S[1]+2763975236&4294967295,_=T+(N<<4&4294967295|N>>>28),N=C+(_^T^R)+S[4]+1272893353&4294967295,C=_+(N<<11&4294967295|N>>>21),N=R+(C^_^T)+S[7]+4139469664&4294967295,R=C+(N<<16&4294967295|N>>>16),N=T+(R^C^_)+S[10]+3200236656&4294967295,T=R+(N<<23&4294967295|N>>>9),N=_+(T^R^C)+S[13]+681279174&4294967295,_=T+(N<<4&4294967295|N>>>28),N=C+(_^T^R)+S[0]+3936430074&4294967295,C=_+(N<<11&4294967295|N>>>21),N=R+(C^_^T)+S[3]+3572445317&4294967295,R=C+(N<<16&4294967295|N>>>16),N=T+(R^C^_)+S[6]+76029189&4294967295,T=R+(N<<23&4294967295|N>>>9),N=_+(T^R^C)+S[9]+3654602809&4294967295,_=T+(N<<4&4294967295|N>>>28),N=C+(_^T^R)+S[12]+3873151461&4294967295,C=_+(N<<11&4294967295|N>>>21),N=R+(C^_^T)+S[15]+530742520&4294967295,R=C+(N<<16&4294967295|N>>>16),N=T+(R^C^_)+S[2]+3299628645&4294967295,T=R+(N<<23&4294967295|N>>>9),N=_+(R^(T|~C))+S[0]+4096336452&4294967295,_=T+(N<<6&4294967295|N>>>26),N=C+(T^(_|~R))+S[7]+1126891415&4294967295,C=_+(N<<10&4294967295|N>>>22),N=R+(_^(C|~T))+S[14]+2878612391&4294967295,R=C+(N<<15&4294967295|N>>>17),N=T+(C^(R|~_))+S[5]+4237533241&4294967295,T=R+(N<<21&4294967295|N>>>11),N=_+(R^(T|~C))+S[12]+1700485571&4294967295,_=T+(N<<6&4294967295|N>>>26),N=C+(T^(_|~R))+S[3]+2399980690&4294967295,C=_+(N<<10&4294967295|N>>>22),N=R+(_^(C|~T))+S[10]+4293915773&4294967295,R=C+(N<<15&4294967295|N>>>17),N=T+(C^(R|~_))+S[1]+2240044497&4294967295,T=R+(N<<21&4294967295|N>>>11),N=_+(R^(T|~C))+S[8]+1873313359&4294967295,_=T+(N<<6&4294967295|N>>>26),N=C+(T^(_|~R))+S[15]+4264355552&4294967295,C=_+(N<<10&4294967295|N>>>22),N=R+(_^(C|~T))+S[6]+2734768916&4294967295,R=C+(N<<15&4294967295|N>>>17),N=T+(C^(R|~_))+S[13]+1309151649&4294967295,T=R+(N<<21&4294967295|N>>>11),N=_+(R^(T|~C))+S[4]+4149444226&4294967295,_=T+(N<<6&4294967295|N>>>26),N=C+(T^(_|~R))+S[11]+3174756917&4294967295,C=_+(N<<10&4294967295|N>>>22),N=R+(_^(C|~T))+S[2]+718787259&4294967295,R=C+(N<<15&4294967295|N>>>17),N=T+(C^(R|~_))+S[9]+3951481745&4294967295,v.g[0]=v.g[0]+_&4294967295,v.g[1]=v.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,v.g[2]=v.g[2]+R&4294967295,v.g[3]=v.g[3]+C&4294967295}i.prototype.u=function(v,_){_===void 0&&(_=v.length);for(var T=_-this.blockSize,S=this.B,R=this.h,C=0;C<_;){if(R==0)for(;C<=T;)a(this,v,C),C+=this.blockSize;if(typeof v=="string"){for(;C<_;)if(S[R++]=v.charCodeAt(C++),R==this.blockSize){a(this,S),R=0;break}}else for(;C<_;)if(S[R++]=v[C++],R==this.blockSize){a(this,S),R=0;break}}this.h=R,this.o+=_},i.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var _=1;_<v.length-8;++_)v[_]=0;var T=8*this.o;for(_=v.length-8;_<v.length;++_)v[_]=T&255,T/=256;for(this.u(v),v=Array(16),_=T=0;4>_;++_)for(var S=0;32>S;S+=8)v[T++]=this.g[_]>>>S&255;return v};function r(v,_){var T=o;return Object.prototype.hasOwnProperty.call(T,v)?T[v]:T[v]=_(v)}function s(v,_){this.h=_;for(var T=[],S=!0,R=v.length-1;0<=R;R--){var C=v[R]|0;S&&C==_||(T[R]=C,S=!1)}this.g=T}var o={};function u(v){return-128<=v&&128>v?r(v,function(_){return new s([_|0],0>_?-1:0)}):new s([v|0],0>v?-1:0)}function h(v){if(isNaN(v)||!isFinite(v))return p;if(0>v)return w(h(-v));for(var _=[],T=1,S=0;v>=T;S++)_[S]=v/T|0,T*=4294967296;return new s(_,0)}function m(v,_){if(v.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(v.charAt(0)=="-")return w(m(v.substring(1),_));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(_,8)),S=p,R=0;R<v.length;R+=8){var C=Math.min(8,v.length-R),N=parseInt(v.substring(R,R+C),_);8>C?(C=h(Math.pow(_,C)),S=S.j(C).add(h(N))):(S=S.j(T),S=S.add(h(N)))}return S}var p=u(0),g=u(1),y=u(16777216);e=s.prototype,e.m=function(){if(M(this))return-w(this).m();for(var v=0,_=1,T=0;T<this.g.length;T++){var S=this.i(T);v+=(0<=S?S:4294967296+S)*_,_*=4294967296}return v},e.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I(this))return"0";if(M(this))return"-"+w(this).toString(v);for(var _=h(Math.pow(v,6)),T=this,S="";;){var R=D(T,_).g;T=A(T,R.j(_));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(v);if(T=R,I(T))return C+S;for(;6>C.length;)C="0"+C;S=C+S}},e.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function I(v){if(v.h!=0)return!1;for(var _=0;_<v.g.length;_++)if(v.g[_]!=0)return!1;return!0}function M(v){return v.h==-1}e.l=function(v){return v=A(this,v),M(v)?-1:I(v)?0:1};function w(v){for(var _=v.g.length,T=[],S=0;S<_;S++)T[S]=~v.g[S];return new s(T,~v.h).add(g)}e.abs=function(){return M(this)?w(this):this},e.add=function(v){for(var _=Math.max(this.g.length,v.g.length),T=[],S=0,R=0;R<=_;R++){var C=S+(this.i(R)&65535)+(v.i(R)&65535),N=(C>>>16)+(this.i(R)>>>16)+(v.i(R)>>>16);S=N>>>16,C&=65535,N&=65535,T[R]=N<<16|C}return new s(T,T[T.length-1]&-2147483648?-1:0)};function A(v,_){return v.add(w(_))}e.j=function(v){if(I(this)||I(v))return p;if(M(this))return M(v)?w(this).j(w(v)):w(w(this).j(v));if(M(v))return w(this.j(w(v)));if(0>this.l(y)&&0>v.l(y))return h(this.m()*v.m());for(var _=this.g.length+v.g.length,T=[],S=0;S<2*_;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<v.g.length;R++){var C=this.i(S)>>>16,N=this.i(S)&65535,ne=v.i(R)>>>16,me=v.i(R)&65535;T[2*S+2*R]+=N*me,b(T,2*S+2*R),T[2*S+2*R+1]+=C*me,b(T,2*S+2*R+1),T[2*S+2*R+1]+=N*ne,b(T,2*S+2*R+1),T[2*S+2*R+2]+=C*ne,b(T,2*S+2*R+2)}for(S=0;S<_;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=_;S<2*_;S++)T[S]=0;return new s(T,0)};function b(v,_){for(;(v[_]&65535)!=v[_];)v[_+1]+=v[_]>>>16,v[_]&=65535,_++}function x(v,_){this.g=v,this.h=_}function D(v,_){if(I(_))throw Error("division by zero");if(I(v))return new x(p,p);if(M(v))return _=D(w(v),_),new x(w(_.g),w(_.h));if(M(_))return _=D(v,w(_)),new x(w(_.g),_.h);if(30<v.g.length){if(M(v)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var T=g,S=_;0>=S.l(v);)T=P(T),S=P(S);var R=H(T,1),C=H(S,1);for(S=H(S,2),T=H(T,2);!I(S);){var N=C.add(S);0>=N.l(v)&&(R=R.add(T),C=N),S=H(S,1),T=H(T,1)}return _=A(v,R.j(_)),new x(R,_)}for(R=p;0<=v.l(_);){for(T=Math.max(1,Math.floor(v.m()/_.m())),S=Math.ceil(Math.log(T)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),C=h(T),N=C.j(_);M(N)||0<N.l(v);)T-=S,C=h(T),N=C.j(_);I(C)&&(C=g),R=R.add(C),v=A(v,N)}return new x(R,v)}e.A=function(v){return D(this,v).h},e.and=function(v){for(var _=Math.max(this.g.length,v.g.length),T=[],S=0;S<_;S++)T[S]=this.i(S)&v.i(S);return new s(T,this.h&v.h)},e.or=function(v){for(var _=Math.max(this.g.length,v.g.length),T=[],S=0;S<_;S++)T[S]=this.i(S)|v.i(S);return new s(T,this.h|v.h)},e.xor=function(v){for(var _=Math.max(this.g.length,v.g.length),T=[],S=0;S<_;S++)T[S]=this.i(S)^v.i(S);return new s(T,this.h^v.h)};function P(v){for(var _=v.g.length+1,T=[],S=0;S<_;S++)T[S]=v.i(S)<<1|v.i(S-1)>>>31;return new s(T,v.h)}function H(v,_){var T=_>>5;_%=32;for(var S=v.g.length-T,R=[],C=0;C<S;C++)R[C]=0<_?v.i(C+T)>>>_|v.i(C+T+1)<<32-_:v.i(C+T);return new s(R,v.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,JT=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=m,ta=s}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZT,us,WT,No,Mf,tb,eb,nb;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,c,d){return l==Array.prototype||l==Object.prototype||(l[c]=d.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof io=="object"&&io];for(var c=0;c<l.length;++c){var d=l[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function a(l,c){if(c)t:{var d=i;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in d))break t;d=d[O]}l=l[l.length-1],E=d[l],c=c(E),c!=E&&c!=null&&t(d,l,{configurable:!0,writable:!0,value:c})}}function r(l,c){l instanceof String&&(l+="");var d=0,E=!1,O={next:function(){if(!E&&d<l.length){var V=d++;return{value:c(V,l[V]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return r(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function u(l){var c=typeof l;return c=c!="object"?c:l?Array.isArray(l)?"array":c:"null",c=="array"||c=="object"&&typeof l.length=="number"}function h(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function m(l,c,d){return l.call.apply(l.bind,arguments)}function p(l,c,d){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(c,O)}}return function(){return l.apply(c,arguments)}}function g(l,c,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,g.apply(null,arguments)}function y(l,c){var d=Array.prototype.slice.call(arguments,1);return function(){var E=d.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function I(l,c){function d(){}d.prototype=c.prototype,l.aa=c.prototype,l.prototype=new d,l.prototype.constructor=l,l.Qb=function(E,O,V){for(var z=Array(arguments.length-2),St=2;St<arguments.length;St++)z[St-2]=arguments[St];return c.prototype[O].apply(E,z)}}function M(l){const c=l.length;if(0<c){const d=Array(c);for(let E=0;E<c;E++)d[E]=l[E];return d}return[]}function w(l,c){for(let d=1;d<arguments.length;d++){const E=arguments[d];if(u(E)){const O=l.length||0,V=E.length||0;l.length=O+V;for(let z=0;z<V;z++)l[O+z]=E[z]}else l.push(E)}}class A{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function b(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function H(l,c,d){for(const E in l)c.call(d,l[E],E,l)}function v(l,c){for(const d in l)c.call(void 0,l[d],d,l)}function _(l){const c={};for(const d in l)c[d]=l[d];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,c){let d,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(d in E)l[d]=E[d];for(let V=0;V<T.length;V++)d=T[V],Object.prototype.hasOwnProperty.call(E,d)&&(l[d]=E[d])}}function R(l){var c=1;l=l.split(":");const d=[];for(;0<c&&l.length;)d.push(l.shift()),c--;return l.length&&d.push(l.join(":")),d}function C(l){o.setTimeout(()=>{throw l},0)}function N(){var l=q;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class ne{constructor(){this.h=this.g=null}add(c,d){const E=me.get();E.set(c,d),this.h?this.h.next=E:this.g=E,this.h=E}}var me=new A(()=>new G,l=>l.reset());class G{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let J,$=!1,q=new ne,Y=()=>{const l=o.Promise.resolve(void 0);J=()=>{l.then(At)}};var At=()=>{for(var l;l=N();){try{l.h.call(l.g)}catch(d){C(d)}var c=me;c.j(l),100>c.h&&(c.h++,l.next=c.g,c.g=l)}$=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const d=()=>{};o.addEventListener("test",d,c),o.removeEventListener("test",d,c)}catch{}return l}();function k(l,c){if(U.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var d=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget){if(P){t:{try{D(c.nodeName);var O=!0;break t}catch{}O=!1}O||(c=null)}}else d=="mouseover"?c=l.fromElement:d=="mouseout"&&(c=l.toElement);this.relatedTarget=c,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:rt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&k.aa.h.call(this)}}I(k,U);var rt={2:"touch",3:"pen",4:"mouse"};k.prototype.h=function(){k.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Mr=0;function Vr(l,c,d,E,O){this.listener=l,this.proxy=null,this.src=c,this.type=d,this.capture=!!E,this.ha=O,this.key=++Mr,this.da=this.fa=!1}function Qn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ea(l){this.src=l,this.g={},this.h=0}Ea.prototype.add=function(l,c,d,E,O){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var z=ac(l,c,E,O);return-1<z?(c=l[z],d||(c.fa=!1)):(c=new Vr(c,this.src,V,!!E,O),c.fa=d,l.push(c)),c};function ic(l,c){var d=c.type;if(d in l.g){var E=l.g[d],O=Array.prototype.indexOf.call(E,c,void 0),V;(V=0<=O)&&Array.prototype.splice.call(E,O,1),V&&(Qn(c),l.g[d].length==0&&(delete l.g[d],l.h--))}}function ac(l,c,d,E){for(var O=0;O<l.length;++O){var V=l[O];if(!V.da&&V.listener==c&&V.capture==!!d&&V.ha==E)return O}return-1}var rc="closure_lm_"+(1e6*Math.random()|0),sc={};function Dm(l,c,d,E,O){if(Array.isArray(c)){for(var V=0;V<c.length;V++)Dm(l,c[V],d,E,O);return null}return d=Vm(d),l&&l[Ot]?l.K(c,d,h(E)?!!E.capture:!1,O):pA(l,c,d,!1,E,O)}function pA(l,c,d,E,O,V){if(!c)throw Error("Invalid event type");var z=h(O)?!!O.capture:!!O,St=oc(l);if(St||(l[rc]=St=new Ea(l)),d=St.add(c,d,E,z,V),d.proxy)return d;if(E=yA(),d.proxy=E,E.src=l,E.listener=d,l.addEventListener)ht||(O=z),O===void 0&&(O=!1),l.addEventListener(c.toString(),E,O);else if(l.attachEvent)l.attachEvent(Mm(c.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return d}function yA(){function l(d){return c.call(l.src,l.listener,d)}const c=_A;return l}function Om(l,c,d,E,O){if(Array.isArray(c))for(var V=0;V<c.length;V++)Om(l,c[V],d,E,O);else E=h(E)?!!E.capture:!!E,d=Vm(d),l&&l[Ot]?(l=l.i,c=String(c).toString(),c in l.g&&(V=l.g[c],d=ac(V,d,E,O),-1<d&&(Qn(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete l.g[c],l.h--)))):l&&(l=oc(l))&&(c=l.g[c.toString()],l=-1,c&&(l=ac(c,d,E,O)),(d=-1<l?c[l]:null)&&lc(d))}function lc(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[Ot])ic(c.i,l);else{var d=l.type,E=l.proxy;c.removeEventListener?c.removeEventListener(d,E,l.capture):c.detachEvent?c.detachEvent(Mm(d),E):c.addListener&&c.removeListener&&c.removeListener(E),(d=oc(c))?(ic(d,l),d.h==0&&(d.src=null,c[rc]=null)):Qn(l)}}}function Mm(l){return l in sc?sc[l]:sc[l]="on"+l}function _A(l,c){if(l.da)l=!0;else{c=new k(c,this);var d=l.listener,E=l.ha||l.src;l.fa&&lc(l),l=d.call(E,c)}return l}function oc(l){return l=l[rc],l instanceof Ea?l:null}var uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vm(l){return typeof l=="function"?l:(l[uc]||(l[uc]=function(c){return l.handleEvent(c)}),l[uc])}function ge(){tt.call(this),this.i=new Ea(this),this.M=this,this.F=null}I(ge,tt),ge.prototype[Ot]=!0,ge.prototype.removeEventListener=function(l,c,d,E){Om(this,l,c,d,E)};function Te(l,c){var d,E=l.F;if(E)for(d=[];E;E=E.F)d.push(E);if(l=l.M,E=c.type||c,typeof c=="string")c=new U(c,l);else if(c instanceof U)c.target=c.target||l;else{var O=c;c=new U(E,l),S(c,O)}if(O=!0,d)for(var V=d.length-1;0<=V;V--){var z=c.g=d[V];O=vl(z,E,!0,c)&&O}if(z=c.g=l,O=vl(z,E,!0,c)&&O,O=vl(z,E,!1,c)&&O,d)for(V=0;V<d.length;V++)z=c.g=d[V],O=vl(z,E,!1,c)&&O}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var l=this.i,c;for(c in l.g){for(var d=l.g[c],E=0;E<d.length;E++)Qn(d[E]);delete l.g[c],l.h--}}this.F=null},ge.prototype.K=function(l,c,d,E){return this.i.add(String(l),c,!1,d,E)},ge.prototype.L=function(l,c,d,E){return this.i.add(String(l),c,!0,d,E)};function vl(l,c,d,E){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();for(var O=!0,V=0;V<c.length;++V){var z=c[V];if(z&&!z.da&&z.capture==d){var St=z.listener,ie=z.ha||z.src;z.fa&&ic(l.i,z),O=St.call(ie,E)!==!1&&O}}return O&&!E.defaultPrevented}function km(l,c,d){if(typeof l=="function")d&&(l=g(l,d));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:o.setTimeout(l,c||0)}function Um(l){l.g=km(()=>{l.g=null,l.i&&(l.i=!1,Um(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class EA extends tt{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Um(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(l){tt.call(this),this.h=l,this.g={}}I(kr,tt);var Lm=[];function jm(l){H(l.g,function(c,d){this.g.hasOwnProperty(d)&&lc(c)},l),l.g={}}kr.prototype.N=function(){kr.aa.N.call(this),jm(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cc=o.JSON.stringify,vA=o.JSON.parse,TA=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function hc(){}hc.prototype.h=null;function Bm(l){return l.h||(l.h=l.i())}function Pm(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fc(){U.call(this,"d")}I(fc,U);function dc(){U.call(this,"c")}I(dc,U);var Vi={},zm=null;function Tl(){return zm=zm||new ge}Vi.La="serverreachability";function Hm(l){U.call(this,Vi.La,l)}I(Hm,U);function Lr(l){const c=Tl();Te(c,new Hm(c))}Vi.STAT_EVENT="statevent";function Gm(l,c){U.call(this,Vi.STAT_EVENT,l),this.stat=c}I(Gm,U);function be(l){const c=Tl();Te(c,new Gm(c,l))}Vi.Ma="timingevent";function Fm(l,c){U.call(this,Vi.Ma,l),this.size=c}I(Fm,U);function jr(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},c)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function bA(l,c,d,E,O,V){l.info(function(){if(l.g)if(V)for(var z="",St=V.split("&"),ie=0;ie<St.length;ie++){var mt=St[ie].split("=");if(1<mt.length){var pe=mt[0];mt=mt[1];var ye=pe.split("_");z=2<=ye.length&&ye[1]=="type"?z+(pe+"="+mt+"&"):z+(pe+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+c+`
`+d+`
`+z})}function AA(l,c,d,E,O,V,z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+c+`
`+d+`
`+V+" "+z})}function va(l,c,d,E){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+xA(l,d)+(E?" "+E:"")})}function SA(l,c){l.info(function(){return"TIMEOUT: "+c})}Br.prototype.info=function(){};function xA(l,c){if(!l.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(l=0;l<d.length;l++)if(Array.isArray(d[l])){var E=d[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return cc(d)}catch{return c}}var bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mc;function Al(){}I(Al,hc),Al.prototype.g=function(){return new XMLHttpRequest},Al.prototype.i=function(){return{}},mc=new Al;function Xn(l,c,d,E){this.j=l,this.i=c,this.l=d,this.R=E||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ym}function Ym(){this.i=null,this.g="",this.h=!1}var Km={},gc={};function pc(l,c,d){l.L=1,l.v=Nl(Sn(c)),l.m=d,l.P=!0,Qm(l,null)}function Qm(l,c){l.F=Date.now(),Sl(l),l.A=Sn(l.v);var d=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),og(d.i,"t",E),l.C=0,d=l.j.J,l.h=new Ym,l.g=wg(l.j,d?c:null,!l.m),0<l.O&&(l.M=new EA(g(l.Y,l,l.g),l.O)),c=l.U,d=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Lm[0]=O.toString()),O=Lm);for(var V=0;V<O.length;V++){var z=Dm(d,O[V],E||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,c)):(l.u="GET",l.g.ea(l.A,l.u,null,c)),Lr(),bA(l.i,l.u,l.A,l.l,l.R,l.m)}Xn.prototype.ca=function(l){l=l.target;const c=this.M;c&&xn(l)==3?c.j():this.Y(l)},Xn.prototype.Y=function(l){try{if(l==this.g)t:{const ye=xn(this.g);var c=this.g.Ba();const Aa=this.g.Z();if(!(3>ye)&&(ye!=3||this.g&&(this.h.h||this.g.oa()||gg(this.g)))){this.J||ye!=4||c==7||(c==8||0>=Aa?Lr(3):Lr(2)),yc(this);var d=this.g.Z();this.X=d;e:if(Xm(this)){var E=gg(this.g);l="";var O=E.length,V=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),Pr(this);var z="";break e}this.h.i=new o.TextDecoder}for(c=0;c<O;c++)this.h.h=!0,l+=this.h.i.decode(E[c],{stream:!(V&&c==O-1)});E.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=d==200,AA(this.i,this.u,this.A,this.l,this.R,ye,d),this.o){if(this.T&&!this.K){e:{if(this.g){var St,ie=this.g;if((St=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(St)){var mt=St;break e}}mt=null}if(d=mt)va(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_c(this,d);else{this.o=!1,this.s=3,be(12),ki(this),Pr(this);break t}}if(this.P){d=!0;let on;for(;!this.J&&this.C<z.length;)if(on=wA(this,z),on==gc){ye==4&&(this.s=4,be(14),d=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Km){this.s=4,be(15),va(this.i,this.l,z,"[Invalid Chunk]"),d=!1;break}else va(this.i,this.l,on,null),_c(this,on);if(Xm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||z.length!=0||this.h.h||(this.s=1,be(16),d=!1),this.o=this.o&&d,!d)va(this.i,this.l,z,"[Invalid Chunked Response]"),ki(this),Pr(this);else if(0<z.length&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.ba&&!pe.M&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Sc(pe),pe.M=!0,be(11))}}else va(this.i,this.l,z,null),_c(this,z);ye==4&&ki(this),this.o&&!this.J&&(ye==4?bg(this.j,this):(this.o=!1,Sl(this)))}else GA(this.g),d==400&&0<z.indexOf("Unknown SID")?(this.s=3,be(12)):(this.s=0,be(13)),ki(this),Pr(this)}}}catch{}finally{}};function Xm(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function wA(l,c){var d=l.C,E=c.indexOf(`
`,d);return E==-1?gc:(d=Number(c.substring(d,E)),isNaN(d)?Km:(E+=1,E+d>c.length?gc:(c=c.slice(E,E+d),l.C=E+d,c)))}Xn.prototype.cancel=function(){this.J=!0,ki(this)};function Sl(l){l.S=Date.now()+l.I,$m(l,l.I)}function $m(l,c){if(l.B!=null)throw Error("WatchDog timer not null");l.B=jr(g(l.ba,l),c)}function yc(l){l.B&&(o.clearTimeout(l.B),l.B=null)}Xn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(SA(this.i,this.A),this.L!=2&&(Lr(),be(17)),ki(this),this.s=2,Pr(this)):$m(this,this.S-l)};function Pr(l){l.j.G==0||l.J||bg(l.j,l)}function ki(l){yc(l);var c=l.M;c&&typeof c.ma=="function"&&c.ma(),l.M=null,jm(l.U),l.g&&(c=l.g,l.g=null,c.abort(),c.ma())}function _c(l,c){try{var d=l.j;if(d.G!=0&&(d.g==l||Ec(d.h,l))){if(!l.K&&Ec(d.h,l)&&d.G==3){try{var E=d.Da.g.parse(c)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){t:if(!d.u){if(d.g)if(d.g.F+3e3<l.F)Ml(d),Dl(d);else break t;Ac(d),be(18)}}else d.za=O[1],0<d.za-d.T&&37500>O[2]&&d.F&&d.v==0&&!d.C&&(d.C=jr(g(d.Za,d),6e3));if(1>=Wm(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Li(d,11)}else if((l.K||d.g==l)&&Ml(d),!b(c))for(O=d.Da.g.parse(c),c=0;c<O.length;c++){let mt=O[c];if(d.T=mt[0],mt=mt[1],d.G==2)if(mt[0]=="c"){d.K=mt[1],d.ia=mt[2];const pe=mt[3];pe!=null&&(d.la=pe,d.j.info("VER="+d.la));const ye=mt[4];ye!=null&&(d.Aa=ye,d.j.info("SVER="+d.Aa));const Aa=mt[5];Aa!=null&&typeof Aa=="number"&&0<Aa&&(E=1.5*Aa,d.L=E,d.j.info("backChannelRequestTimeoutMs_="+E)),E=d;const on=l.g;if(on){const kl=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var V=E.h;V.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(vc(V,V.h),V.h=null))}if(E.D){const xc=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(E.ya=xc,Nt(E.I,E.D,xc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-l.F,d.j.info("Handshake RTT: "+d.R+"ms")),E=d;var z=l;if(E.qa=xg(E,E.J?E.ia:null,E.W),z.K){tg(E.h,z);var St=z,ie=E.L;ie&&(St.I=ie),St.B&&(yc(St),Sl(St)),E.g=z}else vg(E);0<d.i.length&&Ol(d)}else mt[0]!="stop"&&mt[0]!="close"||Li(d,7);else d.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Li(d,7):bc(d):mt[0]!="noop"&&d.l&&d.l.ta(mt),d.v=0)}}Lr(4)}catch{}}var NA=class{constructor(l,c){this.g=l,this.map=c}};function Jm(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wm(l){return l.h?1:l.g?l.g.size:0}function Ec(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function vc(l,c){l.g?l.g.add(c):l.h=c}function tg(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}Jm.prototype.cancel=function(){if(this.i=eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function eg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const d of l.g.values())c=c.concat(d.D);return c}return M(l.i)}function IA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var c=[],d=l.length,E=0;E<d;E++)c.push(l[E]);return c}c=[],d=0;for(E in l)c[d++]=l[E];return c}function RA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var c=[];l=l.length;for(var d=0;d<l;d++)c.push(d);return c}c=[],d=0;for(const E in l)c[d++]=E;return c}}}function ng(l,c){if(l.forEach&&typeof l.forEach=="function")l.forEach(c,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,c,void 0);else for(var d=RA(l),E=IA(l),O=E.length,V=0;V<O;V++)c.call(void 0,E[V],d&&d[V],l)}var ig=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CA(l,c){if(l){l=l.split("&");for(var d=0;d<l.length;d++){var E=l[d].indexOf("="),O=null;if(0<=E){var V=l[d].substring(0,E);O=l[d].substring(E+1)}else V=l[d];c(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ui(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ui){this.h=l.h,xl(this,l.j),this.o=l.o,this.g=l.g,wl(this,l.s),this.l=l.l;var c=l.i,d=new Gr;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),ag(this,d),this.m=l.m}else l&&(c=String(l).match(ig))?(this.h=!1,xl(this,c[1]||"",!0),this.o=zr(c[2]||""),this.g=zr(c[3]||"",!0),wl(this,c[4]),this.l=zr(c[5]||"",!0),ag(this,c[6]||"",!0),this.m=zr(c[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}Ui.prototype.toString=function(){var l=[],c=this.j;c&&l.push(Hr(c,rg,!0),":");var d=this.g;return(d||c=="file")&&(l.push("//"),(c=this.o)&&l.push(Hr(c,rg,!0),"@"),l.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&l.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&l.push("/"),l.push(Hr(d,d.charAt(0)=="/"?MA:OA,!0))),(d=this.i.toString())&&l.push("?",d),(d=this.m)&&l.push("#",Hr(d,kA)),l.join("")};function Sn(l){return new Ui(l)}function xl(l,c,d){l.j=d?zr(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function wl(l,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);l.s=c}else l.s=null}function ag(l,c,d){c instanceof Gr?(l.i=c,UA(l.i,l.h)):(d||(c=Hr(c,VA)),l.i=new Gr(c,l.h))}function Nt(l,c,d){l.i.set(c,d)}function Nl(l){return Nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function zr(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Hr(l,c,d){return typeof l=="string"?(l=encodeURI(l).replace(c,DA),d&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function DA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var rg=/[#\/\?@]/g,OA=/[#\?:]/g,MA=/[#\?]/g,VA=/[#\?@]/g,kA=/#/g;function Gr(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function $n(l){l.g||(l.g=new Map,l.h=0,l.i&&CA(l.i,function(c,d){l.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}e=Gr.prototype,e.add=function(l,c){$n(this),this.i=null,l=Ta(this,l);var d=this.g.get(l);return d||this.g.set(l,d=[]),d.push(c),this.h+=1,this};function sg(l,c){$n(l),c=Ta(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function lg(l,c){return $n(l),c=Ta(l,c),l.g.has(c)}e.forEach=function(l,c){$n(this),this.g.forEach(function(d,E){d.forEach(function(O){l.call(c,O,E,this)},this)},this)},e.na=function(){$n(this);const l=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let E=0;E<c.length;E++){const O=l[E];for(let V=0;V<O.length;V++)d.push(c[E])}return d},e.V=function(l){$n(this);let c=[];if(typeof l=="string")lg(this,l)&&(c=c.concat(this.g.get(Ta(this,l))));else{l=Array.from(this.g.values());for(let d=0;d<l.length;d++)c=c.concat(l[d])}return c},e.set=function(l,c){return $n(this),this.i=null,l=Ta(this,l),lg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=this.V(l),0<l.length?String(l[0]):c):c};function og(l,c,d){sg(l,c),0<d.length&&(l.i=null,l.g.set(Ta(l,c),M(d)),l.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var E=c[d];const V=encodeURIComponent(String(E)),z=this.V(E);for(E=0;E<z.length;E++){var O=V;z[E]!==""&&(O+="="+encodeURIComponent(String(z[E]))),l.push(O)}}return this.i=l.join("&")};function Ta(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function UA(l,c){c&&!l.j&&($n(l),l.i=null,l.g.forEach(function(d,E){var O=E.toLowerCase();E!=O&&(sg(this,E),og(this,O,d))},l)),l.j=c}function LA(l,c){const d=new Br;if(o.Image){const E=new Image;E.onload=y(Jn,d,"TestLoadImage: loaded",!0,c,E),E.onerror=y(Jn,d,"TestLoadImage: error",!1,c,E),E.onabort=y(Jn,d,"TestLoadImage: abort",!1,c,E),E.ontimeout=y(Jn,d,"TestLoadImage: timeout",!1,c,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else c(!1)}function jA(l,c){const d=new Br,E=new AbortController,O=setTimeout(()=>{E.abort(),Jn(d,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:E.signal}).then(V=>{clearTimeout(O),V.ok?Jn(d,"TestPingServer: ok",!0,c):Jn(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(O),Jn(d,"TestPingServer: error",!1,c)})}function Jn(l,c,d,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(d)}catch{}}function BA(){this.g=new TA}function PA(l,c,d){const E=d||"";try{ng(l,function(O,V){let z=O;h(O)&&(z=cc(O)),c.push(E+V+"="+encodeURIComponent(z))})}catch(O){throw c.push(E+"type="+encodeURIComponent("_badmap")),O}}function Il(l){this.l=l.Ub||null,this.j=l.eb||!1}I(Il,hc),Il.prototype.g=function(){return new Rl(this.l,this.j)},Il.prototype.i=function(l){return function(){return l}}({});function Rl(l,c){ge.call(this),this.D=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Rl,ge),e=Rl.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=c,this.readyState=1,qr(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(c.body=l),(this.D||o).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ug(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ug(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?Fr(this):qr(this),this.readyState==3&&ug(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Fr(this))},e.Qa=function(l){this.g&&(this.response=l,Fr(this))},e.ga=function(){this.g&&Fr(this)};function Fr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,qr(l)}e.setRequestHeader=function(l,c){this.u.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,l.push(d[0]+": "+d[1]),d=c.next();return l.join(`\r
`)};function qr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function cg(l){let c="";return H(l,function(d,E){c+=E,c+=":",c+=d,c+=`\r
`}),c}function Tc(l,c,d){t:{for(E in d){var E=!1;break t}E=!0}E||(d=cg(d),typeof l=="string"?d!=null&&encodeURIComponent(String(d)):Nt(l,c,d))}function Ut(l){ge.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ut,ge);var zA=/^https?$/i,HA=["POST","PUT"];e=Ut.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,c,d,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mc.g(),this.v=this.o?Bm(this.o):Bm(mc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(V){hg(this,V);return}if(l=d||"",d=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)d.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const V of E.keys())d.set(V,E.get(V));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),O=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(HA,c,void 0))||E||O||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of d)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mg(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){hg(this,V)}};function hg(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.m=5,fg(l),Cl(l)}function fg(l){l.A||(l.A=!0,Te(l,"complete"),Te(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Te(this,"complete"),Te(this,"abort"),Cl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cl(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?dg(this):this.bb())},e.bb=function(){dg(this)};function dg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||xn(l)!=4||l.Z()!=2)){if(l.u&&xn(l)==4)km(l.Ea,0,l);else if(Te(l,"readystatechange"),xn(l)==4){l.h=!1;try{const z=l.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var d;if(!(d=c)){var E;if(E=z===0){var O=String(l.D).match(ig)[1]||null;!O&&o.self&&o.self.location&&(O=o.self.location.protocol.slice(0,-1)),E=!zA.test(O?O.toLowerCase():"")}d=E}if(d)Te(l,"complete"),Te(l,"success");else{l.m=6;try{var V=2<xn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",fg(l)}}finally{Cl(l)}}}}function Cl(l,c){if(l.g){mg(l);const d=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,c||Te(l,"ready");try{d.onreadystatechange=E}catch{}}}function mg(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function xn(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),vA(c)}};function gg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function GA(l){const c={};l=(l.g&&2<=xn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(b(l[E]))continue;var d=R(l[E]);const O=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=c[O]||[];c[O]=V,V.push(d)}v(c,function(E){return E.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(l,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[l]||c}function pg(l){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,l),this.cb=Yr("retryDelaySeedMs",1e4,l),this.Wa=Yr("forwardChannelMaxRetries",2,l),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Jm(l&&l.concurrentRequestLimit),this.Da=new BA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=pg.prototype,e.la=8,e.G=1,e.connect=function(l,c,d,E){be(0),this.W=l,this.H=c||{},d&&E!==void 0&&(this.H.OSID=d,this.H.OAID=E),this.F=this.X,this.I=xg(this,null,this.W),Ol(this)};function bc(l){if(yg(l),l.G==3){var c=l.U++,d=Sn(l.I);if(Nt(d,"SID",l.K),Nt(d,"RID",c),Nt(d,"TYPE","terminate"),Kr(l,d),c=new Xn(l,l.j,c),c.L=2,c.v=Nl(Sn(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&o.Image&&(new Image().src=c.v,d=!0),d||(c.g=wg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Sl(c)}Sg(l)}function Dl(l){l.g&&(Sc(l),l.g.cancel(),l.g=null)}function yg(l){Dl(l),l.u&&(o.clearTimeout(l.u),l.u=null),Ml(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function Ol(l){if(!Zm(l.h)&&!l.s){l.s=!0;var c=l.Ga;J||Y(),$||(J(),$=!0),q.add(c,l),l.B=0}}function FA(l,c){return Wm(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=c.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=jr(g(l.Ga,l,c),Ag(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Xn(this,this.j,l);let V=this.o;if(this.S&&(V?(V=_(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)t:{for(var c=0,d=0;d<this.i.length;d++){e:{var E=this.i[d];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(c+=E,4096<c){c=d;break t}if(c===4096||d===this.i.length-1){c=d+1;break t}}c=1e3}else c=1e3;c=Eg(this,O,c),d=Sn(this.I),Nt(d,"RID",l),Nt(d,"CVER",22),this.D&&Nt(d,"X-HTTP-Session-Id",this.D),Kr(this,d),V&&(this.O?c="headers="+encodeURIComponent(String(cg(V)))+"&"+c:this.m&&Tc(d,this.m,V)),vc(this.h,O),this.Ua&&Nt(d,"TYPE","init"),this.P?(Nt(d,"$req",c),Nt(d,"SID","null"),O.T=!0,pc(O,d,null)):pc(O,d,c),this.G=2}}else this.G==3&&(l?_g(this,l):this.i.length==0||Zm(this.h)||_g(this))};function _g(l,c){var d;c?d=c.l:d=l.U++;const E=Sn(l.I);Nt(E,"SID",l.K),Nt(E,"RID",d),Nt(E,"AID",l.T),Kr(l,E),l.m&&l.o&&Tc(E,l.m,l.o),d=new Xn(l,l.j,d,l.B+1),l.m===null&&(d.H=l.o),c&&(l.i=c.D.concat(l.i)),c=Eg(l,d,1e3),d.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vc(l.h,d),pc(d,E,c)}function Kr(l,c){l.H&&H(l.H,function(d,E){Nt(c,E,d)}),l.l&&ng({},function(d,E){Nt(c,E,d)})}function Eg(l,c,d){d=Math.min(l.i.length,d);var E=l.l?g(l.l.Na,l.l,l):null;t:{var O=l.i;let V=-1;for(;;){const z=["count="+d];V==-1?0<d?(V=O[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let St=!0;for(let ie=0;ie<d;ie++){let mt=O[ie].g;const pe=O[ie].map;if(mt-=V,0>mt)V=Math.max(0,O[ie].g-100),St=!1;else try{PA(pe,z,"req"+mt+"_")}catch{E&&E(pe)}}if(St){E=z.join("&");break t}}}return l=l.i.splice(0,d),c.D=l,E}function vg(l){if(!l.g&&!l.u){l.Y=1;var c=l.Fa;J||Y(),$||(J(),$=!0),q.add(c,l),l.v=0}}function Ac(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=jr(g(l.Fa,l),Ag(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Tg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=jr(g(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,be(10),Dl(this),Tg(this))};function Sc(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function Tg(l){l.g=new Xn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var c=Sn(l.qa);Nt(c,"RID","rpc"),Nt(c,"SID",l.K),Nt(c,"AID",l.T),Nt(c,"CI",l.F?"0":"1"),!l.F&&l.ja&&Nt(c,"TO",l.ja),Nt(c,"TYPE","xmlhttp"),Kr(l,c),l.m&&l.o&&Tc(c,l.m,l.o),l.L&&(l.g.I=l.L);var d=l.g;l=l.ia,d.L=1,d.v=Nl(Sn(c)),d.m=null,d.P=!0,Qm(d,l)}e.Za=function(){this.C!=null&&(this.C=null,Dl(this),Ac(this),be(19))};function Ml(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function bg(l,c){var d=null;if(l.g==c){Ml(l),Sc(l),l.g=null;var E=2}else if(Ec(l.h,c))d=c.D,tg(l.h,c),E=1;else return;if(l.G!=0){if(c.o)if(E==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var O=l.B;E=Tl(),Te(E,new Fm(E,d)),Ol(l)}else vg(l);else if(O=c.s,O==3||O==0&&0<c.X||!(E==1&&FA(l,c)||E==2&&Ac(l)))switch(d&&0<d.length&&(c=l.h,c.i=c.i.concat(d)),O){case 1:Li(l,5);break;case 4:Li(l,10);break;case 3:Li(l,6);break;default:Li(l,2)}}}function Ag(l,c){let d=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(d*=2),d*c}function Li(l,c){if(l.j.info("Error code "+c),c==2){var d=g(l.fb,l),E=l.Xa;const O=!E;E=new Ui(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||xl(E,"https"),Nl(E),O?LA(E.toString(),d):jA(E.toString(),d)}else be(2);l.G=0,l.l&&l.l.sa(c),Sg(l),yg(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Sg(l){if(l.G=0,l.ka=[],l.l){const c=eg(l.h);(c.length!=0||l.i.length!=0)&&(w(l.ka,c),w(l.ka,l.i),l.h.i.length=0,M(l.i),l.i.length=0),l.l.ra()}}function xg(l,c,d){var E=d instanceof Ui?Sn(d):new Ui(d);if(E.g!="")c&&(E.g=c+"."+E.g),wl(E,E.s);else{var O=o.location;E=O.protocol,c=c?c+"."+O.hostname:O.hostname,O=+O.port;var V=new Ui(null);E&&xl(V,E),c&&(V.g=c),O&&wl(V,O),d&&(V.l=d),E=V}return d=l.D,c=l.ya,d&&c&&Nt(E,d,c),Nt(E,"VER",l.la),Kr(l,E),E}function wg(l,c,d){if(c&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Ca&&!l.pa?new Ut(new Il({eb:d})):new Ut(l.pa),c.Ha(l.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ng(){}e=Ng.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Vl(){}Vl.prototype.g=function(l,c){return new Le(l,c)};function Le(l,c){ge.call(this),this.g=new pg(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(l?l["X-WebChannel-Client-Profile"]=c.va:l={"X-WebChannel-Client-Profile":c.va}),this.g.S=l,(l=c&&c.Sb)&&!b(l)&&(this.g.m=l),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!b(c)&&(this.g.D=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new ba(this)}I(Le,ge),Le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Le.prototype.close=function(){bc(this.g)},Le.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var d={};d.__data__=l,l=d}else this.u&&(d={},d.__data__=cc(l),l=d);c.i.push(new NA(c.Ya++,l)),c.G==3&&Ol(c)},Le.prototype.N=function(){this.g.l=null,delete this.j,bc(this.g),delete this.g,Le.aa.N.call(this)};function Ig(l){fc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const d in c){l=d;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}I(Ig,fc);function Rg(){dc.call(this),this.status=1}I(Rg,dc);function ba(l){this.g=l}I(ba,Ng),ba.prototype.ua=function(){Te(this.g,"a")},ba.prototype.ta=function(l){Te(this.g,new Ig(l))},ba.prototype.sa=function(l){Te(this.g,new Rg)},ba.prototype.ra=function(){Te(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,Le.prototype.send=Le.prototype.o,Le.prototype.open=Le.prototype.m,Le.prototype.close=Le.prototype.close,nb=function(){return new Vl},eb=function(){return Tl()},tb=Vi,Mf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,No=bl,qm.COMPLETE="complete",WT=qm,Pm.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",ge.prototype.listen=ge.prototype.K,us=Pm,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,ZT=Ut}).apply(typeof io<"u"?io:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ee.UNAUTHENTICATED=new Ee(null),Ee.GOOGLE_CREDENTIALS=new Ee("google-credentials-uid"),Ee.FIRST_PARTY=new Ee("first-party-uid"),Ee.MOCK_USER=new Ee("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new qT("@firebase/firestore");function ns(){return ua.logLevel}function F(e,...t){if(ua.logLevel<=dt.DEBUG){const n=t.map(tm);ua.debug(`Firestore (${Cr}): ${e}`,...n)}}function qn(e,...t){if(ua.logLevel<=dt.ERROR){const n=t.map(tm);ua.error(`Firestore (${Cr}): ${e}`,...n)}}function mr(e,...t){if(ua.logLevel<=dt.WARN){const n=t.map(tm);ua.warn(`Firestore (${Cr}): ${e}`,...n)}}function tm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e="Unexpected state"){const t=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+e;throw qn(t),new Error(t)}function vt(e,t){e||W()}function nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ee.UNAUTHENTICATED))}shutdown(){}}class EN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vN{constructor(t){this.t=t,this.currentUser=Ee.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){vt(this.o===void 0);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ea,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ea)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string"),new ib(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string"),new Ee(t)}}class TN{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Ee.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bN{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new TN(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ee.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SN{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){vt(this.o===void 0);const i=r=>{r.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const s=r.token!==this.R;return this.R=r.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const a=r=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>a(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?a(r):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new AN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const a=xN(40);for(let r=0;r<a.length;++r)i.length<20&&a[r]<n&&(i+=t.charAt(a[r]%t.length))}return i}}function gt(e,t){return e<t?-1:e>t?1:0}function gr(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $t.fromMillis(Date.now())}static fromDate(t){return $t.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new $t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gt(this.nanoseconds,t.nanoseconds):gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new et(t)}static min(){return new et(new $t(0,0))}static max(){return new et(new $t(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n,i){n===void 0?n=0:n>t.length&&W(),i===void 0?i=t.length-n:i>t.length-n&&W(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Qs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Qs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const r=t.get(a),s=n.get(a);if(r<s)return-1;if(r>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Bt extends Qs{construct(t,n,i){return new Bt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Q(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const wN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oe extends Qs{construct(t,n,i){return new oe(t,n,i)}static isValidIdentifier(t){return wN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new oe(["__name__"])}static fromServerFormat(t){const n=[];let i="",a=0;const r=()=>{if(i.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(i+=o,a++):(r(),a++)}if(r(),s)throw new Q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new oe(n)}static emptyPath(){return new oe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(Bt.fromString(t))}static fromName(t){return new X(Bt.fromString(t).popFirst(5))}static empty(){return new X(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Bt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Bt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new Bt(t.slice()))}}function NN(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=et.fromTimestamp(i===1e9?new $t(n+1,0):new $t(n,i));return new Ii(a,X.empty(),t)}function IN(e){return new Ii(e.readTime,e.key,-1)}class Ii{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ii(et.min(),X.empty(),-1)}static max(){return new Ii(et.max(),X.empty(),-1)}}function RN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:gt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==CN)throw e;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((i,a)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,a)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,i)=>{n(t)})}static reject(t){return new j((n,i)=>{i(t)})}static waitFor(t){return new j((n,i)=>{let a=0,r=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++r,s&&r===a&&n()},u=>i(u))}),s=!0,r===a&&n()})}static or(t){let n=j.resolve(!1);for(const i of t)n=n.next(a=>a?j.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,r)=>{i.push(n.call(this,a,r))}),this.waitFor(i)}static mapArray(t,n){return new j((i,a)=>{const r=t.length,s=new Array(r);let o=0;for(let u=0;u<r;u++){const h=u;n(t[h]).next(m=>{s[h]=m,++o,o===r&&i(s)},m=>a(m))}})}static doWhile(t,n){return new j((i,a)=>{const r=()=>{t()===!0?n().next(()=>{r()},a):i()};r()})}}function ON(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}em.oe=-1;function Gu(e){return e==null}function fu(e){return e===0&&1/e==-1/0}function MN(e){return typeof e=="number"&&Number.isInteger(e)&&!fu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ya(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t,n){this.comparator=t,this.root=n||re.EMPTY}insert(t,n){return new kt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,re.BLACK,null,null))}remove(t){return new kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,re.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ao(this.root,t,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ao(this.root,t,this.comparator,!0)}}class ao{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&a&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class re{constructor(t,n,i,a,r){this.key=t,this.value=n,this.color=i??re.RED,this.left=a??re.EMPTY,this.right=r??re.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,r){return new re(t??this.key,n??this.value,i??this.color,a??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const r=i(t,a.key);return a=r<0?a.copy(null,null,null,a.left.insert(t,n,i),null):r===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return re.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return re.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,re.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const t=this.left.check();if(t!==this.right.check())throw W();return t+(this.isRed()?0:1)}}re.EMPTY=null,re.RED=!0,re.BLACK=!1;re.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,n,i,a,r){return this}insert(t,n,i){return new re(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.comparator=t,this.data=new kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(t){return new Dy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof he)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(this.comparator(a,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new he(this.comparator);return n.data=t,n}}class Dy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.fields=t,t.sort(oe.comparator)}static empty(){return new He([])}unionWith(t){let n=new he(oe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new He(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return gr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new sb("Invalid base64 string: "+r):r}}(t);return new fe(n)}static fromUint8Array(t){const n=function(a){let r="";for(let s=0;s<a.length;++s)r+=String.fromCharCode(a[s]);return r}(t);return new fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fe.EMPTY_BYTE_STRING=new fe("");const VN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(e){if(vt(!!e),typeof e=="string"){let t=0;const n=VN.exec(e);if(vt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pt(e.seconds),nanos:Pt(e.nanos)}}function Pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ca(e){return typeof e=="string"?fe.fromBase64String(e):fe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function im(e){const t=e.mapValue.fields.__previous_value__;return nm(t)?im(t):t}function Xs(e){const t=Ri(e.mapValue.fields.__local_write_time__.timestampValue);return new $t(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t,n,i,a,r,s,o,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h}}class $s{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof $s&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro={mapValue:{}};function ha(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nm(e)?4:LN(e)?9007199254740991:UN(e)?10:11:W()}function vn(e,t){if(e===t)return!0;const n=ha(e);if(n!==ha(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xs(e).isEqual(Xs(t));case 3:return function(a,r){if(typeof a.timestampValue=="string"&&typeof r.timestampValue=="string"&&a.timestampValue.length===r.timestampValue.length)return a.timestampValue===r.timestampValue;const s=Ri(a.timestampValue),o=Ri(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,r){return ca(a.bytesValue).isEqual(ca(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,r){return Pt(a.geoPointValue.latitude)===Pt(r.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(r.geoPointValue.longitude)}(e,t);case 2:return function(a,r){if("integerValue"in a&&"integerValue"in r)return Pt(a.integerValue)===Pt(r.integerValue);if("doubleValue"in a&&"doubleValue"in r){const s=Pt(a.doubleValue),o=Pt(r.doubleValue);return s===o?fu(s)===fu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return gr(e.arrayValue.values||[],t.arrayValue.values||[],vn);case 10:case 11:return function(a,r){const s=a.mapValue.fields||{},o=r.mapValue.fields||{};if(Cy(s)!==Cy(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!vn(s[u],o[u])))return!1;return!0}(e,t);default:return W()}}function Js(e,t){return(e.values||[]).find(n=>vn(n,t))!==void 0}function pr(e,t){if(e===t)return 0;const n=ha(e),i=ha(t);if(n!==i)return gt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(e.booleanValue,t.booleanValue);case 2:return function(r,s){const o=Pt(r.integerValue||r.doubleValue),u=Pt(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Oy(e.timestampValue,t.timestampValue);case 4:return Oy(Xs(e),Xs(t));case 5:return gt(e.stringValue,t.stringValue);case 6:return function(r,s){const o=ca(r),u=ca(s);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const m=gt(o[h],u[h]);if(m!==0)return m}return gt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){const o=gt(Pt(r.latitude),Pt(s.latitude));return o!==0?o:gt(Pt(r.longitude),Pt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return My(e.arrayValue,t.arrayValue);case 10:return function(r,s){var o,u,h,m;const p=r.fields||{},g=s.fields||{},y=(o=p.value)===null||o===void 0?void 0:o.arrayValue,I=(u=g.value)===null||u===void 0?void 0:u.arrayValue,M=gt(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return M!==0?M:My(y,I)}(e.mapValue,t.mapValue);case 11:return function(r,s){if(r===ro.mapValue&&s===ro.mapValue)return 0;if(r===ro.mapValue)return 1;if(s===ro.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),h=s.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let p=0;p<u.length&&p<m.length;++p){const g=gt(u[p],m[p]);if(g!==0)return g;const y=pr(o[u[p]],h[m[p]]);if(y!==0)return y}return gt(u.length,m.length)}(e.mapValue,t.mapValue);default:throw W()}}function Oy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return gt(e,t);const n=Ri(e),i=Ri(t),a=gt(n.seconds,i.seconds);return a!==0?a:gt(n.nanos,i.nanos)}function My(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const r=pr(n[a],i[a]);if(r)return r}return gt(n.length,i.length)}function yr(e){return Vf(e)}function Vf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ri(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ca(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const r of n.values||[])a?a=!1:i+=",",i+=Vf(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",r=!0;for(const s of i)r?r=!1:a+=",",a+=`${s}:${Vf(n.fields[s])}`;return a+"}"}(e.mapValue):W()}function kf(e){return!!e&&"integerValue"in e}function am(e){return!!e&&"arrayValue"in e}function Vy(e){return!!e&&"nullValue"in e}function ky(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Io(e){return!!e&&"mapValue"in e}function UN(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Is(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ya(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Is(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Is(e.arrayValue.values[n]);return t}return Object.assign({},e)}function LN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.value=t}static empty(){return new Me({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Io(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Is(n)}setAll(t){let n=oe.emptyPath(),i={},a=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}s?i[o.lastSegment()]=Is(s):a.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,a)}delete(t){const n=this.field(t.popLast());Io(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];Io(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){ya(n,(a,r)=>t[a]=r);for(const a of i)delete t[a]}clone(){return new Me(Is(this.value))}}function lb(e){const t=[];return ya(e.fields,(n,i)=>{const a=new oe([n]);if(Io(i)){const r=lb(i.mapValue).fields;if(r.length===0)t.push(a);else for(const s of r)t.push(a.child(s))}else t.push(a)}),new He(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n,i,a,r,s,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ve(t,0,et.min(),et.min(),et.min(),Me.empty(),0)}static newFoundDocument(t,n,i,a){return new ve(t,1,n,et.min(),i,a,0)}static newNoDocument(t,n){return new ve(t,2,n,et.min(),et.min(),Me.empty(),0)}static newUnknownDocument(t,n){return new ve(t,3,n,et.min(),et.min(),Me.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Me.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Me.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ve&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.position=t,this.inclusive=n}}function Uy(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const r=t[a],s=e.position[a];if(r.field.isKeyField()?i=X.comparator(X.fromName(s.referenceValue),n.key):i=pr(s,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ly(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n="asc"){this.field=t,this.dir=n}}function jN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{}class Xt extends ob{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new PN(t,n,i):n==="array-contains"?new GN(t,i):n==="in"?new FN(t,i):n==="not-in"?new qN(t,i):n==="array-contains-any"?new YN(t,i):new Xt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new zN(t,i):new HN(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pr(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(pr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends ob{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Tn(t,n)}matches(t){return ub(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ub(e){return e.op==="and"}function cb(e){return BN(e)&&ub(e)}function BN(e){for(const t of e.filters)if(t instanceof Tn)return!1;return!0}function Uf(e){if(e instanceof Xt)return e.field.canonicalString()+e.op.toString()+yr(e.value);if(cb(e))return e.filters.map(t=>Uf(t)).join(",");{const t=e.filters.map(n=>Uf(n)).join(",");return`${e.op}(${t})`}}function hb(e,t){return e instanceof Xt?function(i,a){return a instanceof Xt&&i.op===a.op&&i.field.isEqual(a.field)&&vn(i.value,a.value)}(e,t):e instanceof Tn?function(i,a){return a instanceof Tn&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((r,s,o)=>r&&hb(s,a.filters[o]),!0):!1}(e,t):void W()}function fb(e){return e instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${yr(n.value)}`}(e):e instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(fb).join(" ,")+"}"}(e):"Filter"}class PN extends Xt{constructor(t,n,i){super(t,n,i),this.key=X.fromName(i.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class zN extends Xt{constructor(t,n){super(t,"in",n),this.keys=db("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class HN extends Xt{constructor(t,n){super(t,"not-in",n),this.keys=db("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function db(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>X.fromName(i.referenceValue))}class GN extends Xt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return am(n)&&Js(n.arrayValue,this.value)}}class FN extends Xt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Js(this.value.arrayValue,n)}}class qN extends Xt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Js(this.value.arrayValue,n)}}class YN extends Xt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Js(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,n=null,i=[],a=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function jy(e,t=null,n=[],i=[],a=null,r=null,s=null){return new KN(e,t,n,i,a,r,s)}function rm(e){const t=nt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Uf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Gu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>yr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>yr(i)).join(",")),t.ue=n}return t.ue}function sm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!jN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ly(e.startAt,t.startAt)&&Ly(e.endAt,t.endAt)}function Lf(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n=null,i=[],a=[],r=null,s="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QN(e,t,n,i,a,r,s,o){return new Fu(e,t,n,i,a,r,s,o)}function lm(e){return new Fu(e)}function By(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function XN(e){return e.collectionGroup!==null}function Rs(e){const t=nt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new he(oe.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.ce.push(new mu(r,i))}),n.has(oe.keyField().canonicalString())||t.ce.push(new mu(oe.keyField(),i))}return t.ce}function yn(e){const t=nt(e);return t.le||(t.le=$N(t,Rs(e))),t.le}function $N(e,t){if(e.limitType==="F")return jy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const r=a.dir==="desc"?"asc":"desc";return new mu(a.field,r)});const n=e.endAt?new du(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new du(e.startAt.position,e.startAt.inclusive):null;return jy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function jf(e,t,n){return new Fu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qu(e,t){return sm(yn(e),yn(t))&&e.limitType===t.limitType}function mb(e){return`${rm(yn(e))}|lt:${e.limitType}`}function Da(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>fb(a)).join(", ")}]`),Gu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>yr(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>yr(a)).join(",")),`Target(${i})`}(yn(e))}; limitType=${e.limitType})`}function Yu(e,t){return t.isFoundDocument()&&function(i,a){const r=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):X.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,a){for(const r of Rs(i))if(!r.field.isKeyField()&&a.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const r of i.filters)if(!r.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(s,o,u){const h=Uy(s,o,u);return s.inclusive?h<=0:h<0}(i.startAt,Rs(i),a)||i.endAt&&!function(s,o,u){const h=Uy(s,o,u);return s.inclusive?h>=0:h>0}(i.endAt,Rs(i),a))}(e,t)}function JN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gb(e){return(t,n)=>{let i=!1;for(const a of Rs(e)){const r=ZN(a,t,n);if(r!==0)return r;i=i||a.field.isKeyField()}return 0}}function ZN(e,t,n){const i=e.field.isKeyField()?X.comparator(t.key,n.key):function(r,s,o){const u=s.data.field(r),h=o.data.field(r);return u!==null&&h!==null?pr(u,h):W()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,r]of i)if(this.equalsFn(a,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<a.length;r++)if(this.equalsFn(a[r][0],t))return void(a[r]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ya(this.inner,(n,i)=>{for(const[a,r]of i)t(a,r)})}isEmpty(){return rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new kt(X.comparator);function Yn(){return WN}const pb=new kt(X.comparator);function cs(...e){let t=pb;for(const n of e)t=t.insert(n.key,n);return t}function yb(e){let t=pb;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Qi(){return Cs()}function _b(){return Cs()}function Cs(){return new Dr(e=>e.toString(),(e,t)=>e.isEqual(t))}const tI=new kt(X.comparator),eI=new he(X.comparator);function ot(...e){let t=eI;for(const n of e)t=t.add(n);return t}const nI=new he(gt);function iI(){return nI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(t)?"-0":t}}function Eb(e){return{integerValue:""+e}}function aI(e,t){return MN(t)?Eb(t):om(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this._=void 0}}function rI(e,t,n){return e instanceof gu?function(a,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return r&&nm(r)&&(r=im(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Zs?Tb(e,t):e instanceof Ws?bb(e,t):function(a,r){const s=vb(a,r),o=Py(s)+Py(a.Pe);return kf(s)&&kf(a.Pe)?Eb(o):om(a.serializer,o)}(e,t)}function sI(e,t,n){return e instanceof Zs?Tb(e,t):e instanceof Ws?bb(e,t):n}function vb(e,t){return e instanceof pu?function(i){return kf(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class gu extends Ku{}class Zs extends Ku{constructor(t){super(),this.elements=t}}function Tb(e,t){const n=Ab(t);for(const i of e.elements)n.some(a=>vn(a,i))||n.push(i);return{arrayValue:{values:n}}}class Ws extends Ku{constructor(t){super(),this.elements=t}}function bb(e,t){let n=Ab(t);for(const i of e.elements)n=n.filter(a=>!vn(a,i));return{arrayValue:{values:n}}}class pu extends Ku{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Py(e){return Pt(e.integerValue||e.doubleValue)}function Ab(e){return am(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function lI(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof Zs&&a instanceof Zs||i instanceof Ws&&a instanceof Ws?gr(i.elements,a.elements,vn):i instanceof pu&&a instanceof pu?vn(i.Pe,a.Pe):i instanceof gu&&a instanceof gu}(e.transform,t.transform)}class oI{constructor(t,n){this.version=t,this.transformResults=n}}class _n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _n}static exists(t){return new _n(void 0,t)}static updateTime(t){return new _n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ro(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qu{}function Sb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wb(e.key,_n.none()):new pl(e.key,e.data,_n.none());{const n=e.data,i=Me.empty();let a=new he(oe.comparator);for(let r of t.fields)if(!a.has(r)){let s=n.field(r);s===null&&r.length>1&&(r=r.popLast(),s=n.field(r)),s===null?i.delete(r):i.set(r,s),a=a.add(r)}return new Mi(e.key,i,new He(a.toArray()),_n.none())}}function uI(e,t,n){e instanceof pl?function(a,r,s){const o=a.value.clone(),u=Hy(a.fieldTransforms,r,s.transformResults);o.setAll(u),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Mi?function(a,r,s){if(!Ro(a.precondition,r))return void r.convertToUnknownDocument(s.version);const o=Hy(a.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(xb(a)),u.setAll(o),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(a,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ds(e,t,n,i){return e instanceof pl?function(r,s,o,u){if(!Ro(r.precondition,s))return o;const h=r.value.clone(),m=Gy(r.fieldTransforms,u,s);return h.setAll(m),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Mi?function(r,s,o,u){if(!Ro(r.precondition,s))return o;const h=Gy(r.fieldTransforms,u,s),m=s.data;return m.setAll(xb(r)),m.setAll(h),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(r,s,o){return Ro(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function cI(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),r=vb(i.transform,a||null);r!=null&&(n===null&&(n=Me.empty()),n.set(i.field,r))}return n||null}function zy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&gr(i,a,(r,s)=>lI(r,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pl extends Qu{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mi extends Qu{constructor(t,n,i,a,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function xb(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Hy(e,t,n){const i=new Map;vt(e.length===n.length);for(let a=0;a<n.length;a++){const r=e[a],s=r.transform,o=t.data.field(r.field);i.set(r.field,sI(s,o,n[a]))}return i}function Gy(e,t,n){const i=new Map;for(const a of e){const r=a.transform,s=n.data.field(a.field);i.set(a.field,rI(r,s,t))}return i}class wb extends Qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hI extends Qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const r=this.mutations[a];r.key.isEqual(t.key)&&uI(r,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ds(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ds(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=_b();return this.mutations.forEach(a=>{const r=t.get(a.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=n.has(a.key)?null:o;const u=Sb(s,o);u!==null&&i.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(et.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ot())}isEqual(t){return this.batchId===t.batchId&&gr(this.mutations,t.mutations,(n,i)=>zy(n,i))&&gr(this.baseMutations,t.baseMutations,(n,i)=>zy(n,i))}}class um{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){vt(t.mutations.length===i.length);let a=function(){return tI}();const r=t.mutations;for(let s=0;s<r.length;s++)a=a.insert(r[s].key,i[s].version);return new um(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,ft;function gI(e){switch(e){default:return W();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Nb(e){if(e===void 0)return qn("GRPC error has no .code"),B.UNKNOWN;switch(e){case Gt.OK:return B.OK;case Gt.CANCELLED:return B.CANCELLED;case Gt.UNKNOWN:return B.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return B.INTERNAL;case Gt.UNAVAILABLE:return B.UNAVAILABLE;case Gt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Gt.NOT_FOUND:return B.NOT_FOUND;case Gt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Gt.ABORTED:return B.ABORTED;case Gt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Gt.DATA_LOSS:return B.DATA_LOSS;default:return W()}}(ft=Gt||(Gt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new ta([4294967295,4294967295],0);function Fy(e){const t=pI().encode(e),n=new JT;return n.update(t),new Uint8Array(n.digest())}function qy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new ta([n,i],0),new ta([a,r],0)]}class cm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hs(`Invalid padding: ${n}`);if(i<0)throw new hs(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new hs(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new hs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=ta.fromNumber(this.Ie)}Ee(t,n,i){let a=t.add(n.multiply(ta.fromNumber(i)));return a.compare(yI)===1&&(a=new ta([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Fy(t),[i,a]=qy(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);if(!this.de(s))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new cm(r,a,n);return i.forEach(o=>s.insert(o)),s}insert(t){if(this.Ie===0)return;const n=Fy(t),[i,a]=qy(n);for(let r=0;r<this.hashCount;r++){const s=this.Ee(i,a,r);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n,i,a,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,yl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Xu(et.min(),a,new kt(gt),Yn(),ot())}}class yl{constructor(t,n,i,a,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new yl(i,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n,i,a){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=a}}class Ib{constructor(t,n){this.targetId=t,this.me=n}}class Rb{constructor(t,n,i=fe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Yy{constructor(){this.fe=0,this.ge=Qy(),this.pe=fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ot(),n=ot(),i=ot();return this.ge.forEach((a,r)=>{switch(r){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:W()}}),new yl(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=Qy()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _I{constructor(t){this.Le=t,this.Be=new Map,this.ke=Yn(),this.qe=Ky(),this.Qe=new kt(gt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:W()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,a)=>{this.ze(a)&&n(a)})}He(t){const n=t.targetId,i=t.me.count,a=this.Je(n);if(a){const r=a.target;if(Lf(r))if(i===0){const s=new X(r.path);this.Ue(n,s,ve.newNoDocument(s,et.min()))}else vt(i===1);else{const s=this.Ye(n);if(s!==i){const o=this.Ze(t),u=o?this.Xe(o,t,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:r=0}=n;let s,o;try{s=ca(i).toUint8Array()}catch(u){if(u instanceof sb)return mr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new cm(s,a,r)}catch(u){return mr(u instanceof hs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ie===0?null:o}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let a=0;return i.forEach(r=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.Ue(n,r,null),a++)}),a}rt(t){const n=new Map;this.Be.forEach((r,s)=>{const o=this.Je(s);if(o){if(r.current&&Lf(o.target)){const u=new X(o.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ve.newNoDocument(u,t))}r.be&&(n.set(s,r.ve()),r.Ce())}});let i=ot();this.qe.forEach((r,s)=>{let o=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ke.forEach((r,s)=>s.setReadTime(t));const a=new Xu(t,n,this.Qe,this.ke,i);return this.ke=Yn(),this.qe=Ky(),this.Qe=new kt(gt),a}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const a=this.Ge(t);this.it(t,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Yy,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new he(gt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||F("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Yy),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Ky(){return new kt(X.comparator)}function Qy(){return new kt(X.comparator)}const EI={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TI={and:"AND",or:"OR"};class bI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bf(e,t){return e.useProto3Json||Gu(t)?t:{value:t}}function yu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function AI(e,t){return yu(e,t.toTimestamp())}function En(e){return vt(!!e),et.fromTimestamp(function(n){const i=Ri(n);return new $t(i.seconds,i.nanos)}(e))}function hm(e,t){return Pf(e,t).canonicalString()}function Pf(e,t){const n=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Db(e){const t=Bt.fromString(e);return vt(Ub(t)),t}function zf(e,t){return hm(e.databaseId,t.path)}function yh(e,t){const n=Db(t);if(n.get(1)!==e.databaseId.projectId)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(Mb(n))}function Ob(e,t){return hm(e.databaseId,t)}function SI(e){const t=Db(e);return t.length===4?Bt.emptyPath():Mb(t)}function Hf(e){return new Bt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mb(e){return vt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Xy(e,t,n){return{name:zf(e,t),fields:n.value.mapValue.fields}}function xI(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:W()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],r=function(h,m){return h.useProto3Json?(vt(m===void 0||typeof m=="string"),fe.fromBase64String(m||"")):(vt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),fe.fromUint8Array(m||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(h){const m=h.code===void 0?B.UNKNOWN:Nb(h.code);return new Q(m,h.message||"")}(s);n=new Rb(i,a,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=yh(e,i.document.name),r=En(i.document.updateTime),s=i.document.createTime?En(i.document.createTime):et.min(),o=new Me({mapValue:{fields:i.document.fields}}),u=ve.newFoundDocument(a,r,s,o),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Co(h,m,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=yh(e,i.document),r=i.readTime?En(i.readTime):et.min(),s=ve.newNoDocument(a,r),o=i.removedTargetIds||[];n=new Co([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=yh(e,i.document),r=i.removedTargetIds||[];n=new Co([],r,a,null)}else{if(!("filter"in t))return W();{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:r}=i,s=new mI(a,r),o=i.targetId;n=new Ib(o,s)}}return n}function wI(e,t){let n;if(t instanceof pl)n={update:Xy(e,t.key,t.value)};else if(t instanceof wb)n={delete:zf(e,t.key)};else if(t instanceof Mi)n={update:Xy(e,t.key,t.data),updateMask:kI(t.fieldMask)};else{if(!(t instanceof hI))return W();n={verify:zf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Zs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ws)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof pu)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw W()}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,r){return r.updateTime!==void 0?{updateTime:AI(a,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W()}(e,t.precondition)),n}function NI(e,t){return e&&e.length>0?(vt(t!==void 0),e.map(n=>function(a,r){let s=a.updateTime?En(a.updateTime):En(r);return s.isEqual(et.min())&&(s=En(r)),new oI(s,a.transformResults||[])}(n,t))):[]}function II(e,t){return{documents:[Ob(e,t.path)]}}function RI(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ob(e,a);const r=function(h){if(h.length!==0)return kb(Tn.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:Oa(g.field),direction:OI(g.dir)}}(m))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Bf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{_t:n,parent:a}}function CI(e){let t=SI(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){vt(i===1);const m=n.from[0];m.allDescendants?a=m.collectionId:t=t.child(m.collectionId)}let r=[];n.where&&(r=function(p){const g=Vb(p);return g instanceof Tn&&cb(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(I){return new mu(Ma(I.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,Gu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new du(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new du(y,g)}(n.endAt)),QN(t,a,s,r,o,"F",u,h)}function DI(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Vb(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ma(n.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ma(n.unaryFilter.field);return Xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ma(n.unaryFilter.field);return Xt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ma(n.unaryFilter.field);return Xt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(e):e.fieldFilter!==void 0?function(n){return Xt.create(Ma(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(i=>Vb(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(e):W()}function OI(e){return EI[e]}function MI(e){return vI[e]}function VI(e){return TI[e]}function Oa(e){return{fieldPath:e.canonicalString()}}function Ma(e){return oe.fromServerFormat(e.fieldPath)}function kb(e){return e instanceof Xt?function(n){if(n.op==="=="){if(ky(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(Vy(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ky(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(Vy(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:MI(n.op),value:n.value}}}(e):e instanceof Tn?function(n){const i=n.getFilters().map(a=>kb(a));return i.length===1?i[0]:{compositeFilter:{op:VI(n.op),filters:i}}}(e):W()}function kI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ub(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n,i,a,r=et.min(),s=et.min(),o=fe.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new ci(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.ct=t}}function LI(e){const t=CI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.un=new BI}addToCollectionParentIndex(t,n){return this.un.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(Ii.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(Ii.min())}updateCollectionGroup(t,n,i){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class BI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new he(Bt.comparator),r=!a.has(i);return this.index[n]=a.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new he(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new _r(0)}static kn(){return new _r(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.changes=new Dr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ve.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&Ds(i.mutation,a,He.empty(),$t.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ot()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ot()){const a=Qi();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(r=>{let s=cs();return r.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=Qi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ot()))}populateOverlays(t,n,i){const a=[];return i.forEach(r=>{n.has(r)||a.push(r)}),this.documentOverlayCache.getOverlays(t,a).next(r=>{r.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,i,a){let r=Yn();const s=Cs(),o=function(){return Cs()}();return n.forEach((u,h)=>{const m=i.get(h.key);a.has(h.key)&&(m===void 0||m.mutation instanceof Mi)?r=r.insert(h.key,h):m!==void 0?(s.set(h.key,m.mutation.getFieldMask()),Ds(m.mutation,h,m.mutation.getFieldMask(),$t.now())):s.set(h.key,He.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((h,m)=>s.set(h,m)),n.forEach((h,m)=>{var p;return o.set(h,new zI(m,(p=s.get(h))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(t,n){const i=Cs();let a=new kt((s,o)=>s-o),r=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let m=i.get(u)||He.empty();m=o.applyToLocalView(h,m),i.set(u,m);const p=(a.get(o.batchId)||ot()).add(u);a=a.insert(o.batchId,p)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,m=u.value,p=_b();m.forEach(g=>{if(!r.has(g)){const y=Sb(n.get(g),i.get(g));y!==null&&p.set(g,y),r=r.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,h,p))}return j.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):XN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(r=>{const s=a-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-r.size):j.resolve(Qi());let o=-1,u=r;return s.next(h=>j.forEach(h,(m,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),r.get(m)?j.resolve():this.remoteDocumentCache.getEntry(t,m).next(g=>{u=u.insert(m,g)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,u,h,ot())).next(m=>({batchId:o,changes:yb(m)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(i=>{let a=cs();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const r=n.collectionGroup;let s=cs();return this.indexManager.getCollectionParents(t,r).next(o=>j.forEach(o,u=>{const h=function(p,g){return new Fu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,a).next(m=>{m.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,a){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,a))).next(s=>{r.forEach((u,h)=>{const m=h.getKey();s.get(m)===null&&(s=s.insert(m,ve.newInvalidDocument(m)))});let o=cs();return s.forEach((u,h)=>{const m=r.get(u);m!==void 0&&Ds(m.mutation,h,He.empty(),$t.now()),Yu(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:En(a.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:LI(a.bundledQuery),readTime:En(a.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.overlays=new kt(X.comparator),this.Ir=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Qi();return j.forEach(n,a=>this.getOverlay(t,a).next(r=>{r!==null&&i.set(a,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,r)=>{this.ht(t,n,r)}),j.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),j.resolve()}getOverlaysForCollection(t,n,i){const a=Qi(),r=n.length+1,s=new X(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&a.set(u.getKey(),u)}return j.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let r=new kt((h,m)=>h-m);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=r.get(h.largestBatchId);m===null&&(m=Qi(),r=r.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const o=Qi(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,m)=>o.set(h,m)),!(o.size()>=a)););return j.resolve(o)}ht(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new dI(n,i));let r=this.Ir.get(n);r===void 0&&(r=ot(),this.Ir.set(n,r)),this.Ir.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.sessionToken=fe.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Tr=new he(Zt.Er),this.dr=new he(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new Zt(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new Zt(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new X(new Bt([])),i=new Zt(n,t),a=new Zt(n,t+1),r=[];return this.dr.forEachInRange([i,a],s=>{this.Vr(s),r.push(s.key)}),r}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new X(new Bt([])),i=new Zt(n,t),a=new Zt(n,t+1);let r=ot();return this.dr.forEachInRange([i,a],s=>{r=r.add(s.key)}),r}containsKey(t){const n=new Zt(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Zt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return X.comparator(t.key,n.key)||gt(t.wr,n.wr)}static Ar(t,n){return gt(t.wr,n.wr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new he(Zt.Er)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fI(r,n,i,a);this.mutationQueue.push(s);for(const o of a)this.br=this.br.add(new Zt(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return j.resolve(s)}lookupMutationBatch(t,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.vr(i),r=a<0?0:a;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,a],s=>{const o=this.Dr(s.wr);r.push(o)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new he(gt);return n.forEach(a=>{const r=new Zt(a,0),s=new Zt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,s],o=>{i=i.add(o.wr)})}),j.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let r=i;X.isDocumentKey(r)||(r=r.child(""));const s=new Zt(new X(r),0);let o=new he(gt);return this.br.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.wr)),!0)},s),j.resolve(this.Cr(o))}Cr(t){const n=[];return t.forEach(i=>{const a=this.Dr(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return j.forEach(n.mutations,a=>{const r=new Zt(a.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new Zt(n,0),a=this.br.firstAfterOrEqual(i);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.Mr=t,this.docs=function(){return new kt(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),r=a?a.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():ve.newInvalidDocument(n))}getEntries(t,n){let i=Yn();return n.forEach(a=>{const r=this.docs.get(a);i=i.insert(a,r?r.document.mutableCopy():ve.newInvalidDocument(a))}),j.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let r=Yn();const s=n.path,o=new X(s.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||RN(IN(m),i)<=0||(a.has(m.key)||Yu(n,m))&&(r=r.insert(m.key,m.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,n,i,a){W()}Or(t,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new QI(this)}getSize(t){return j.resolve(this.size)}}class QI extends PI{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(t,a)):this.cr.removeEntry(i)}),j.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.persistence=t,this.Nr=new Dr(n=>rm(n),sm),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fm,this.targetCount=0,this.kr=_r.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,a)=>n(a)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new _r(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.Kn(n),j.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,i){let a=0;const r=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Nr.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),j.waitFor(r).next(()=>a)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return j.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),j.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const a=this.persistence.referenceDelegate,r=[];return a&&n.forEach(s=>{r.push(a.markPotentiallyOrphaned(t,s))}),j.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return j.resolve(i)}containsKey(t,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n){this.qr={},this.overlays={},this.Qr=new em(0),this.Kr=!1,this.Kr=!0,this.$r=new qI,this.referenceDelegate=t(this),this.Ur=new XI(this),this.indexManager=new jI,this.remoteDocumentCache=function(a){return new KI(a)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new UI(n),this.Gr=new GI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new FI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new YI(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){F("MemoryPersistence","Starting transaction:",t);const a=new JI(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(r=>this.referenceDelegate.jr(a).next(()=>r)).toPromise().then(r=>(a.raiseOnCommittedEvent(),r))}Hr(t,n){return j.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class JI extends DN{constructor(t){super(),this.currentSequenceNumber=t}}class dm{constructor(t){this.persistence=t,this.Jr=new fm,this.Yr=null}static Zr(t){return new dm(t)}get Xr(){if(this.Yr)return this.Yr;throw W()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),j.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,i=>{const a=X.fromPath(i);return this.ei(t,a).next(r=>{r||n.removeEntry(a,et.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=a}static Wi(t,n){let i=ot(),a=ot();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:a=a.add(r.doc.key)}return new mm(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return t2()?8:ON(Zw())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,a){const r={result:null};return this.Yi(t,n).next(s=>{r.result=s}).next(()=>{if(!r.result)return this.Zi(t,n,a,i).next(s=>{r.result=s})}).next(()=>{if(r.result)return;const s=new ZI;return this.Xi(t,n,s).next(o=>{if(r.result=o,this.zi)return this.es(t,n,s,o.size)})}).next(()=>r.result)}es(t,n,i,a){return i.documentReadCount<this.ji?(ns()<=dt.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(ns()<=dt.DEBUG&&F("QueryEngine","Query:",Da(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(ns()<=dt.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yn(n))):j.resolve())}Yi(t,n){if(By(n))return j.resolve(null);let i=yn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=jf(n,null,"F"),i=yn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const s=ot(...r);return this.Ji.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.ts(n,o);return this.ns(n,h,s,u.readTime)?this.Yi(t,jf(n,null,"F")):this.rs(t,h,n,u)}))})))}Zi(t,n,i,a){return By(n)||a.isEqual(et.min())?j.resolve(null):this.Ji.getDocuments(t,i).next(r=>{const s=this.ts(n,r);return this.ns(n,s,i,a)?j.resolve(null):(ns()<=dt.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Da(n)),this.rs(t,s,n,NN(a,-1)).next(o=>o))})}ts(t,n){let i=new he(gb(t));return n.forEach((a,r)=>{Yu(t,r)&&(i=i.add(r))}),i}ns(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(a)>0)}Xi(t,n,i){return ns()<=dt.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Da(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ii.min(),i)}rs(t,n,i,a){return this.Ji.getDocumentsMatchingQuery(t,i,a).next(r=>(n.forEach(s=>{r=r.insert(s.key,s)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,n,i,a){this.persistence=t,this.ss=n,this.serializer=a,this.os=new kt(gt),this._s=new Dr(r=>rm(r),sm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function eR(e,t,n,i){return new tR(e,t,n,i)}async function Lb(e,t){const n=nt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(r=>(a=r,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const s=[],o=[];let u=ot();for(const h of a){s.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of r){o.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(i,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:o}))})})}function nR(e,t){const n=nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),r=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,m){const p=h.batch,g=p.keys();let y=j.resolve();return g.forEach(I=>{y=y.next(()=>m.getEntry(u,I)).next(M=>{const w=h.docVersions.get(I);vt(w!==null),M.version.compareTo(w)<0&&(p.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),m.addEntry(M)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,p))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=ot();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function jb(e){const t=nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function iR(e,t){const n=nt(e),i=t.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const o=[];t.targetChanges.forEach((m,p)=>{const g=a.get(p);if(!g)return;o.push(n.Ur.removeMatchingKeys(r,m.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(r,m.addedDocuments,p)));let y=g.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(fe.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,i)),a=a.insert(p,y),function(M,w,A){return M.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,y,m)&&o.push(n.Ur.updateTargetData(r,y))});let u=Yn(),h=ot();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,m))}),o.push(aR(r,s,t.documentUpdates).next(m=>{u=m.Ps,h=m.Is})),!i.isEqual(et.min())){const m=n.Ur.getLastRemoteSnapshotVersion(r).next(p=>n.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(m)}return j.waitFor(o).next(()=>s.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.os=a,r))}function aR(e,t,n){let i=ot(),a=ot();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let s=Yn();return n.forEach((o,u)=>{const h=r.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(et.min())?(t.removeEntry(o,u.readTime),s=s.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),s=s.insert(o,u)):F("LocalStore","Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Ps:s,Is:a}})}function rR(e,t){const n=nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function sR(e,t){const n=nt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Ur.getTargetData(i,t).next(r=>r?(a=r,j.resolve(a)):n.Ur.allocateTargetId(i).next(s=>(a=new ci(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function Gf(e,t,n){const i=nt(e),a=i.os.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,s=>i.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!gl(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(a.target)}function $y(e,t,n){const i=nt(e);let a=et.min(),r=ot();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,m){const p=nt(u),g=p._s.get(m);return g!==void 0?j.resolve(p.os.get(g)):p.Ur.getTargetData(h,m)}(i,s,yn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,o.targetId).next(u=>{r=u})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,n?a:et.min(),n?r:ot())).next(o=>(lR(i,JN(t),o),{documents:o,Ts:r})))}function lR(e,t,n){let i=e.us.get(t)||et.min();n.forEach((a,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.us.set(t,i)}class Jy{constructor(){this.activeTargetIds=iI()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oR{constructor(){this.so=new Jy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Jy,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=null;function _h(){return so===null?so=function(){return 268435456+Math.round(2147483648*Math.random())}():so++,"0x"+so.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e="WebChannelConnection";class fR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${a}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${r}`}get Fo(){return!1}Mo(n,i,a,r,s){const o=_h(),u=this.xo(n,i.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${o}:`,u,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,r,s),this.No(n,u,h,a).then(m=>(F("RestConnection",`Received RPC '${n}' ${o}: `,m),m),m=>{throw mr("RestConnection",`RPC '${n}' ${o} failed with error: `,m,"url: ",u,"request:",a),m})}Lo(n,i,a,r,s,o){return this.Mo(n,i,a,r,s)}Oo(n,i,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,s)=>n[s]=r),a&&a.headers.forEach((r,s)=>n[s]=r)}xo(n,i){const a=cR[n];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,a){const r=_h();return new Promise((s,o)=>{const u=new ZT;u.setWithCredentials(!0),u.listenOnce(WT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case No.NO_ERROR:const m=u.getResponseJson();F(_e,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(m)),s(m);break;case No.TIMEOUT:F(_e,`RPC '${t}' ${r} timed out`),o(new Q(B.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const p=u.getStatus();if(F(_e,`RPC '${t}' ${r} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const I=function(w){const A=w.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(A)>=0?A:B.UNKNOWN}(y.status);o(new Q(I,y.message))}else o(new Q(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Q(B.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{F(_e,`RPC '${t}' ${r} completed.`)}});const h=JSON.stringify(a);F(_e,`RPC '${t}' ${r} sending request:`,a),u.send(n,"POST",h,i,15)})}Bo(t,n,i){const a=_h(),r=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=nb(),o=eb(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const m=r.join("");F(_e,`Creating RPC '${t}' stream ${a}: ${m}`,u);const p=s.createWebChannel(m,u);let g=!1,y=!1;const I=new hR({Io:w=>{y?F(_e,`Not sending because RPC '${t}' stream ${a} is closed:`,w):(g||(F(_e,`Opening RPC '${t}' stream ${a} transport.`),p.open(),g=!0),F(_e,`RPC '${t}' stream ${a} sending:`,w),p.send(w))},To:()=>p.close()}),M=(w,A,b)=>{w.listen(A,x=>{try{b(x)}catch(D){setTimeout(()=>{throw D},0)}})};return M(p,us.EventType.OPEN,()=>{y||(F(_e,`RPC '${t}' stream ${a} transport opened.`),I.yo())}),M(p,us.EventType.CLOSE,()=>{y||(y=!0,F(_e,`RPC '${t}' stream ${a} transport closed`),I.So())}),M(p,us.EventType.ERROR,w=>{y||(y=!0,mr(_e,`RPC '${t}' stream ${a} transport errored:`,w),I.So(new Q(B.UNAVAILABLE,"The operation could not be completed")))}),M(p,us.EventType.MESSAGE,w=>{var A;if(!y){const b=w.data[0];vt(!!b);const x=b,D=x.error||((A=x[0])===null||A===void 0?void 0:A.error);if(D){F(_e,`RPC '${t}' stream ${a} received error:`,D);const P=D.status;let H=function(T){const S=Gt[T];if(S!==void 0)return Nb(S)}(P),v=D.message;H===void 0&&(H=B.INTERNAL,v="Unknown error status: "+P+" with message "+D.message),y=!0,I.So(new Q(H,v)),p.close()}else F(_e,`RPC '${t}' stream ${a} received:`,b),I.bo(b)}}),M(o,tb.STAT_EVENT,w=>{w.stat===Mf.PROXY?F(_e,`RPC '${t}' stream ${a} detected buffering proxy`):w.stat===Mf.NOPROXY&&F(_e,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function Eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(e){return new bI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,n,i=1e3,a=1.5,r=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=a,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-i);a>0&&F("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,n,i,a,r,s,o,u){this.ui=t,this.Ho=i,this.Jo=a,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bb(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===n&&this.P_(i,a)},i=>{t(()=>{const a=new Q(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return F("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dR extends Pb{constructor(t,n,i,a,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=xI(this.serializer,t),i=function(r){if(!("targetChange"in r))return et.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?et.min():s.readTime?En(s.readTime):et.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Hf(this.serializer),n.addTarget=function(r,s){let o;const u=s.target;if(o=Lf(u)?{documents:II(r,u)}:{query:RI(r,u)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Cb(r,s.resumeToken);const h=Bf(r,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(et.min())>0){o.readTime=yu(r,s.snapshotVersion.toTimestamp());const h=Bf(r,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=DI(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Hf(this.serializer),n.removeTarget=t,this.a_(n)}}class mR extends Pb{constructor(t,n,i,a,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return vt(!!t.streamToken),this.lastStreamToken=t.streamToken,vt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=NI(t.writeResults,t.commitTime),i=En(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Hf(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>wI(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR extends class{}{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Mo(t,Pf(n,i),a,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Q(B.UNKNOWN,r.toString())})}Lo(t,n,i,a,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(t,Pf(n,i),a,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qn(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n,i,a,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(s=>{i.enqueueAndForget(async()=>{_a(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=nt(u);h.L_.add(4),await _l(h),h.q_.set("Unknown"),h.L_.delete(4),await Ju(h)}(this))})}),this.q_=new pR(i,a)}}async function Ju(e){if(_a(e))for(const t of e.B_)await t(!0)}async function _l(e){for(const t of e.B_)await t(!1)}function zb(e,t){const n=nt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),_m(n)?ym(n):Or(n).r_()&&pm(n,t))}function gm(e,t){const n=nt(e),i=Or(n);n.N_.delete(t),i.r_()&&Hb(n,t),n.N_.size===0&&(i.r_()?i.o_():_a(n)&&n.q_.set("Unknown"))}function pm(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(et.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Or(e).A_(t)}function Hb(e,t){e.Q_.xe(t),Or(e).R_(t)}function ym(e){e.Q_=new _I({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Or(e).start(),e.q_.v_()}function _m(e){return _a(e)&&!Or(e).n_()&&e.N_.size>0}function _a(e){return nt(e).L_.size===0}function Gb(e){e.Q_=void 0}async function _R(e){e.q_.set("Online")}async function ER(e){e.N_.forEach((t,n)=>{pm(e,t)})}async function vR(e,t){Gb(e),_m(e)?(e.q_.M_(t),ym(e)):e.q_.set("Unknown")}async function TR(e,t,n){if(e.q_.set("Online"),t instanceof Rb&&t.state===2&&t.cause)try{await async function(a,r){const s=r.cause;for(const o of r.targetIds)a.N_.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.N_.delete(o),a.Q_.removeTarget(o))}(e,t)}catch(i){F("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _u(e,i)}else if(t instanceof Co?e.Q_.Ke(t):t instanceof Ib?e.Q_.He(t):e.Q_.We(t),!n.isEqual(et.min()))try{const i=await jb(e.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.Q_.rt(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=r.N_.get(h);m&&r.N_.set(h,m.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,h)=>{const m=r.N_.get(u);if(!m)return;r.N_.set(u,m.withResumeToken(fe.EMPTY_BYTE_STRING,m.snapshotVersion)),Hb(r,u);const p=new ci(m.target,u,h,m.sequenceNumber);pm(r,p)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){F("RemoteStore","Failed to raise snapshot:",i),await _u(e,i)}}async function _u(e,t,n){if(!gl(t))throw t;e.L_.add(1),await _l(e),e.q_.set("Offline"),n||(n=()=>jb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ju(e)})}function Fb(e,t){return t().catch(n=>_u(e,n,t))}async function Zu(e){const t=nt(e),n=Ci(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;bR(t);)try{const a=await rR(t.localStore,i);if(a===null){t.O_.length===0&&n.o_();break}i=a.batchId,AR(t,a)}catch(a){await _u(t,a)}qb(t)&&Yb(t)}function bR(e){return _a(e)&&e.O_.length<10}function AR(e,t){e.O_.push(t);const n=Ci(e);n.r_()&&n.V_&&n.m_(t.mutations)}function qb(e){return _a(e)&&!Ci(e).n_()&&e.O_.length>0}function Yb(e){Ci(e).start()}async function SR(e){Ci(e).p_()}async function xR(e){const t=Ci(e);for(const n of e.O_)t.m_(n.mutations)}async function wR(e,t,n){const i=e.O_.shift(),a=um.from(i,t,n);await Fb(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Zu(e)}async function NR(e,t){t&&Ci(e).V_&&await async function(i,a){if(function(s){return gI(s)&&s!==B.ABORTED}(a.code)){const r=i.O_.shift();Ci(i).s_(),await Fb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,a)),await Zu(i)}}(e,t),qb(e)&&Yb(e)}async function Wy(e,t){const n=nt(e);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const i=_a(n);n.L_.add(3),await _l(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ju(n)}async function IR(e,t){const n=nt(e);t?(n.L_.delete(2),await Ju(n)):t||(n.L_.add(2),await _l(n),n.q_.set("Unknown"))}function Or(e){return e.K_||(e.K_=function(n,i,a){const r=nt(n);return r.w_(),new dR(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:_R.bind(null,e),Ro:ER.bind(null,e),mo:vR.bind(null,e),d_:TR.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),_m(e)?ym(e):e.q_.set("Unknown")):(await e.K_.stop(),Gb(e))})),e.K_}function Ci(e){return e.U_||(e.U_=function(n,i,a){const r=nt(n);return r.w_(),new mR(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SR.bind(null,e),mo:NR.bind(null,e),f_:xR.bind(null,e),g_:wR.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Zu(e)):(await e.U_.stop(),e.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,n,i,a,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=r,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,r){const s=Date.now()+i,o=new Em(t,n,s,a,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(e,t){if(qn("AsyncQueue",`${t}: ${e}`),gl(e))return new Q(B.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||X.comparator(n.key,i.key):(n,i)=>X.comparator(n.key,i.key),this.keyedMap=cs(),this.sortedSet=new kt(this.comparator)}static emptySet(t){return new nr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof nr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(!a.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new nr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.W_=new kt(X.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):W():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Er{constructor(t,n,i,a,r,s,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,a,r){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Er(t,n,nr.emptySet(n),s,i,a,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class CR{constructor(){this.queries=e_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const a=nt(n),r=a.queries;a.queries=e_(),r.forEach((s,o)=>{for(const u of o.j_)u.onError(i)})})(this,new Q(B.ABORTED,"Firestore shutting down"))}}function e_(){return new Dr(e=>mb(e),qu)}async function DR(e,t){const n=nt(e);let i=3;const a=t.query;let r=n.queries.get(a);r?!r.H_()&&t.J_()&&(i=2):(r=new RR,i=t.J_()?0:1);try{switch(i){case 0:r.z_=await n.onListen(a,!0);break;case 1:r.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=vm(s,`Initialization of query '${Da(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,r),r.j_.push(t),t.Z_(n.onlineState),r.z_&&t.X_(r.z_)&&Tm(n)}async function OR(e,t){const n=nt(e),i=t.query;let a=3;const r=n.queries.get(i);if(r){const s=r.j_.indexOf(t);s>=0&&(r.j_.splice(s,1),r.j_.length===0?a=t.J_()?0:1:!r.H_()&&t.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function MR(e,t){const n=nt(e);let i=!1;for(const a of t){const r=a.query,s=n.queries.get(r);if(s){for(const o of s.j_)o.X_(a)&&(i=!0);s.z_=a}}i&&Tm(n)}function VR(e,t,n){const i=nt(e),a=i.queries.get(t);if(a)for(const r of a.j_)r.onError(n);i.queries.delete(t)}function Tm(e){e.Y_.forEach(t=>{t.next()})}var Ff,n_;(n_=Ff||(Ff={})).ea="default",n_.Cache="cache";class kR{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Er(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Er.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.key=t}}class Qb{constructor(t){this.key=t}}class UR{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ot(),this.mutatedKeys=ot(),this.Aa=gb(t),this.Ra=new nr(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new t_,a=n?n.Ra:this.Ra;let r=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((m,p)=>{const g=a.get(m),y=Yu(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;g&&y?g.data.isEqual(y.data)?I!==M&&(i.track({type:3,doc:y}),w=!0):this.ga(g,y)||(i.track({type:2,doc:y}),w=!0,(u&&this.Aa(y,u)>0||h&&this.Aa(y,h)<0)&&(o=!0)):!g&&y?(i.track({type:0,doc:y}),w=!0):g&&!y&&(i.track({type:1,doc:g}),w=!0,(u||h)&&(o=!0)),w&&(y?(s=s.add(y),r=M?r.add(m):r.delete(m)):(s=s.delete(m),r=r.delete(m)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),r=r.delete(m.key),i.track({type:1,doc:m})}return{Ra:s,fa:i,ns:o,mutatedKeys:r}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const r=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((m,p)=>function(y,I){const M=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return M(y)-M(I)}(m.type,p.type)||this.Aa(m.doc,p.doc)),this.pa(i),a=a!=null&&a;const o=n&&!a?this.ya():[],u=this.da.size===0&&this.current&&!a?1:0,h=u!==this.Ea;return this.Ea=u,s.length!==0||h?{snapshot:new Er(this.query,t.Ra,r,s,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new t_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=ot(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new Qb(i))}),this.da.forEach(i=>{t.has(i)||n.push(new Kb(i))}),n}ba(t){this.Ta=t.Ts,this.da=ot();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Er.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class LR{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class jR{constructor(t){this.key=t,this.va=!1}}class BR{constructor(t,n,i,a,r,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Dr(o=>mb(o),qu),this.Ma=new Map,this.xa=new Set,this.Oa=new kt(X.comparator),this.Na=new Map,this.La=new fm,this.Ba={},this.ka=new Map,this.qa=_r.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PR(e,t,n=!0){const i=tA(e);let a;const r=i.Fa.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),a=r.view.Da()):a=await Xb(i,t,n,!0),a}async function zR(e,t){const n=tA(e);await Xb(n,t,!0,!1)}async function Xb(e,t,n,i){const a=await sR(e.localStore,yn(t)),r=a.targetId,s=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await HR(e,t,r,s==="current",a.resumeToken)),e.isPrimaryClient&&n&&zb(e.remoteStore,a),o}async function HR(e,t,n,i,a){e.Ka=(p,g,y)=>async function(M,w,A,b){let x=w.view.ma(A);x.ns&&(x=await $y(M.localStore,w.query,!1).then(({documents:v})=>w.view.ma(v,x)));const D=b&&b.targetChanges.get(w.targetId),P=b&&b.targetMismatches.get(w.targetId)!=null,H=w.view.applyChanges(x,M.isPrimaryClient,D,P);return a_(M,w.targetId,H.wa),H.snapshot}(e,p,g,y);const r=await $y(e.localStore,t,!0),s=new UR(t,r.Ts),o=s.ma(r.documents),u=yl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),h=s.applyChanges(o,e.isPrimaryClient,u);a_(e,n,h.wa);const m=new LR(t,n,s);return e.Fa.set(t,m),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),h.snapshot}async function GR(e,t,n){const i=nt(e),a=i.Fa.get(t),r=i.Ma.get(a.targetId);if(r.length>1)return i.Ma.set(a.targetId,r.filter(s=>!qu(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Gf(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&gm(i.remoteStore,a.targetId),qf(i,a.targetId)}).catch(ml)):(qf(i,a.targetId),await Gf(i.localStore,a.targetId,!0))}async function FR(e,t){const n=nt(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),gm(n.remoteStore,i.targetId))}async function qR(e,t,n){const i=ZR(e);try{const a=await function(s,o){const u=nt(s),h=$t.now(),m=o.reduce((y,I)=>y.add(I.key),ot());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Yn(),M=ot();return u.cs.getEntries(y,m).next(w=>{I=w,I.forEach((A,b)=>{b.isValidDocument()||(M=M.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(w=>{p=w;const A=[];for(const b of o){const x=cI(b,p.get(b.key).overlayedDocument);x!=null&&A.push(new Mi(b.key,x,lb(x.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,A,o)}).next(w=>{g=w;const A=w.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,w.batchId,A)})}).then(()=>({batchId:g.batchId,changes:yb(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new kt(gt)),h=h.insert(o,u),s.Ba[s.currentUser.toKey()]=h}(i,a.batchId,n),await El(i,a.changes),await Zu(i.remoteStore)}catch(a){const r=vm(a,"Failed to persist write");n.reject(r)}}async function $b(e,t){const n=nt(e);try{const i=await iR(n.localStore,t);t.targetChanges.forEach((a,r)=>{const s=n.Na.get(r);s&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?vt(s.va):a.removedDocuments.size>0&&(vt(s.va),s.va=!1))}),await El(n,i,t)}catch(i){await ml(i)}}function i_(e,t,n){const i=nt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Fa.forEach((r,s)=>{const o=s.view.Z_(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=nt(s);u.onlineState=o;let h=!1;u.queries.forEach((m,p)=>{for(const g of p.j_)g.Z_(o)&&(h=!0)}),h&&Tm(u)}(i.eventManager,t),a.length&&i.Ca.d_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function YR(e,t,n){const i=nt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Na.get(t),r=a&&a.key;if(r){let s=new kt(X.comparator);s=s.insert(r,ve.newNoDocument(r,et.min()));const o=ot().add(r),u=new Xu(et.min(),new Map,new kt(gt),s,o);await $b(i,u),i.Oa=i.Oa.remove(r),i.Na.delete(t),bm(i)}else await Gf(i.localStore,t,!1).then(()=>qf(i,t,n)).catch(ml)}async function KR(e,t){const n=nt(e),i=t.batch.batchId;try{const a=await nR(n.localStore,t);Zb(n,i,null),Jb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await El(n,a)}catch(a){await ml(a)}}async function QR(e,t,n){const i=nt(e);try{const a=await function(s,o){const u=nt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return u.mutationQueue.lookupMutationBatch(h,o).next(p=>(vt(p!==null),m=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>u.localDocuments.getDocuments(h,m))})}(i.localStore,t);Zb(i,t,n),Jb(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await El(i,a)}catch(a){await ml(a)}}function Jb(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function Zb(e,t,n){const i=nt(e);let a=i.Ba[i.currentUser.toKey()];if(a){const r=a.get(t);r&&(n?r.reject(n):r.resolve(),a=a.remove(t)),i.Ba[i.currentUser.toKey()]=a}}function qf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||Wb(e,i)})}function Wb(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(gm(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),bm(e))}function a_(e,t,n){for(const i of n)i instanceof Kb?(e.La.addReference(i.key,t),XR(e,i)):i instanceof Qb?(F("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||Wb(e,i.key)):W()}function XR(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(F("SyncEngine","New document in limbo: "+n),e.xa.add(i),bm(e))}function bm(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new X(Bt.fromString(t)),i=e.qa.next();e.Na.set(i,new jR(n)),e.Oa=e.Oa.insert(n,i),zb(e.remoteStore,new ci(yn(lm(n.path)),i,"TargetPurposeLimboResolution",em.oe))}}async function El(e,t,n){const i=nt(e),a=[],r=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((o,u)=>{s.push(i.Ka(u,t,n).then(h=>{var m;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){a.push(h);const p=mm.Wi(u.targetId,h);r.push(p)}}))}),await Promise.all(s),i.Ca.d_(a),await async function(u,h){const m=nt(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(h,g=>j.forEach(g.$i,y=>m.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>j.forEach(g.Ui,y=>m.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!gl(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=m.os.get(g),I=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(I);m.os=m.os.insert(g,M)}}}(i.localStore,r))}async function $R(e,t){const n=nt(e);if(!n.currentUser.isEqual(t)){F("SyncEngine","User change. New user:",t.toKey());const i=await Lb(n.localStore,t);n.currentUser=t,function(r,s){r.ka.forEach(o=>{o.forEach(u=>{u.reject(new Q(B.CANCELLED,s))})}),r.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await El(n,i.hs)}}function JR(e,t){const n=nt(e),i=n.Na.get(t);if(i&&i.va)return ot().add(i.key);{let a=ot();const r=n.Ma.get(t);if(!r)return a;for(const s of r){const o=n.Fa.get(s);a=a.unionWith(o.view.Va)}return a}}function tA(e){const t=nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YR.bind(null,t),t.Ca.d_=MR.bind(null,t.eventManager),t.Ca.$a=VR.bind(null,t.eventManager),t}function ZR(e){const t=nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QR.bind(null,t),t}class Eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$u(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return eR(this.persistence,new WI,t.initialUser,this.serializer)}Ga(t){return new $I(dm.Zr,this.serializer)}Wa(t){return new oR}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eu.provider={build:()=>new Eu};class Yf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>i_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$R.bind(null,this.syncEngine),await IR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new CR}()}createDatastore(t){const n=$u(t.databaseInfo.databaseId),i=function(r){return new fR(r)}(t.databaseInfo);return function(r,s,o,u){return new gR(r,s,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,r,s,o){return new yR(i,a,r,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>i_(this.syncEngine,n,0),function(){return Zy.D()?new Zy:new uR}())}createSyncEngine(t,n){return function(a,r,s,o,u,h,m){const p=new BR(a,r,s,o,u,h);return m&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const r=nt(a);F("RemoteStore","RemoteStore shutting down."),r.L_.add(5),await _l(r),r.k_.shutdown(),r.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yf.provider={build:()=>new Yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):qn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,n,i,a,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Ee.UNAUTHENTICATED,this.clientId=ab.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async s=>{F("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=vm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function vh(e,t){e.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Lb(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function r_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eC(e);F("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Wy(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>Wy(t.remoteStore,a)),e._onlineComponents=t}async function eC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await vh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===B.FAILED_PRECONDITION||a.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;mr("Error using user provided cache. Falling back to memory cache: "+n),await vh(e,new Eu)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await vh(e,new Eu);return e._offlineComponents}async function eA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await r_(e,e._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await r_(e,new Yf))),e._onlineComponents}function nC(e){return eA(e).then(t=>t.syncEngine)}async function s_(e){const t=await eA(e),n=t.eventManager;return n.onListen=PR.bind(null,t.syncEngine),n.onUnlisten=GR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FR.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(e,t,n){if(!n)throw new Q(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function aC(e,t,n,i){if(t===!0&&i===!0)throw new Q(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function o_(e){if(!X.isDocumentKey(e))throw new Q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Am(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W()}function bi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(e);throw new Q(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sm{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _N;switch(i.type){case"firstParty":return new bN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=l_.get(n);i&&(F("ComponentProvider","Removing Datastore"),l_.delete(n),i.terminate())}(this),Promise.resolve()}}function rC(e,t,n,i={}){var a;const r=(e=bi(e,Sm))._getSettings(),s=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==s&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:s,ssl:!1})),i.mockUserToken){let o,u;if(typeof i.mockUserToken=="string")o=i.mockUserToken,u=Ee.MOCK_USER;else{o=Jw(i.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ee(h)}e._authCredentials=new EN(new ib(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Wu(this.firestore,t,this._query)}}class Ke{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}}class tl extends Wu{constructor(t,n,i){super(t,n,lm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new X(t))}withConverter(t){return new tl(this.firestore,t,this._path)}}function Bi(e,t,...n){if(e=Ni(e),arguments.length===1&&(t=ab.newId()),iC("doc","path",t),e instanceof Sm){const i=Bt.fromString(t,...n);return o_(i),new Ke(e,null,new X(i))}{if(!(e instanceof Ke||e instanceof tl))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Bt.fromString(t,...n));return o_(i),new Ke(e.firestore,e instanceof tl?e.converter:null,new X(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bb(this,"async_queue_retry"),this.Vu=()=>{const i=Eh();i&&F("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ea;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!gl(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const a=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw qn("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const a=Em.createAndSchedule(this,t,n,i,r=>this.yu(r));return this.Tu.push(a),a}fu(){this.Eu&&W()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function h_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const r of i)if(r in a&&typeof a[r]=="function")return!0;return!1}(e,["next","error","complete"])}class el extends Sm{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new c_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c_(t),this._firestoreClient=void 0,await t}}}function sC(e,t){const n=typeof e=="object"?e:sN(),i=typeof e=="string"?e:"(default)",a=nN(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const r=Xw("firestore");r&&rC(a,...r)}return a}function iA(e){if(e._terminated)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lC(e),e._firestoreClient}function lC(e){var t,n,i;const a=e._freezeSettings(),r=function(o,u,h,m){return new kN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,nA(m.experimentalLongPollingOptions),m.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new tC(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vr(fe.fromBase64String(t))}catch(n){throw new Q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vr(fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gt(this._lat,t._lat)||gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==a[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^__.*__$/;class uC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Mi(t,this.data,this.fieldMask,n,this.fieldTransforms):new pl(t,this.data,n,this.fieldTransforms)}}class aA{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Mi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class Im{constructor(t,n,i,a,r,s){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,r===void 0&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Im(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.Ou(t),a}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return vu(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(rA(this.Cu)&&oC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class cC{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||$u(t)}Qu(t,n,i,a=!1){return new Im({Cu:t,methodName:n,qu:i,path:oe.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sA(e){const t=e._freezeSettings(),n=$u(e._databaseId);return new cC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hC(e,t,n,i,a,r={}){const s=e.Qu(r.merge||r.mergeFields?2:0,t,n,a);Rm("Data must be an object, but it was:",s,i);const o=lA(i,s);let u,h;if(r.merge)u=new He(s.fieldMask),h=s.fieldTransforms;else if(r.mergeFields){const m=[];for(const p of r.mergeFields){const g=Kf(t,p,n);if(!s.contains(g))throw new Q(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);uA(m,g)||m.push(g)}u=new He(m),h=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=s.fieldTransforms;return new uC(new Me(o),u,h)}class ec extends xm{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ec}}function fC(e,t,n,i){const a=e.Qu(1,t,n);Rm("Data must be an object, but it was:",a,i);const r=[],s=Me.empty();ya(i,(u,h)=>{const m=Cm(t,u,n);h=Ni(h);const p=a.Nu(m);if(h instanceof ec)r.push(m);else{const g=nc(h,p);g!=null&&(r.push(m),s.set(m,g))}});const o=new He(r);return new aA(s,o,a.fieldTransforms)}function dC(e,t,n,i,a,r){const s=e.Qu(1,t,n),o=[Kf(t,i,n)],u=[a];if(r.length%2!=0)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)o.push(Kf(t,r[g])),u.push(r[g+1]);const h=[],m=Me.empty();for(let g=o.length-1;g>=0;--g)if(!uA(h,o[g])){const y=o[g];let I=u[g];I=Ni(I);const M=s.Nu(y);if(I instanceof ec)h.push(y);else{const w=nc(I,M);w!=null&&(h.push(y),m.set(y,w))}}const p=new He(h);return new aA(m,p,s.fieldTransforms)}function nc(e,t){if(oA(e=Ni(e)))return Rm("Unsupported field value:",t,e),lA(e,t);if(e instanceof xm)return function(i,a){if(!rA(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(a);r&&a.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,a){const r=[];let s=0;for(const o of i){let u=nc(o,a.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(e,t)}return function(i,a){if((i=Ni(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aI(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=$t.fromDate(i);return{timestampValue:yu(a.serializer,r)}}if(i instanceof $t){const r=new $t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yu(a.serializer,r)}}if(i instanceof wm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vr)return{bytesValue:Cb(a.serializer,i._byteString)};if(i instanceof Ke){const r=a.databaseId,s=i.firestore._databaseId;if(!s.isEqual(r))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:hm(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Nm)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Bu("VectorValues must only contain numeric values.");return om(o.serializer,u)})}}}}}}(i,a);throw a.Bu(`Unsupported field value: ${Am(i)}`)}(e,t)}function lA(e,t){const n={};return rb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(e,(i,a)=>{const r=nc(a,t.Mu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function oA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof $t||e instanceof wm||e instanceof vr||e instanceof Ke||e instanceof xm||e instanceof Nm)}function Rm(e,t,n){if(!oA(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Am(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function Kf(e,t,n){if((t=Ni(t))instanceof tc)return t._internalPath;if(typeof t=="string")return Cm(e,t);throw vu("Field path arguments must be of type string or ",e,!1,void 0,n)}const mC=new RegExp("[~\\*/\\[\\]]");function Cm(e,t,n){if(t.search(mC)>=0)throw vu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tc(...t.split("."))._internalPath}catch{throw vu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function vu(e,t,n,i,a){const r=i&&!i.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||s)&&(u+=" (found",r&&(u+=` in field ${i}`),s&&(u+=` in document ${a}`),u+=")"),new Q(B.INVALID_ARGUMENT,o+e+u)}function uA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,n,i,a,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(hA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gC extends cA{data(){return super.data()}}function hA(e,t){return typeof t=="string"?Cm(e,t):t instanceof tc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yC{convertValue(t,n="none"){switch(ha(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw W()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ya(t,(a,r)=>{i[a]=this.convertValue(r,n)}),i}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(s=>Pt(s.doubleValue));return new Nm(r)}convertGeoPoint(t){return new wm(Pt(t.latitude),Pt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=im(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xs(t));default:return null}}convertTimestamp(t){const n=Ri(t);return new $t(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Bt.fromString(t);vt(Ub(i));const a=new $s(i.get(1),i.get(3)),r=new X(i.popFirst(5));return a.isEqual(n)||qn(`Document ${r} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fA extends cA{constructor(t,n,i,a,r,s){super(t,n,i,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Do(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(hA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Do extends fA{data(t={}){return super.data(t)}}class EC{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new fs(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Do(this._firestore,this._userDataWriter,i.key,i,new fs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,r){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Do(a._firestore,a._userDataWriter,o.doc.key,o.doc,new fs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Do(a._firestore,a._userDataWriter,o.doc.key,o.doc,new fs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,m=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),m=s.indexOf(o.doc.key)),{type:vC(o.type),doc:u,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}class dA extends yC{constructor(t){super(),this.firestore=t}convertBytes(t){return new vr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function TC(e,t,n){e=bi(e,Ke);const i=bi(e.firestore,el),a=_C(e.converter,t);return mA(i,[hC(sA(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,_n.none())])}function wa(e,t,n,...i){e=bi(e,Ke);const a=bi(e.firestore,el),r=sA(a);let s;return s=typeof(t=Ni(t))=="string"||t instanceof tc?dC(r,"updateDoc",e._key,t,n,i):fC(r,"updateDoc",e._key,t),mA(a,[s.toMutation(e._key,_n.exists(!0))])}function bC(e,...t){var n,i,a;e=Ni(e);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||h_(t[s])||(r=t[s],s++);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(h_(t[s])){const p=t[s];t[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),t[s+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),t[s+2]=(a=p.complete)===null||a===void 0?void 0:a.bind(p)}let u,h,m;if(e instanceof Ke)h=bi(e.firestore,el),m=lm(e._key.path),u={next:p=>{t[s]&&t[s](AC(h,e,p))},error:t[s+1],complete:t[s+2]};else{const p=bi(e,Wu);h=bi(p.firestore,el),m=p._query;const g=new dA(h);u={next:y=>{t[s]&&t[s](new EC(h,g,p,y))},error:t[s+1],complete:t[s+2]},pC(e._query)}return function(g,y,I,M){const w=new WR(M),A=new kR(y,w,I);return g.asyncQueue.enqueueAndForget(async()=>DR(await s_(g),A)),()=>{w.Za(),g.asyncQueue.enqueueAndForget(async()=>OR(await s_(g),A))}}(iA(h),m,o,u)}function mA(e,t){return function(i,a){const r=new ea;return i.asyncQueue.enqueueAndForget(async()=>qR(await nC(i),a,r)),r.promise}(iA(e),t)}function AC(e,t,n){const i=n.docs.get(t._key),a=new dA(e);return new fA(e,a,t._key,i,new fs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Cr=a})(rN),hu(new Ys("firestore",(i,{instanceIdentifier:a,options:r})=>{const s=i.getProvider("app").getImmediate(),o=new el(new vN(i.getProvider("auth-internal")),new SN(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(h.options.projectId,m)}(s,a),s);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),er(Ry,"4.7.3",t),er(Ry,"4.7.3","esm2017")})();const SC={apiKey:"AIzaSyDhdfcG6ONFjii9sZdMn9zLoOA2oaiACG8",authDomain:"mel-trip-95837.firebaseapp.com",projectId:"mel-trip-95837",storageBucket:"mel-trip-95837.firebasestorage.app",messagingSenderId:"201385610606",appId:"1:201385610606:web:57ab03c06c24fe9ae9057f"},xC=QT(SC),Pi=sC(xC),Th=[{day:1,date:"2026-01-21",weekday:"",weather:"sunny",temp:24,tips:" 4  T1 ",events:[{id:"1-0",time:"01:45",title:"(TPE)  (SIN)",location:"Taoyuan Intl Airport (TPE)",type:"flight",notes:`Scoot TR 897
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 897",airline:"Scoot B787-9",departCode:"TPE",arriveCode:"SIN",departTerminal:"1",arriveTerminal:"1",duration:"4h 40m"}},{id:"1-1",time:"10:20",title:"(SIN)  (MEL)",location:"Changi Airport (SIN)",type:"flight",notes:`Scoot TR 24
Layover: 3h 55m`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 24",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"MEL",departTerminal:"1",arriveTerminal:"2",duration:"7h 30m"}},{id:"1-2",time:"20:50",title:"",location:"Melbourne Airport",lat:-37.669,lng:144.841,type:"transport",notes:""},{id:"1-3",time:"21:40",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:""},{id:"1-4",time:"22:30",title:": Inner CBD Apartment",location:"Melbourne CBD (Near Southern Cross)",lat:-37.815,lng:144.955,type:"hotel",notes:"HDSS07/InnerCBD/1Min->Station"}]},{day:2,date:"2026-01-22",weekday:"",weather:"sunny",temp:28,tips:"",events:[{id:"2-1",time:"10:00",title:": ",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"2-2",time:"12:00",title:"",location:"Melbourne Park Outdoor Courts",lat:-37.822,lng:144.979,type:"activity",notes:""},{id:"2-3",time:"15:00",title:"John Cain / KIA Arena",location:"John Cain Arena",lat:-37.823,lng:144.98,type:"activity",notes:"Ground Pass "},{id:"2-4",time:"18:00",title:"Garden Square ",location:"Garden Square",lat:-37.821,lng:144.978,type:"food",notes:""}]},{day:3,date:"2026-01-23",weekday:"",weather:"partly-cloudy",temp:26,tips:"",events:[{id:"3-1",time:"10:00",title:" &  Day 2",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"3-2",time:"13:00",title:"Grand Slam Oval ",location:"Grand Slam Oval",lat:-37.8225,lng:144.9795,type:"food",notes:""},{id:"3-3",time:"16:00",title:"",location:"Melbourne Park",lat:-37.8216,lng:144.9785,type:"activity",notes:" 70 "},{id:"3-4",time:"20:00",title:": ",location:"300 Spencer St, Melbourne",lat:-37.8119,lng:144.9536,type:"hotel",notes:"Atlantis Hotel Melbourne",bookingUrl:"https://www.agoda.com/zh-tw/account/editbooking.html?bookingId=Z8C4Kfulw2iR33s2tqaz9g%3D%3D&landFrom=TripDetail&sort=BookingStartDate&state=Upcoming&page=1&ds=xCyHKy4CaORlQkTX"}]},{day:4,date:"2026-01-24",weekday:"",weather:"sunny",temp:25,tips:"",events:[{id:"4-0",time:"10:15",title:" Footscray ",location:"300 Spencer St to Footscray",lat:-37.8119,lng:144.9536,type:"transport",notes:" Uber/Didi (15) "},{id:"4-1",time:"11:00",title:"SIXT : Toyota Yaris",location:"SIXT Car Rental Footscray",lat:-37.803,lng:144.902,type:"transport",notes:"Booking: 9729138629. /",bookingUrl:"https://mail.google.com/mail/u/0/?ogbl#search/sixt/FMfcgzQdzwHKBFvZVxCLZzsKMsMqBlbV"},{id:"4-2",time:"12:30",title:"",location:"Torquay Surf Beach",lat:-38.3324,lng:144.3159,type:"activity",notes:""},{id:"4-3",time:"13:30",title:"",location:"Lorne",lat:-38.5415,lng:143.9754,type:"food",notes:""},{id:"4-4",time:"16:00",title:"",location:"Apollo Bay",lat:-38.7558,lng:143.6558,type:"activity",notes:""},{id:"4-5",time:"18:00",title:": Apollo Stay",location:"38 Thomson Street, Apollo Bay",lat:-38.756,lng:143.656,type:"hotel",notes:"Check-in: 15:00~20:00",bookingUrl:"https://secure.booking.com/confirmation.zh-tw.html?label=mkt123sc-d7a379ea-aab6-4237-b9c5-b29721aadb1f&sid=e6ffd707b4250120589a18d560ea263f&aid=1536461&auth_key=sk2PHyKEv8wF0rTa&source=mytrips"}]},{day:5,date:"2026-01-25",weekday:"",weather:"partly-cloudy",temp:23,tips:"",events:[{id:"5-1",time:"09:00",title:"",location:"Twelve Apostles",lat:-38.6621,lng:143.1051,type:"activity",notes:""},{id:"5-2",time:"10:30",title:" & ",location:"London Bridge",lat:-38.6235,lng:142.9304,type:"activity",notes:""},{id:"5-3",time:"13:00",title:"",location:"Grampians Road",lat:-37.5,lng:142.5,type:"transport",notes:""},{id:"5-4",time:"16:30",title:": Mountain View Motor Inn",location:"4236 Ararat-Halls Gap Road, Halls Gap",lat:-37.155,lng:142.535,type:"hotel",notes:"",bookingUrl:"https://secure.booking.com/confirmation.zh-tw.html?label=mkt123sc-d7a379ea-aab6-4237-b9c5-b29721aadb1f&sid=e6ffd707b4250120589a18d560ea263f&aid=1536461&auth_key=SqXbY6BoFNUqmawu&source=mytrips"}]},{day:6,date:"2026-01-26",weekday:"",weather:"cloudy",temp:22,tips:"",events:[{id:"6-1",time:"09:00",title:"Boroka ",location:"Boroka Lookout",lat:-37.1235,lng:142.5028,type:"activity",notes:""},{id:"6-2",time:"11:00",title:"Brambuk ",location:"Brambuk Cultural Centre",lat:-37.1472,lng:142.5273,type:"activity",notes:""},{id:"6-3",time:"15:00",title:"",location:"Western Highway",lat:-37.5,lng:143.5,type:"transport",notes:" 3.5 "},{id:"6-4",time:"18:00",title:": City Apartment (Bozhu)",location:"371 Little Lonsdale Street",lat:-37.8115,lng:144.959,type:"hotel",notes:""}]},{day:7,date:"2026-01-27",weekday:"",weather:"sunny",temp:27,tips:"",events:[{id:"7-0",time:"10:00",title:"",location:"Footscray",lat:-37.803,lng:144.902,type:"transport",notes:""},{id:"7-1",time:"11:00",title:"SIXT ",location:"SIXT Car Rental Footscray",lat:-37.803,lng:144.902,type:"transport",notes:" 11:00 AM"},{id:"7-2",time:"11:30",title:"",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"transport",notes:" Uber"},{id:"7-3",time:"12:00",title:":  Day 1",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"7-4",time:"19:00",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"food",notes:""}]},{day:8,date:"2026-01-28",weekday:"",weather:"sunny",temp:29,tips:"",events:[{id:"8-1",time:"11:00",title:":  Day 2",location:"Rod Laver Arena",lat:-37.8216,lng:144.9785,type:"activity",notes:""},{id:"8-2",time:"16:00",title:"",location:"Royal Arcade",lat:-37.8143,lng:144.9644,type:"activity",notes:""},{id:"8-3",time:"19:00",title:"Yarra River ",location:"Southbank",lat:-37.82,lng:144.965,type:"activity",notes:""}]},{day:9,date:"2026-01-29",weekday:"",weather:"partly-cloudy",temp:24,tips:"",events:[{id:"9-1",time:"12:30",title:"",location:"Federation Square",lat:-37.8179,lng:144.9691,type:"transport",notes:" ()"},{id:"9-2",time:"15:00",title:"Moonlit Sanctuary",location:"Moonlit Sanctuary",lat:-38.2173,lng:145.253,type:"activity",notes:""},{id:"9-3",time:"19:30",title:"",location:"Penguin Parade",lat:-38.5089,lng:145.1485,type:"activity",notes:""},{id:"9-4",time:"22:30",title:"",location:"Melbourne CBD",lat:-37.8136,lng:144.9631,type:"transport",notes:""}]},{day:10,date:"2026-01-30",weekday:"",weather:"cloudy",temp:21,tips:"3",events:[{id:"10-1",time:"09:00",title:"",location:"Degraves Street",lat:-37.8166,lng:144.966,type:"food",notes:""},{id:"10-2",time:"10:30",title:"",location:"Queen Victoria Market",lat:-37.8076,lng:144.9568,type:"activity",notes:""},{id:"10-3",time:"13:00",title:"Bratwurst ",location:"QVM Deli Hall",lat:-37.8076,lng:144.9568,type:"food",notes:""},{id:"10-4",time:"15:00",title:"",location:"CBD",lat:-37.8136,lng:144.9631,type:"activity",notes:""}]},{day:11,date:"2026-01-31",weekday:"",weather:"sunny",temp:23,tips:"",events:[{id:"11-1",time:"10:00",title:"",location:"Spencer Outlet Centre",lat:-37.8155,lng:144.953,type:"activity",notes:""},{id:"11-2",time:"13:00",title:"",location:"Southbank Promenade",lat:-37.8205,lng:144.9654,type:"activity",notes:""},{id:"11-3",time:"19:00",title:" SkyBus ",location:"Southern Cross Station",lat:-37.8183,lng:144.9525,type:"transport",notes:" T2 "},{id:"11-4",time:"22:35",title:"(MEL)  (SIN)",location:"Tullamarine Airport (MEL)",type:"flight",notes:`Scoot TR 25
Booking: M87K4P`,bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 25",airline:"Scoot B787-9",departCode:"MEL",arriveCode:"SIN",departTerminal:"2",arriveTerminal:"1",duration:"7h 45m"}}]},{day:12,date:"2026-02-01",weekday:"",weather:"partly-cloudy",temp:20,tips:"",events:[{id:"12-1",time:"03:20",title:" ()",location:"Changi Airport (SIN)",type:"transport",notes:"Layover: 4h 50m"},{id:"12-2",time:"08:10",title:"(SIN)  (TPE)",location:"Changi Airport (SIN)",type:"flight",notes:"Scoot TR 874",bookingUrl:"https://www.flyscoot.com/",flightDetails:{flightNumber:"TR 874",airline:"Scoot B787-9",departCode:"SIN",arriveCode:"TPE",departTerminal:"1",arriveTerminal:"1",duration:"4h 35m"}},{id:"12-3",time:"12:45",title:"",location:"Taoyuan Intl Airport",type:"transport",notes:""}]}],bh=[{id:"1",title:"SkyBus ",type:"transport",url:"https://www.skybus.com.au/",details:""},{id:"2",title:" 2026 ",type:"ticket",url:"https://www.ticketmaster.com.au/australian-open-tickets/artist/1154563",details:"Ground Pass / RLA"},{id:"4",title:"",type:"ticket",url:"https://www.penguins.org.au/",details:" QR Code"}],lo=[{id:"todo",label:"",color:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",isDefault:!0},{id:"packing",label:"",color:"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",isDefault:!0},{id:"shopping",label:"",color:"bg-orange-50 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",isDefault:!0},{id:"gift",label:"",color:"bg-pink-50 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300",isDefault:!0},{id:"docs",label:"",color:"bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",isDefault:!0}],oo=[{id:"food",label:"",color:"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300",isDefault:!0},{id:"transport",label:"",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300",isDefault:!0},{id:"shopping",label:"",color:"bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300",isDefault:!0},{id:"ticket",label:"",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",isDefault:!0},{id:"hotel",label:"",color:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300",isDefault:!0},{id:"other",label:"",color:"bg-gray-100 text-gray-700 dark:bg-slate-700 dark:text-gray-300",isDefault:!0}],uo=[{id:"1",text:"",isCompleted:!1,category:"docs"},{id:"2",text:" ETA ",isCompleted:!1,category:"docs"},{id:"3",text:" ()",isCompleted:!1,category:"packing"}],zi="melbourne-trip-2026",Ah="melb_auth_token",Sh="porter",cn=e=>JSON.parse(JSON.stringify(e)),wC=()=>{const[e,t]=K.useState("itinerary"),[n,i]=K.useState([]),[a,r]=K.useState([]),[s,o]=K.useState([]),[u,h]=K.useState([]),[m,p]=K.useState([]),[g,y]=K.useState([]),[I,M]=K.useState(!0),[w,A]=K.useState("offline"),[b,x]=K.useState(!1),[D,P]=K.useState(!1),[H,v]=K.useState(""),[_,T]=K.useState(!1);K.useEffect(()=>{localStorage.getItem(Ah)===Sh&&x(!0)},[]);const S=q=>{q.preventDefault(),H===Sh?(localStorage.setItem(Ah,Sh),x(!0),P(!1),T(!1),v("")):T(!0)},R=()=>{window.confirm("")&&(localStorage.removeItem(Ah),x(!1))};K.useEffect(()=>{const q=Bi(Pi,"trips",zi),Y=bC(q,async At=>{if(A("connected"),At.exists()){const tt=At.data();tt.days&&i(tt.days),tt.expenses&&r(tt.expenses),tt.links&&o(tt.links),tt.todoCategories?p(tt.todoCategories):p(lo),tt.expenseCategories?y(tt.expenseCategories):y(oo),tt.todos?h(tt.todos):h(uo)}else await TC(q,{days:cn(Th),expenses:[],links:cn(bh),todos:cn(uo),todoCategories:cn(lo),expenseCategories:cn(oo)}),i(Th),o(bh),h(uo),p(lo),y(oo);M(!1)},At=>{console.error("Firebase sync error:",At),A("offline"),n.length===0&&(i(Th),o(bh),h(uo),p(lo),y(oo),M(!1))});return()=>Y()},[]);const C=q=>{if(!b)return;let Y;typeof q=="function"?Y=q(n):Y=q,i(Y);const At=Bi(Pi,"trips",zi);wa(At,{days:cn(Y)}).catch(tt=>console.error("Update failed",tt))},N=q=>{if(!b)return;let Y;typeof q=="function"?Y=q(a):Y=q,r(Y);const At=Bi(Pi,"trips",zi);wa(At,{expenses:cn(Y)}).catch(tt=>console.error("Update failed",tt))},ne=q=>{if(!b)return;let Y;typeof q=="function"?Y=q(s):Y=q,o(Y);const At=Bi(Pi,"trips",zi);wa(At,{links:cn(Y)}).catch(tt=>console.error("Update failed",tt))},me=q=>{if(!b)return;let Y;typeof q=="function"?Y=q(u):Y=q,h(Y);const At=Bi(Pi,"trips",zi);wa(At,{todos:cn(Y)}).catch(tt=>console.error("Update failed",tt))},G=q=>{if(!b)return;let Y;typeof q=="function"?Y=q(m):Y=q,p(Y);const At=Bi(Pi,"trips",zi);wa(At,{todoCategories:cn(Y)}).catch(tt=>console.error("Update failed",tt))},J=q=>{if(!b)return;let Y;typeof q=="function"?Y=q(g):Y=q,y(Y);const At=Bi(Pi,"trips",zi);wa(At,{expenseCategories:cn(Y)}).catch(tt=>console.error("Update failed",tt))},$=()=>{alert("")};return I?f.jsx("div",{className:"bg-slate-900 min-h-screen flex items-center justify-center text-white",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-accent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-sm font-medium",children:"..."})]})}):f.jsx("div",{className:"min-h-screen flex justify-center font-sans bg-gradient-to-br from-slate-100 to-blue-50 dark:from-slate-900 dark:to-slate-800 transition-colors duration-500",children:f.jsxs("div",{className:"w-full max-w-md bg-surface dark:bg-darkSurface h-screen flex flex-col shadow-2xl overflow-hidden relative transition-colors duration-500",children:[f.jsxs("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm pt-12 pb-3 px-6 flex justify-between items-center z-20 border-b border-gray-100 dark:border-slate-800 transition-colors",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-black text-primary dark:text-white tracking-tight",children:[e==="itinerary"&&"MelbGo ",e==="expenses"&&" ",e==="links"&&" ",e==="todo"&&" "]}),f.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[f.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium tracking-widest uppercase",children:e==="itinerary"?"Melbourne Trip":e==="expenses"?"Split Bills":e==="links"?"Bookings":"Checklist"}),w==="connected"?f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.5)]",title:""}):f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400",title:""})]})]}),f.jsx("button",{onClick:()=>b?R():P(!0),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",title:b?" ()":" ()",children:b?f.jsx(Zx,{className:"w-5 h-5 text-green-500"}):f.jsx(a0,{className:"w-5 h-5 text-gray-400"})})]}),f.jsxs("main",{className:"flex-1 overflow-hidden relative",children:[e==="itinerary"&&f.jsx(Uw,{days:n,setDays:C,onMapClick:$,isReadOnly:!b}),e==="expenses"&&f.jsx(Lw,{expenses:a,setExpenses:N,categories:g,setCategories:J,isReadOnly:!b}),e==="links"&&f.jsx(jw,{links:s,setLinks:ne,days:n,setDays:C,isReadOnly:!b}),e==="todo"&&f.jsx(Bw,{todos:u,setTodos:me,categories:m,setCategories:G,isReadOnly:!b})]}),f.jsxs("nav",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border-t border-gray-100 dark:border-slate-800 px-6 py-2 pb-6 flex justify-between items-center z-30 shadow-[0_-5px_15px_rgba(0,0,0,0.02)]",children:[f.jsxs("button",{onClick:()=>t("itinerary"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="itinerary"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx(Fx,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),f.jsxs("button",{onClick:()=>t("todo"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="todo"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx(wo,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),f.jsxs("button",{onClick:()=>t("expenses"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="expenses"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx(qx,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]}),f.jsxs("button",{onClick:()=>t("links"),className:`flex flex-col items-center space-y-1 w-12 transition-all duration-300 ${e==="links"?"text-primary dark:text-blue-400 scale-110":"text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400"}`,children:[f.jsx(Xd,{className:"w-6 h-6"}),f.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest",children:""})]})]}),D&&f.jsx("div",{className:"fixed inset-0 bg-primary/20 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-xs rounded-3xl p-6 shadow-2xl animate-in zoom-in-95",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(a0,{className:"w-6 h-6 text-gray-500 dark:text-gray-300"})}),f.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:""})]}),f.jsxs("form",{onSubmit:S,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("input",{type:"password",value:H,onChange:q=>{v(q.target.value),T(!1)},placeholder:"",className:`w-full p-3 bg-gray-50 text-gray-900 dark:bg-slate-700 dark:text-white rounded-xl border-none outline-none focus:ring-2 focus:ring-primary text-center tracking-widest ${_?"ring-2 ring-red-500 bg-red-50 dark:bg-red-900/20":""}`,autoFocus:!0}),_&&f.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:""})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{P(!1),T(!1),v("")},className:"flex-1 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl text-sm",children:""}),f.jsx("button",{type:"submit",className:"flex-1 py-3 bg-primary dark:bg-blue-600 text-white font-bold rounded-xl shadow-lg shadow-primary/20 dark:shadow-blue-900/30 text-sm",children:""})]})]})]})})]})})},gA=document.getElementById("root");if(!gA)throw new Error("Could not find root element to mount to");const NC=Gx.createRoot(gA);NC.render(f.jsx(uS.StrictMode,{children:f.jsx(wC,{})}));
